(function(){var $parcel$global="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{};function $parcel$export(t,e,a){Object.defineProperty(t,e,{get:a,enumerable:!0})}var $7d34be8d463e2ca1db325c31f9195886$exports={},$32a2bac29d448dd907e81e9c4e0927b4$export$default={FPS:60,ANTIALIAS:!1,BACKGROUND:"#000",ORIENTATION:0,WIDTH:360,HEIGHT:640,ORIGINAL_TILE_SIZE:32,TILE_SIZE:64,BOARD_WIDTH:10,BOARD_HEIGHT:5,SCALE:1,init:function(){this.SCALE=this.TILE_SIZE/this.ORIGINAL_TILE_SIZE}},$6634642aa2fec76f82297501f72839b3$export$default={area:null,viewport:null,debugHitbox:!1,debugBounds:!1,debugImage:!1};$parcel$global.px=function(t){return t*$32a2bac29d448dd907e81e9c4e0927b4$export$default.SCALE},$parcel$global.dispose=function(t,e){t&&("dispose"in t?t.dispose(e):"__dtor"in t&&t.__dtor())},$parcel$global.audioContext="AudioContext"in $parcel$global?new AudioContext:null,$parcel$global.fetchd=function(t,e){return new Promise(((a,i)=>{e||(e={}),"responseType"in e||(e.responseType="arraybuffer");var r=new XMLHttpRequest;for(var n in r.open("GET",t,!0),e)r[n]=e[n];r.onload=function(){a(r.response)},r.onerror=function(){i("Unable to fetch specified resource.")},r.send()}))},$parcel$global.fetchAudioBuffer=function(t){return new Promise(((e,a)=>{$parcel$global.audioContext?fetchd(t).then((t=>audioContext.decodeAudioData(t))).then((t=>e(t))).catch((t=>a(t))):a("AudioContext is not available.")}))},$parcel$global.int=function(t){return~~t},$parcel$global.bool=function(t){return!0===t||!1===t?t:"true"==t||"false"!=t&&!!t},$parcel$global.float=function(t){return parseFloat(t)},$parcel$global.float2=function(t){return~~(100*t)/100},$parcel$global.float3=function(t){return~~(1e3*t)/1e3},$parcel$global.float4=function(t){return~~(1e4*t)/1e4},$parcel$global.rad=function(t){return t*Math.PI/180},$parcel$global.rand=function(){return int(65536*Math.random())},$parcel$global.randf=function(){return Math.random()},$parcel$global.randrf=function(t,e){let a=Math.random();return a*e+(1-a)*t},$parcel$global.randr=function(t,e){let a=Math.random();return~~(a*e+(1-a)*t)},$parcel$global.randtf=function(t,e,a){for(var i=[],r=0;r<a;r++)i.push(randrf(t,e));return i},$parcel$global.hrnow=function(){return~~performance.now()},$parcel$global.randvar=function(t,e){return function(){return randr(t,e)}},$parcel$global.randitem=function(t,e,a){return e||(e=0),a||(a=t.length-1),function(){return t[randr(e,a)]}},$parcel$global.getLineSegmentIntersection=function(t,e,a,i,r,n,s,o){if(t==r&&e==n&&a==s&&i==o)return 0;var d=i-e,c=a-t,f=o-n,l=s-r;if(0==d&&0==f){if(e!=n)return 2;var u=Math.max(t,r);return u>Math.min(a,s)?2:(u-t)/c}if(0==c&&0==l){if(t!=r)return 2;var h=Math.max(e,n);return h>Math.min(i,o)?2:(h-e)/d}if(0==c)return 0>($=(f*(t-r)+l*(n-e))/(l*d))||$>1||0>(p=(t-r)/l)||p>1?2:$;var p,$,b=f*c-l*d;return 0==b||0>(p=(d*(r-t)+c*(e-n))/b)||p>1||0>($=(l*p+r-t)/c)||$>1?2:$},$parcel$global.lineSegmentIntersects=function(t,e,a,i,r,n,s,o){let d=getLineSegmentIntersection(t,e,a,i,r,n,s,o);return d>=0&&d<=1},$parcel$global.rotatePoint=function(t,e,a){return"object"==Rin.typeOf(t)?{x:e*t.x+a*t.y,y:a*t.x-e*t.y}:{x:e*Math.cos(t)+a*Math.sin(t),y:a*Math.cos(t)-e*Math.sin(t)}},$parcel$global.stepValue=function(t,e,a,i){return Math.round(i*(t-e)/(a-e))/i*(a-e)+e},$parcel$global.alignValue=function(t,e){return Math.round(t/e)*e};var $4a6c1ac792b9165745c3666b6559e0f5$export$default={BACKSPACE:8,TAB:9,ENTER:13,ESC:27,SPACE:32,PGUP:33,PGDN:34,END:35,HOME:36,INS:45,DEL:46,LEFT:37,UP:38,RIGHT:39,DOWN:40,NUM_PLUS:107,NUM_MINUS:109,NUM_ASTERISK:106,NUM_SLASH:111,NUM_DOT:110,NUM_0:96,NUM_1:97,NUM_2:98,NUM_3:99,NUM_4:100,NUM_5:101,NUM_6:102,NUM_7:103,NUM_8:104,NUM_9:105,D0:48,D1:49,D2:50,D3:51,D4:52,D5:53,D6:54,D7:55,D8:56,D9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90},$3cfc71de303eee1e948c94eb1134db65$exports={},$b43e5b05f717ffe6e1b7300e19f71d1d$exports={};let $b43e5b05f717ffe6e1b7300e19f71d1d$var$Rin=$b43e5b05f717ffe6e1b7300e19f71d1d$exports={};$b43e5b05f717ffe6e1b7300e19f71d1d$var$Rin.invokeLater=function(t){t&&setTimeout((function(){t()}),10)},$b43e5b05f717ffe6e1b7300e19f71d1d$var$Rin.wait=function(t){return new Promise((function(e,a){setTimeout(e,t)}))},$b43e5b05f717ffe6e1b7300e19f71d1d$var$Rin.typeOf=function(t){return t instanceof Array?"array":null===t?"null":(typeof t).toString().toLowerCase()},$b43e5b05f717ffe6e1b7300e19f71d1d$var$Rin.isArrayOrObject=function(t){switch($b43e5b05f717ffe6e1b7300e19f71d1d$var$Rin.typeOf(t)){case"array":case"object":return!0}return!1},$b43e5b05f717ffe6e1b7300e19f71d1d$var$Rin.clone=function(t){var e;if("array"==$b43e5b05f717ffe6e1b7300e19f71d1d$var$Rin.typeOf(t)){e=[];for(let a=0;a<t.length;a++)e.push($b43e5b05f717ffe6e1b7300e19f71d1d$var$Rin.clone(t[a]))}else if("object"==$b43e5b05f717ffe6e1b7300e19f71d1d$var$Rin.typeOf(t)){e={};for(let a in t)e[a]=$b43e5b05f717ffe6e1b7300e19f71d1d$var$Rin.clone(t[a])}else e=t;return e},$b43e5b05f717ffe6e1b7300e19f71d1d$var$Rin.merge=function(t,...e){if("array"==$b43e5b05f717ffe6e1b7300e19f71d1d$var$Rin.typeOf(t))for(let a=0;a<e.length;a++){let i=e[a];if("array"!=$b43e5b05f717ffe6e1b7300e19f71d1d$var$Rin.typeOf(i))t.push(i);else for(let e=0;e<i.length;e++)t.push($b43e5b05f717ffe6e1b7300e19f71d1d$var$Rin.clone(i[e]))}else if("object"==$b43e5b05f717ffe6e1b7300e19f71d1d$var$Rin.typeOf(t))for(let a=0;a<e.length;a++){let i=e[a];if("object"==$b43e5b05f717ffe6e1b7300e19f71d1d$var$Rin.typeOf(i))for(let e in i)$b43e5b05f717ffe6e1b7300e19f71d1d$var$Rin.isArrayOrObject(i[e])?e in t?$b43e5b05f717ffe6e1b7300e19f71d1d$var$Rin.merge(t[e],i[e]):t[e]=$b43e5b05f717ffe6e1b7300e19f71d1d$var$Rin.clone(i[e]):t[e]=i[e]}return t},$b43e5b05f717ffe6e1b7300e19f71d1d$var$Rin.override=function(t,...e){for(let a=0;a<e.length;a++)for(let i in e[a])t[i]=e[a][i];return t},$b43e5b05f717ffe6e1b7300e19f71d1d$var$Rin.partialCompare=function(t,e){if(null==t||null==e)return!1;if(t===e)return!0;for(var a in e)if(t[a]!=e[a])return!1;return!0},$b43e5b05f717ffe6e1b7300e19f71d1d$var$Rin.arrayFind=function(t,e,a){for(var i=0;t&&i<t.length;i++)if(this.partialCompare(t[i],e))return a?t[i]:i;return!!a&&null},$b43e5b05f717ffe6e1b7300e19f71d1d$var$Rin.indexOf=function(t,e,a=!1){if(a){for(let a=0;a<t.length;a++)if(t[a]===e)return a;return-1}for(let a in t)if(t[a]===e)return a;return-1},$b43e5b05f717ffe6e1b7300e19f71d1d$var$Rin.escape=function(t){return(t+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},$b43e5b05f717ffe6e1b7300e19f71d1d$var$Rin.ensureTypeOf=function(t,e){return!e||!t||e instanceof t||e.isInstanceOf&&t.prototype.className&&e.isInstanceOf(t.prototype.className)?e:new t(e)},$b43e5b05f717ffe6e1b7300e19f71d1d$var$Rin.isTypeOf=function(t,e){return!e||!t||e instanceof t||!!(e.isInstanceOf&&t.prototype.className&&e.isInstanceOf(t.prototype.className))},$b43e5b05f717ffe6e1b7300e19f71d1d$var$Rin.serialize=function(t){return JSON.stringify(t)},$b43e5b05f717ffe6e1b7300e19f71d1d$var$Rin.deserialize=function(t){return JSON.parse(t)},$b43e5b05f717ffe6e1b7300e19f71d1d$var$Rin.hookAppend=function(t,e,a,i=!0){const r=t[e];return t[e]=i?function(...t){if(!1!==r.apply(this,t))return a.apply(this,t)}:function(...t){return r.apply(this,t),a.apply(this,t)},{unhook:function(){t[e]=r}}},$b43e5b05f717ffe6e1b7300e19f71d1d$var$Rin.hookPrepend=function(t,e,a,i=!0){const r=t[e];return t[e]=i?function(...t){if(!1!==a.apply(this,t))return r.apply(this,t)}:function(...t){return a.apply(this,t),r.apply(this,t)},{unhook:function(){t[e]=r}}};let $3cfc71de303eee1e948c94eb1134db65$var$Rin=$b43e5b05f717ffe6e1b7300e19f71d1d$exports;$3cfc71de303eee1e948c94eb1134db65$var$Rin.Rin=$3cfc71de303eee1e948c94eb1134db65$var$Rin;var $052b1f411531cbbe26727ba52a77541d$exports={};let $052b1f411531cbbe26727ba52a77541d$var$Class=$052b1f411531cbbe26727ba52a77541d$exports=function(){};$052b1f411531cbbe26727ba52a77541d$var$Class._class=$052b1f411531cbbe26727ba52a77541d$var$Class,$052b1f411531cbbe26727ba52a77541d$var$Class._super={},$052b1f411531cbbe26727ba52a77541d$var$Class.prototype.className="Class",$052b1f411531cbbe26727ba52a77541d$var$Class.prototype.__ctor=function(){},$052b1f411531cbbe26727ba52a77541d$var$Class.prototype.__dtor=function(){},$052b1f411531cbbe26727ba52a77541d$var$Class.prototype.isInstanceOf=function(t){return(t="string"==$b43e5b05f717ffe6e1b7300e19f71d1d$exports.typeOf(t)?t:t.prototype?t.prototype.className:t.constructor.prototype.className)in this._super||this.className==t},$052b1f411531cbbe26727ba52a77541d$var$Class.prototype._initSuperRefs=function(){var t=this.constructor._super,e={};for(let a in t){let i={},r=t[a].prototype;for(let t in r)"function"==$b43e5b05f717ffe6e1b7300e19f71d1d$exports.typeOf(r[t])&&(i[t]=r[t].bind(this));e[a]=i}this._super=e},$052b1f411531cbbe26727ba52a77541d$var$Class.inherit=function(t){var e=this._class,a=e._super,i=e._class;if("function"==$b43e5b05f717ffe6e1b7300e19f71d1d$exports.typeOf(t)){for(let a in t._class)/^[A-Z]/.test(a)||(e[a]=t._class[a]);$b43e5b05f717ffe6e1b7300e19f71d1d$exports.override(e.prototype,t._class.prototype),$b43e5b05f717ffe6e1b7300e19f71d1d$exports.override(a,t._class._super),t._class.prototype.className&&(a[t._class.prototype.className]=t._class)}else $b43e5b05f717ffe6e1b7300e19f71d1d$exports.override(e.prototype,t);return e._super=a,e._class=i,e},$052b1f411531cbbe26727ba52a77541d$var$Class.prototype._extend=function(t,e){var a=function(...t){this._initSuperRefs(),this.__ctor.apply(this,t)};a._class=a,a._super={},$052b1f411531cbbe26727ba52a77541d$var$Class.inherit.call(a,t),delete a.prototype.className;for(let t=0;t<e.length;t++)a.inherit(e[t]);return delete a._super.Class,"classInit"in a.prototype&&a.prototype.classInit(),a},$052b1f411531cbbe26727ba52a77541d$var$Class.extend=function(...t){return this._class.prototype._extend(this,t)},$052b1f411531cbbe26727ba52a77541d$var$Class.create=function(t){return new(this.extend(t))},$3cfc71de303eee1e948c94eb1134db65$var$Rin.Class=$052b1f411531cbbe26727ba52a77541d$exports;var $94bb481b91327dd6237564f6af940d02$exports={};$94bb481b91327dd6237564f6af940d02$exports=$052b1f411531cbbe26727ba52a77541d$exports.extend({className:"Event",source:null,name:null,args:null,_async:!1,list:null,next:null,ret:null,original:null,i:-1,__ctor:function(t,e,a,i,r,n){this.source=t,this.name=a,this.args=i,this.cbHandler=r,this.cbContext=n,this.list=e,this.reset()},reset:function(){return this.next=null,this.ret=[],this._async=!1,this.i=-1,this},setSource:function(t){return this.source=t,this},wait:function(){return this._async=!0,this},resume:function(){for(this._async=!1;!(this._async||++this.i>=this.list.length);)if(!this.list[this.i].silent)if("string"==$b43e5b05f717ffe6e1b7300e19f71d1d$exports.typeOf(this.list[this.i].handler)){if(this.list[this.i].context){if(!this.list[this.i].context[this.list[this.i].handler])continue;if(!1===this.list[this.i].context[this.list[this.i].handler](this,this.args,this.list[this.i].data))break}else if(!1===$parcel$global[this.list[this.i].handler].call(null,this,this.args,this.list[this.i].data))break}else if(!1===this.list[this.i].handler.call(this.list[this.i].context,this,this.args,this.list[this.i].data))break;return this._async||(this.i>=this.list.length&&this.next&&this.next.resume(),this.cbHandler&&this.cbHandler.call(this.cbContext)),this},from:function(t){return this.original=t,this},enqueue:function(t){if(!t)return this;var e;for(e=this;null!=e.next;e=e.next);return e.next=t,t.from(this),this}}),$3cfc71de303eee1e948c94eb1134db65$var$Rin.Event=$94bb481b91327dd6237564f6af940d02$exports;var $ac7815888bc07ce55b0b361d50cb4c1f$exports={};let $ac7815888bc07ce55b0b361d50cb4c1f$var$Event=$94bb481b91327dd6237564f6af940d02$exports;$ac7815888bc07ce55b0b361d50cb4c1f$exports=$052b1f411531cbbe26727ba52a77541d$exports.extend({className:"EventDispatcher",listeners:null,namespace:null,__ctor:function(){this.listeners={}},setNamespace:function(t){return this.namespace=t,this},addEventListener:function(t,e,a,i){var r=(t=t.split(":"))[t.length-1],n=t.length>1?t[0]:null;return this.listeners[r]||(this.listeners[r]=[]),this.listeners[r].push({ns:n,handler:e,context:a,data:i,silent:0}),this},removeEventListener:function(t,e,a){var i=(t=t.split(":"))[t.length-1],r=t.length>1?t[0]:null;if("*"==i)for(var n in this.listeners)for(var s=this.listeners[n],o=0;o<s.length;o++){var d=!0;e&&(d=d&&s[o].handler===e),a&&(d=d&&s[o].context===a),r&&(d=d&&s[o].ns==r),d&&s.splice(o--,1)}else{if(!this.listeners[i])return this;for(s=this.listeners[i],o=0;o<s.length;o++){d=!0;e&&(d=d&&s[o].handler===e),a&&(d=d&&s[o].context===a),r&&(d=d&&s[o].ns==r),d&&s.splice(o--,1)}}return this},prepareEvent:function(t,e,a,i){var r=[],n=(t=t.split(":"))[t.length-1],s=t.length>1?t[0]:null;this.listeners[n]&&(r=r.concat(this.listeners[n])),this.listeners["*"]&&(r=r.concat(this.listeners["*"]));for(var o=0;o<r.length;o++)r[o].silent&&r.splice(o--,1);if(s)for(o=0;o<r.length;o++)r[o].ns!=s&&r.splice(o--,1);return new $ac7815888bc07ce55b0b361d50cb4c1f$var$Event(this,r,n,e,a,i)},silence:function(t,e){var a=(t=t.split(":"))[t.length-1],i=t.length>1?t[0]:null;if(e=!1===e?-1:1,"*"==a)for(var r in this.listeners)for(var n=this.listeners[r],s=0;s<n.length;s++)i&&n[s].ns!=i||(n[s].silent+=e);else{if(!this.listeners[a])return this;for(n=this.listeners[a],s=0;s<n.length;s++)i&&n[s].ns!=i||(n[s].silent+=e)}return this},dispatchEvent:function(t,e,a,i){return this.prepareEvent(this.namespace?this.namespace+":"+t:t,e,a,i).resume()}}),$3cfc71de303eee1e948c94eb1134db65$var$Rin.EventDispatcher=$ac7815888bc07ce55b0b361d50cb4c1f$exports;var $f7d6a4f9a6064b55c0764ec34b3dfdc2$exports={};let $f7d6a4f9a6064b55c0764ec34b3dfdc2$var$_Model=$f7d6a4f9a6064b55c0764ec34b3dfdc2$exports=$ac7815888bc07ce55b0b361d50cb4c1f$exports.extend({className:"Model",defaults:null,constraints:null,data:null,changedList:null,_silent:0,_level:0,__ctor:function(t,e){if(this._super.EventDispatcher.__ctor(),this.data={},null!=e)this.reset(e);else{var a=null;if(!this.defaults&&this.constraints){a={};for(var i in this.constraints){var r=this.constraints[i];null!==r.def&&void 0!==r.def?"function"==typeof r.def?a[i]=r.def():a[i]=r.def:a[i]=null}}this.reset(a)}this.init(),null!=t&&this.set(arguments[0],!0),this.constraints&&this.update(),this.ready()},reset:function(t,e){if(!this.defaults){if(!t||"object"!=$b43e5b05f717ffe6e1b7300e19f71d1d$exports.typeOf(t)&&"function"!=$b43e5b05f717ffe6e1b7300e19f71d1d$exports.typeOf(t))return this;this.defaults=t}return"function"==$b43e5b05f717ffe6e1b7300e19f71d1d$exports.typeOf(this.defaults)?this.data=this.defaults():this.data=$b43e5b05f717ffe6e1b7300e19f71d1d$exports.clone(this.defaults),!1===e||!1===t?this:this.update(null,!0)},init:function(){},ready:function(){},silent:function(t){return this._silent+=t?1:-1,this},_validate:function(t,e){if(!this.constraints||!this.constraints[t])return e;var a=this.constraints[t],i=e;for(var r in a)if($f7d6a4f9a6064b55c0764ec34b3dfdc2$var$_Model.Constraints[r])try{i=$f7d6a4f9a6064b55c0764ec34b3dfdc2$var$_Model.Constraints[r](this,a[r],t,i)}catch(e){if("null"==e.message)break;throw new Error(`Constraint [${r}:${a[r]}] failed on property '${t}'.`)}return i},_set:function(t,e){if(!this.constraints||!this.constraints[t])return this.data[t]=e,e;var a=this.constraints[t],i=(this.data[t],e);for(var r in a)if($f7d6a4f9a6064b55c0764ec34b3dfdc2$var$_Model.Constraints[r])try{i=$f7d6a4f9a6064b55c0764ec34b3dfdc2$var$_Model.Constraints[r](this,a[r],t,i)}catch(a){if("null"==a.message)break;this._silent||this.dispatchEvent("constraintError",{constraint:r,message:a.message,name:t,value:e});break}return this.data[t]=i},_propertyEvent:function(t,e,a,i){var r={name:t,old:e,value:a,level:this._level},n=this.dispatchEvent("propertyChanging",r);i?this.data[t]=r.value:r.value=this._set(t,r.value),null!=n&&n.ret.length&&!1===n.ret[0]||(this.dispatchEvent("propertyChanged."+t,r),this.dispatchEvent("propertyChanged",r),this.changedList.push(t))},set:function(){var t=arguments.length,e=!1,a=!1;if((t>2||2==t&&"object"==$b43e5b05f717ffe6e1b7300e19f71d1d$exports.typeOf(arguments[0]))&&"boolean"==$b43e5b05f717ffe6e1b7300e19f71d1d$exports.typeOf(arguments[t-1])&&!1===(e=arguments[--t])&&(a=!0),0==this._level&&(this.changedList=[]),this._level++,2==t)(this.data[arguments[0]]!=arguments[1]||e)&&(this._silent||a?this._set(arguments[0],arguments[1]):this._propertyEvent(arguments[0],this.data[arguments[0]],this._validate(arguments[0],arguments[1])));else for(var i in arguments[0])(this.data[i]!=arguments[0][i]||e)&&(this._silent||a?this._set(i,arguments[0][i]):this._propertyEvent(i,this.data[i],this._validate(i,arguments[0][i])));return--this._level||!this.changedList.length||a||this._silent||this.dispatchEvent("modelChanged",{fields:this.changedList}),this},has:function(t){return t in this.data},get:function(t,e){return 0==arguments.length||!1===t?this.data:1==arguments.length&&!0===t?this.flatten():2==arguments.length&&void 0===this.data[t]?e:this.data[t]},getInt:function(t,e){return 2==arguments.length&&void 0===this.data[t]?e:parseInt(this.data[t])},getFloat:function(t,e){return 2==arguments.length&&void 0===this.data[t]?e:parseFloat(this.data[t])},getBool:function(t,e){return"true"===(t=2==arguments.length&&void 0===this.data[t]?e:this.data[t])||!0===t||"false"!==t&&!1!==t&&!!parseInt(t)},getReference:function(t){var e=this;return{get:function(){return e.get(t)},set:function(a){e.set(t,a)}}},constraint:function(t,e,a){if(3==arguments.length||2==arguments.length||1==arguments.length&&"object"==$b43e5b05f717ffe6e1b7300e19f71d1d$exports.typeOf(t)){switch(this.constraints===this.constructor.prototype.constraints&&(this.constraints=$b43e5b05f717ffe6e1b7300e19f71d1d$exports.clone(this.constraints)),arguments.length){case 1:$b43e5b05f717ffe6e1b7300e19f71d1d$exports.override(this.constraints,t);break;case 2:$b43e5b05f717ffe6e1b7300e19f71d1d$exports.override(this.constraints[t],e);break;case 3:this.constraints[t][e]=a}return this}return t?this.constraints[t]:this},flatten:function(t,e){if(t)return null==(r=this.flatten(!1,!0))?null:(r.class=this.classPath,r);if(!this.constraints&&!this.defaults)return this.data;if(!this.isCompliant())return{};var a=this.constraints,i=this.defaults?"function"==$b43e5b05f717ffe6e1b7300e19f71d1d$exports.typeOf(this.defaults)?this.defaults():this.defaults:this.constraints,r={};for(var n in this.data)if(n in i){if(a&&a[n]){var s=a[n];if(s.model){r[n]=this.data[n]?this.data[n].flatten(e):null;continue}if(s.arrayof){r[n]=[];for(var o=0;o<this.data[n].length;o++)r[n][o]=this.data[n][o]?this.data[n][o].flatten(e):null;continue}if(s.cls){r[n]=this.data[n]?this.data[n].flatten():null;continue}}r[n]=this.data[n]}return r},remove:function(t,e){if("array"==$b43e5b05f717ffe6e1b7300e19f71d1d$exports.typeOf(t)){for(var a=0;a<t.length;a++)delete this.data[t[a]];!1===e||this._silent||this.dispatchEvent("propertyRemoved",{fields:t})}else delete this.data[t],!1===e||this._silent||this.dispatchEvent("propertyRemoved",{fields:[t]})},update:function(t,e){if(this._silent)return this;if(0==this._level&&(this.changedList=[]),this._level++,t&&"string"==$b43e5b05f717ffe6e1b7300e19f71d1d$exports.typeOf(t))this._propertyEvent(t,this.data[t],this.data[t],e);else if(t&&"array"==$b43e5b05f717ffe6e1b7300e19f71d1d$exports.typeOf(t))for(var a of t)this._propertyEvent(a,this.data[a],this.data[a],e);else for(var a in this.data)this._propertyEvent(a,this.data[a],this.data[a],e);return--this._level||this._silent||0==this.changedList.length&&!0!==t||this.dispatchEvent("modelChanged",{fields:this.changedList}),this},validate:function(t){if(!this.constraints)return this;if(t&&"string"==$b43e5b05f717ffe6e1b7300e19f71d1d$exports.typeOf(t))this._set(t,this.data[t]);else for(var e in this.data)t&&-1==$b43e5b05f717ffe6e1b7300e19f71d1d$exports.indexOf(t,e)||this._set(e,this.data[e]);return this},isCompliant:function(){if(!this.constraints)return!0;try{for(var t in this.data)this._validate(t,this.data[t]);return!0}catch(t){}return!1},observe:function(t,e,a){this.addEventListener("propertyChanged."+t,e,a)},unobserve:function(t,e,a){this.removeEventListener("propertyChanged."+t,e,a)},toString:function(){return $b43e5b05f717ffe6e1b7300e19f71d1d$exports.serialize(this.get(!0))}});var $fc140f4ec76eebfc7b3fcd7c46c5cfd9$exports={};$fc140f4ec76eebfc7b3fcd7c46c5cfd9$exports={email:/^[_a-z0-9-]+(\.[_a-z0-9-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)+$/i,url:/^[\w-]+:\/\/[\w-]+(\.\w+)+.*$/,urlNoProt:/^[\w-]+(\.\w+)+.*$/,name:/^[-A-Za-z0-9_.]+$/,uname:/^['\pL\pN ]+$/,text:/^[^&<>{}]*$/,utext:/^([\r\n\pL\pN\pS &!@#$%*\[\]()_+=;',.\/?:"~-]+)$/};var $80f39ff03b0660424e539c7f2221d6e6$exports=function(){var exports=this,module={exports:this};let Rin=$b43e5b05f717ffe6e1b7300e19f71d1d$exports,Regex=$fc140f4ec76eebfc7b3fcd7c46c5cfd9$exports;return module.exports={_getref:function(value,obj){return"string"==typeof value?("#"==value.substr(0,1)?value=obj.get(value.substr(1)):"@"==value.substr(0,1)&&(value=obj[value.substr(1)]),"string"==typeof value?eval(value):value):value},type:function(t,e,a,i){switch(e){case"int":if(i=parseInt(i),isNaN(i))throw new Error(e);break;case"float":if(i=parseFloat(i),isNaN(i))throw new Error(e);break;case"string":i=null==i?"":i.toString();break;case"bit":if(!0===i||!1===i){i=i?1:0;break}if(i=parseInt(i),isNaN(i))throw new Error(e);i=i?1:0;break;case"array":if("array"==Rin.typeOf(i))break;if(null==i){i=[];break}throw new Error(e);case"bool":if("true"===i||!0===i){i=!0;break}if("false"===i||!1===i){i=!1;break}throw new Error(e)}return i},model:function(t,e,a,i){var r=this._getref(e,t);if(!r)throw new Error(e);return i?r.ensure(i):new r},cls:function(t,e,a,i){var r=this._getref(e,t);return i?Rin.ensureTypeOf(r,i):new r},arrayof:function(t,e,a,i){var r=this._getref(e,t);if(i||(i=[]),!r||"array"!=Rin.typeOf(i))throw new Error(e);for(var n=0;n<i.length;n++)i[n]=Rin.ensureTypeOf(r,i[n]);return i},arraynull:function(t,e,a,i){var r=!1;if("object"==Rin.typeOf(e)&&(e.remove&&(r=e.remove),e=e.value),e)return i;if("array"!=Rin.typeOf(i))throw new Error(e);for(var n=0;n<i.length;n++)if(null==i[n]){if(!r)throw new Error(e);i.splice(n--,1)}return i},arraycompliant:function(t,e,a,i){var r=!1;if("object"==Rin.typeOf(e)&&(e.remove&&(r=e.remove),e=e.value),!e)return i;if("array"!=Rin.typeOf(i))throw new Error(e);for(var n=0;n<i.length;n++)if(null!=i[n]&&!i[n].isCompliant()){if(!r)throw new Error(e);i.splice(n--,1)}return i},required:function(t,e,a,i){if(null==i)throw new Error(e?"":"null");switch(Rin.typeOf(i)){case"array":if(0==i.length)throw new Error(e?"":"null");break;default:if(0==i.toString().length)throw new Error(e?"":"null")}return i},minlen:function(t,e,a,i){if(i.toString().length<e)throw new Error(e);return i},maxlen:function(t,e,a,i){if(i.toString().length>e)throw new Error(e);return i},minval:function(t,e,a,i){if(parseFloat(i)<e)throw new Error(e);return i},maxval:function(t,e,a,i){if(parseFloat(i)>e)throw new Error(e);return i},mincount:function(t,e,a,i){if("array"!=Rin.typeOf(i)||i.length<e)throw new Error(e);return i},maxcount:function(t,e,a,i){if("array"!=Rin.typeOf(i)||i.length>e)throw new Error(e);return i},pattern:function(t,e,a,i){if(!Regex[e].test(i.toString()))throw new Error(e);return i},inset:function(t,e,a,i){if("array"!=Rin.typeOf(e)){if(!new RegExp("^("+e.toString()+")$").test(i.toString()))throw new Error(e);return i}if(-1==e.indexOf(i.toString()))throw new Error(e.join("|"));return i},upper:function(t,e,a,i){return e?i.toString().toUpperCase():i},lower:function(t,e,a,i){return e?i.toString().toLowerCase():i}},module.exports}.call({});$f7d6a4f9a6064b55c0764ec34b3dfdc2$var$_Model.Constraints=$80f39ff03b0660424e539c7f2221d6e6$exports,$3cfc71de303eee1e948c94eb1134db65$var$Rin.Model=$f7d6a4f9a6064b55c0764ec34b3dfdc2$exports;var $ef5243bc6525c4841b6d2e0bc35372bb$exports={};let $ef5243bc6525c4841b6d2e0bc35372bb$var$Model=$f7d6a4f9a6064b55c0764ec34b3dfdc2$exports;$ef5243bc6525c4841b6d2e0bc35372bb$exports=$ef5243bc6525c4841b6d2e0bc35372bb$var$Model.extend({className:"ModelList",itemt:$ef5243bc6525c4841b6d2e0bc35372bb$var$Model,contents:null,itemId:null,nextId:null,defaults:{contents:null},constraints:{contents:{type:"array",arrayof:"@itemt"}},__ctor:function(...t){this.itemId=[],this.nextId=0,this._super.Model.__ctor(...t)},ready:function(){this._eventGroup="ModelList_"+Date.now()+":modelChanged",this.contents=this.data.contents},_bind:function(t,e){return e&&e.addEventListener&&e.addEventListener(this._eventGroup,this._onItemEvent,this,t),e},_unbind:function(t){return t&&t.removeEventListener&&t.removeEventListener(this._eventGroup),t},_onItemEvent:function(t,e,a){this.prepareEvent("itemChanged",{id:a,item:t.source}).from(t).enqueue(this.prepareEvent("modelChanged",{fields:["contents"]})).resume()},length:function(){return this.data.contents.length},clear:function(){for(var t=0;t<this.data.contents;t++)this._unbind(this.data.contents[t]);this.itemId=[],this.nextId=0,this.data.contents=[],this.prepareEvent("itemsCleared").enqueue(this.prepareEvent("modelChanged",{fields:["contents"]})).resume()},setData:function(t){if(this.clear(),t){for(var e=0;e<t.length;e++){var a=$b43e5b05f717ffe6e1b7300e19f71d1d$exports.ensureTypeOf(this.itemt,t[e]);this.itemId.push(this.nextId++),this.data.contents.push(a),this._bind(this.nextId-1,a)}this.prepareEvent("itemsChanged").enqueue(this.prepareEvent("modelChanged",{fields:["contents"]})).resume()}},getData:function(){return this.data.contents},getAt:function(t){return t<0||t>=this.data.contents.length?null:this.data.contents[t]},removeAt:function(t){if(t<0||t>=this.data.contents.length)return null;let e=this.data.contents.splice(t,1)[0],a=this.itemId.splice(t,1)[0];return this._unbind(e),this.prepareEvent("itemRemoved",{id:a,item:e}).enqueue(this.prepareEvent("modelChanged",{fields:["contents"]})).resume(),e},setAt:function(t,e){return!(t<0||t>=this.data.contents.length)&&(e=$b43e5b05f717ffe6e1b7300e19f71d1d$exports.ensureTypeOf(this.itemt,e),this._unbind(this.data.contents[t]),this.data.contents[t]=e,this._bind(this.itemId[t],e),this.prepareEvent("itemChanged",{id:this.itemId[t],item:e}).enqueue(this.prepareEvent("modelChanged",{fields:["contents"]})).resume(),!0)},updateAt:function(t){return!(t<0||t>=this.data.contents.length)&&(this.prepareEvent("itemChanged",{id:this.itemId[t],item:this.data.contents[t]}).enqueue(this.prepareEvent("modelChanged",{fields:["contents"]})).resume(),!0)},push:function(t){return t&&"object"!=$b43e5b05f717ffe6e1b7300e19f71d1d$exports.typeOf(t)?null:(t=$b43e5b05f717ffe6e1b7300e19f71d1d$exports.ensureTypeOf(this.itemt,t),this.itemId.push(this.nextId++),this.data.contents.push(t),this._bind(this.nextId-1,t),this.prepareEvent("itemAdded",{id:this.itemId[this.itemId.length-1],item:t,position:"tail"}).enqueue(this.prepareEvent("modelChanged",{fields:["contents"]})).resume(),t)},pop:function(){return this._unbind(this.data.contents.pop())},unshift:function(t){return t&&"object"!=$b43e5b05f717ffe6e1b7300e19f71d1d$exports.typeOf(t)?null:(t=$b43e5b05f717ffe6e1b7300e19f71d1d$exports.ensureTypeOf(this.itemt,t),this.itemId.unshift(this.nextId++),this.data.contents.unshift(t),this._bind(this.nextId-1,t),this.prepareEvent("itemAdded",{id:this.itemId[0],item:t,position:"head"}).enqueue(this.prepareEvent("modelChanged",{fields:["contents"]})).resume(),t)},shift:function(){return this._unbind(this.data.contents.shift())},find:function(t,e){for(var a=this.data.contents,i=0;i<a.length;i++)if($b43e5b05f717ffe6e1b7300e19f71d1d$exports.partialCompare(a[i].data,t))return e?a[i]:i;return e?null:-1}}),$3cfc71de303eee1e948c94eb1134db65$var$Rin.ModelList=$ef5243bc6525c4841b6d2e0bc35372bb$exports;var $a69a2b3513a81e23bda58982208b78a8$exports={};let $a69a2b3513a81e23bda58982208b78a8$var$Schema=$a69a2b3513a81e23bda58982208b78a8$exports={Type:function(t){let e={flatten:function(t,e){return t},unflatten:function(t,e){return t}};return t?$b43e5b05f717ffe6e1b7300e19f71d1d$exports.override(e,t):e},String:function(){return $a69a2b3513a81e23bda58982208b78a8$var$Schema.Type({flatten:function(t,e){return null!=t?t.toString():null},unflatten:function(t,e){return null!=t?t.toString():null}})},Integer:function(){return $a69a2b3513a81e23bda58982208b78a8$var$Schema.Type({flatten:function(t,e){return~~t},unflatten:function(t,e){return~~t}})},Number:function(t){return $a69a2b3513a81e23bda58982208b78a8$var$Schema.Type({_precision:t,_round:!1,precision:function(t){return this._precision=~~t,this},flatten:function(t,e){return t=parseFloat(t),this._precision>0&&(t=~~(t*Math.pow(10,this._precision))/Math.pow(10,this._precision)),t},unflatten:function(t,e){return parseFloat(t)}})},Bool:function(t){return $a69a2b3513a81e23bda58982208b78a8$var$Schema.Type({_compact:t,compact:function(t){return this._compact=t,this},flatten:function(t,e){return t=~~t,this._compact?t>0?1:0:t>0},unflatten:function(t,e){return!!~~t}})},SharedString:function(){return $a69a2b3513a81e23bda58982208b78a8$var$Schema.Type({flatten:function(t,e){return null==t?0:(t=t.toString(),"strings"in e||(e.strings_map={},e.strings=[]),t in e.strings_map||(e.strings.push(t),e.strings_map[t]=e.strings.length),e.strings_map[t])},unflatten:function(t,e){return null==t||0==t?null:e.strings[~~t-1]}})},Array:function(t){return $a69a2b3513a81e23bda58982208b78a8$var$Schema.Type({itemType:t,_debug:!1,debug:function(t){return this._debug=t,this},of:function(t){return this.itemType=t,this},flatten:function(t,e){if(null==t)return null;let a=[];for(let i=0;i<t.length;i++)a.push(this.itemType.flatten(t[i],e));return a},unflatten:async function(t,e){if(null==t)return null;let a=[];for(let i=0;i<t.length;i++)a.push(await this.itemType.unflatten(t[i],e));return a}})},Object:function(){return $a69a2b3513a81e23bda58982208b78a8$var$Schema.Type({properties:[],property:function(t,e,a=null){return this.properties.push({name:t,type:e,defvalue:a}),this},flatten:function(t,e){if(null==t)return null;let a;if(!0===e.symbolic){a={};for(let i=0;i<this.properties.length;i++)a[this.properties[i].name]=this.properties[i].type.flatten(t[this.properties[i].name],e)}else{a=[];for(let i=0;i<this.properties.length;i++)a.push(this.properties[i].type.flatten(t[this.properties[i].name],e))}return a},unflatten:async function(t,e){if(null==t)return null;let a={};if(!0===e.symbolic)for(let i=0;i<this.properties.length;i++)a[this.properties[i].name]=await this.properties[i].type.unflatten(this.properties[i].name in t?t[this.properties[i].name]:this.properties[i].defvalue,e);else for(let i=0;i<this.properties.length;i++)a[this.properties[i].name]=await this.properties[i].type.unflatten(i in t?t[i]:this.properties[i].defvalue,e);return a}})},Class:function(t){return $a69a2b3513a81e23bda58982208b78a8$var$Schema.Type({_constructor:t,constructor:function(t){return this._constructor=t,this},flatten:function(t,e){return null==t?null:t.flatten(e)},unflatten:async function(t,e){return null==t?null:await(new this._constructor).unflatten(t,e)}})},Property:function(t,e){return $a69a2b3513a81e23bda58982208b78a8$var$Schema.Type({property:t,type:e,name:function(t){return this.property=t,this},is:function(t){return this.type=t,this},flatten:function(t,e){if(null==t)return null;let a;return!0===e.symbolic?(a={},a[this.property]=this.type.flatten(t[this.property],e)):a=this.type.flatten(t[this.property],e),a},unflatten:async function(t,e){if(null==t)return null;let a={};return!0===e.symbolic?a[this.property]=await this.type.unflatten(t[this.property],e):a[this.property]=await this.type.unflatten(t,e),a}})},Map:function(){return $a69a2b3513a81e23bda58982208b78a8$var$Schema.Type({flatten:function(t,e){if(null==t)return null;if(!0===e.symbolic)return t;let a=[];for(let e in t)a.push(e),a.push(t[e]);return a},unflatten:function(t,e){if(null==t)return null;if(!0===e.symbolic)return t;let a={};for(let e=0;e<t.length;e+=2)a[t[e]]=t[e+1];return a}})}};$3cfc71de303eee1e948c94eb1134db65$var$Rin.Schema=$a69a2b3513a81e23bda58982208b78a8$exports;var $757b0d5a8f75e93ceb97e12c1928823d$exports={};$757b0d5a8f75e93ceb97e12c1928823d$exports=$052b1f411531cbbe26727ba52a77541d$exports.extend({className:"Flattenable",typeSchema:null,flatten:function(t){return this.typeSchema.flatten(this,t)},unflatten:async function(t,e){return Object.assign(this,await this.typeSchema.unflatten(t,e)),await this.onUnflattened(),this},onUnflattened:async function(){}}),$3cfc71de303eee1e948c94eb1134db65$var$Rin.Flattenable=$757b0d5a8f75e93ceb97e12c1928823d$exports;var $67410f32ffc0b1407054c1702a785fa6$exports={};$67410f32ffc0b1407054c1702a785fa6$exports=$757b0d5a8f75e93ceb97e12c1928823d$exports.extend({className:"Collection",itemTypeSchema:null,items:null,__ctor:function(t){t||(t=this.itemTypeSchema),t&&(this.typeSchema=$a69a2b3513a81e23bda58982208b78a8$exports.Property("items").is($a69a2b3513a81e23bda58982208b78a8$exports.Array().of(t))),this.reset()},onUnflattened:function(){let t=this.items;this.reset();for(let e of t)this.add(e)},reset:function(){return this.items=[],this},clear:function(){var t=this.items;this.reset();for(var e=0;e<t.length;e++)this.onItemRemoved(t[e],0);return this},sort:function(t,e){return"function"!=typeof t?this.items.sort((function(a,i){return(a[t]<=i[t]?-1:1)*(!0===e?-1:1)})):this.items.sort(t),this},findItem:function(t,e){if(!this.items)return null;for(var a=0;a<this.items.length;a++)if((!e||!$b43e5b05f717ffe6e1b7300e19f71d1d$exports.partialCompare(this.items[a],e))&&$b43e5b05f717ffe6e1b7300e19f71d1d$exports.partialCompare(this.items[a],t))return this.items[a];return null},getItems:function(){return this.items},length:function(){return this.items.length},isEmpty:function(){return!this.items.length},indexOf:function(t){return this.items.indexOf(t)},getAt:function(t,e=!1){return t<0&&1==e&&(t+=this.items.length),t>=0&&t<this.items.length?this.items[t]:null},first:function(){return this.getAt(0)},last:function(){return this.getAt(-1,!0)},addAt:function(t,e){if(!e||!this.onBeforeItemAdded(e))return this;if(t<0&&(t=0),t>this.items.length&&(t=this.items.length),0==t)this.items.unshift(e);else if(t==this.items.length)this.items.push(e);else{var a=this.items.splice(0,t);a.push(e),this.items=a.concat(this.items)}return this.onItemAdded(e),this},unshift:function(t){return this.addAt(0,t)},push:function(t){return this.addAt(this.items.length,t)},add:function(t){return this.push(t)},removeAt:function(t,e=!1){if(t<0&&1==e&&(t+=this.items.length),t<0||t>=this.items.length)return null;var a=this.items[t];return this.items.splice(t,1),this.onItemRemoved(a,t),a},pop:function(t){return this.removeAt(-1,!0)},shift:function(t){return this.removeAt(0)},remove:function(t){return this.removeAt(this.indexOf(t))},forEach:function(t){if(this.isEmpty())return this;for(var e=0;e<this.items.length&&!1!==t(this.items[e],e,this);e++);return this},forEachCall:function(t,...e){if(this.isEmpty())return this;for(var a=0;a<this.items.length&&!1!==this.items[a][t](...e);a++);return this},forEachRev:function(t){if(this.isEmpty())return this;for(var e=this.items.length-1;e>=0&&!1!==t(this.items[e],e,this);e--);return this},forEachRevCall:function(t,...e){if(this.isEmpty())return this;for(var a=this.items.length-1;a>=0&&!1!==this.items[a][t](...e);a--);return this},onBeforeItemAdded:function(t){return!0},onItemAdded:function(t){},onItemRemoved:function(t){}}),$3cfc71de303eee1e948c94eb1134db65$var$Rin.Collection=$67410f32ffc0b1407054c1702a785fa6$exports;var $dba38e8a4d857a03d92455990d19777e$exports={};let $dba38e8a4d857a03d92455990d19777e$var$Template=$dba38e8a4d857a03d92455990d19777e$exports={strict:!1,parseTemplate:function(t,e,a,i=!1,r=1){let n="string",s=null,o=0,d=0,c="",f=[],l=f,u=!1;function h(t,i){if("template"==t?i=$dba38e8a4d857a03d92455990d19777e$var$Template.parseTemplate(i,e,a,!0,0):"parse"==t?(i=$dba38e8a4d857a03d92455990d19777e$var$Template.parseTemplate(i,e,a,!1,0),t="base-string","array"==$b43e5b05f717ffe6e1b7300e19f71d1d$exports.typeOf(i)&&(t=i[0].type,i=i[0].data)):"parse-trim-merge"==t?i=$dba38e8a4d857a03d92455990d19777e$var$Template.parseTemplate(i.trim().split("\n").map((t=>t.trim())).join("\n"),e,a,!1,0):"parse-merge"==t?i=$dba38e8a4d857a03d92455990d19777e$var$Template.parseTemplate(i,e,a,!1,0):"parse-merge-alt"==t&&(i=$dba38e8a4d857a03d92455990d19777e$var$Template.parseTemplate(i,"{","}",!1,0)),"parse-merge"==t||"parse-merge-alt"==t||"parse-trim-merge"==t)for(let t=0;t<i.length;t++)f.push(i[t]);else f.push({type:t,data:i});u&&(l.push(f=[]),u=!1)}!0===i&&(t=t.trim(),n="identifier",o=10,l.push(f=[])),t+="\0";for(let i=0;i<t.length;i++)if("\\"!=t[i]){switch(o){case 0:"\0"==t[i]?s="string":t[i]==e&&"<"==t[i+1]?(o=1,d=1,s="string",n="parse-merge"):t[i]==e&&"@"==t[i+1]?(o=1,d=1,s="string",n="parse-trim-merge",i++):t[i]==e&&":"==t[i+1]?(o=12,d=1,s="string",n="string",i++):t[i]==e?(o=1,d=1,s="string",n="template"):c+=t[i];break;case 1:if("\0"==t[i])throw new Error("Parse error: Unexpected end of template");if(t[i]==a){if(d--,d<0)throw new Error("Parse error: Unmatched "+a);if(0==d){o=0,s=n;break}}else t[i]==e&&d++;c+=t[i];break;case 10:if("\0"==t[i]){s=n;break}if("."==t[i]){h(n,c),h("access","."),n="identifier",c="";break}if(null!=t[i].match(/[\t\n\r\f\v ]/)){for(s=n,n="identifier",u=!0;null!=t[i].match(/[\t\n\r\f\v ]/);)i++;i--;break}if(t[i]==e&&"<"==t[i+1]){c&&(s=n),o=11,d=1,n="parse-merge";break}if(t[i]==e&&"@"==t[i+1]){c&&(s=n),o=11,d=1,n="parse-trim-merge",i++;break}if('"'==t[i]){c&&(s=n),o=14,d=1,n="parse-merge";break}if("'"==t[i]){c&&(s=n),o=15,d=1,n="parse-merge";break}if("`"==t[i]){c&&(s=n),o=16,d=1,n="parse-merge-alt";break}if(t[i]==e&&":"==t[i+1]){c&&(s=n),o=13,d=1,n="string",i++;break}if(t[i]==e){c&&h(n,c),o=11,d=1,c="",n="parse",c+=t[i];break}"identifier"!=n&&(h(n,c),c="",n="identifier"),c+=t[i];break;case 11:if("\0"==t[i])throw new Error("Parse error: Unexpected end of template");if(t[i]==a){if(d--,d<0)throw new Error("Parse error: Unmatched "+a);if(0==d&&(o=10,"parse-merge"==n||"parse-merge-alt"==n||"parse-trim-merge"==n))break}else t[i]==e&&d++;c+=t[i];break;case 12:if("\0"==t[i])throw new Error("Parse error: Unexpected end of template");if(t[i]==a){if(d--,d<0)throw new Error("Parse error: Unmatched "+a);if(0==d){0!=c.length&&"<"!=c[0]&&"["!=c[0]&&" "!=c[0]&&(c=e+c+a),o=0,s=n;break}}else t[i]==e&&d++;c+=t[i];break;case 13:if("\0"==t[i])throw new Error("Parse error: Unexpected end of template");if(t[i]==a){if(d--,d<0)throw new Error("Parse error: Unmatched "+a);if(0==d){"<"!=c[0]&&"["!=c[0]&&" "!=c[0]&&(c=e+c+a),o=10;break}}else t[i]==e&&d++;c+=t[i];break;case 14:if("\0"==t[i])throw new Error("Parse error: Unexpected end of template");if('"'==t[i]){if(d--,d<0)throw new Error('Parse error: Unmatched "');if(0==d&&(o=10,"parse-merge"==n||"parse-merge-alt"==n||"parse-trim-merge"==n))break}c+=t[i];break;case 15:if("\0"==t[i])throw new Error("Parse error: Unexpected end of template");if("'"==t[i]){if(d--,d<0)throw new Error("Parse error: Unmatched '");if(0==d&&(o=10,"parse-merge"==n||"parse-merge-alt"==n||"parse-trim-merge"==n))break}c+=t[i];break;case 16:if("\0"==t[i])throw new Error("Parse error: Unexpected end of template");if("`"==t[i]){if(d--,d<0)throw new Error("Parse error: Unmatched `");if(0==d&&(o=10,"parse-merge"==n||"parse-merge-alt"==n||"parse-trim-merge"==n))break}c+=t[i]}s&&(h(s,c),s=c="")}else c+="\\",c+=t[++i];if(!i){let t=0;for(;t<l.length&&"string"==l[t].type&&""==l[t].data;)l.splice(t,1);for(t=l.length-1;t>0&&"string"==l[t].type&&""==l[t].data;)l.splice(t--,1);0==l.length&&l.push({type:"string",data:""})}return r&&function t(e){if("object"==typeof e){if(e instanceof Array)for(let a=0;a<e.length;a++)t(e[a]);else e.data=t(e.data);return e}for(let t=0;t<e.length;t++)if("\\"==e[t]){let a=e[t+1];switch(a){case"n":a="\n";break;case"r":a="\r";break;case"f":a="\f";break;case"v":a="\v";break;case"t":a="\t";break;case"s":a="s";break;case'"':a='"';break;case"'":a="'"}e=e.substr(0,t)+a+e.substr(t+2)}return e}(l),l},parse:function(t){return this.parseTemplate(t.trim(),"[","]",!1)},clean:function(t){for(let e=0;e<t.length;e++)"template"!=t[e].type&&(t.splice(e,1),e--);return t},expand:function(t,e,a="text",i="base-string"){let r=[];if("var"==i){let a=!0,i=!1,n=e,s=null,o=!0,d="";for(let r=0;r<t.length&&null!=e;r++)switch(t[r].type){case"identifier":case"string":d+=t[r].data,s=null;break;case"template":s=this.expand(t[r].data,n,"arg","template"),d+="object"!=typeof s?s:"";break;case"base-string":d+=this.expand(t[r].data,n,"arg","base-string"),s=null;break;case"access":if(s&&"object"==typeof s)e=s;else{for(""==d&&(d="this");;)if("!"==d[0])d=d.substr(1),a=!1;else{if("$"!=d[0])break;d=d.substr(1),i=!0}if("this"!=d&&null!=e){let t=e;null===(e=d in e?e[d]:null)&&o&&d in $dba38e8a4d857a03d92455990d19777e$var$Template.functions&&(e=$dba38e8a4d857a03d92455990d19777e$var$Template.functions[d](null,null,t)),o=!1}}d=""}for(;""!=d;)if("!"==d[0])d=d.substr(1),a=!1;else{if("$"!=d[0])break;d=d.substr(1),i=!0}if("this"!=d){let a=!1;if(null!=e?d in e?e=e[d]:(a=!0,e=null):a=!0,a&&1==t.length&&1==$dba38e8a4d857a03d92455990d19777e$var$Template.strict)throw new Error("Expression function `"+d+"` not found.")}"string"==typeof e&&(a&&(e=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),i&&(e='"'+e+'"')),r.push(e)}if("varref"==a){let a=e,i=null,r=!0,n="";for(let s=0;s<t.length&&null!=e;s++)switch(t[s].type){case"identifier":case"string":n+=t[s].data,i=null;break;case"template":i=this.expand(t[s].data,a,"arg","template"),n+="object"!=typeof i?i:"";break;case"base-string":n+=this.expand(t[s].data,a,"arg","base-string"),i=null;break;case"access":if(i&&"object"==typeof i)e=i;else{for(""==n&&(n="this");;)if("!"==n[0])n=n.substr(1);else{if("$"!=n[0])break;n=n.substr(1)}if("this"!=n&&null!=e){let t=e;null===(e=n in e?e[n]:null)&&r&&n in $dba38e8a4d857a03d92455990d19777e$var$Template.functions&&(e=$dba38e8a4d857a03d92455990d19777e$var$Template.functions[n](null,null,t)),r=!1}}n=""}for(;""!=n;)if("!"==n[0])n=n.substr(1);else{if("$"!=n[0])break;n=n.substr(1)}return"this"!=n?[e,n]:null}if("fn"==i){var n=[];if(n.push($dba38e8a4d857a03d92455990d19777e$var$Template.expand(t[0],e,"text","base-string")),"_"+n[0]in $dba38e8a4d857a03d92455990d19777e$var$Template.functions&&(n[0]="_"+n[0]),!(n[0]in $dba38e8a4d857a03d92455990d19777e$var$Template.functions)){if(1==$dba38e8a4d857a03d92455990d19777e$var$Template.strict)throw new Error("Expression function `"+n[0]+"` not found.");return`(Unknown: ${n[0]})`}if("_"==n[0][0])return $dba38e8a4d857a03d92455990d19777e$var$Template.functions[n[0]](t,e);for(let a=1;a<t.length;a++)n.push($dba38e8a4d857a03d92455990d19777e$var$Template.expand(t[a],e,"arg","base-string"));r.push($dba38e8a4d857a03d92455990d19777e$var$Template.functions[n[0]](n,t,e))}if("template"==i){if(1==t.length){if(1==t[0].length&&"string"==t[0][0].type)return t[0][0].data;if(1==t[0].length&&"identifier"==t[0][0].type){let i=t[0][0].data;if(i in $dba38e8a4d857a03d92455990d19777e$var$Template.functions||"_"+i in $dba38e8a4d857a03d92455990d19777e$var$Template.functions)return $dba38e8a4d857a03d92455990d19777e$var$Template.expand(t,e,a,"fn")}return $dba38e8a4d857a03d92455990d19777e$var$Template.expand(t[0],e,a,"var")}return $dba38e8a4d857a03d92455990d19777e$var$Template.expand(t,e,a,"fn")}if("base-string"==i){let i=-1;for(let n of t){let s=null;switch(i++,n.type){case"template":s=$dba38e8a4d857a03d92455990d19777e$var$Template.expand(n.data,e,a,"template");break;case"string":case"identifier":s=n.data;break;case"base-string":s=$dba38e8a4d857a03d92455990d19777e$var$Template.expand(n.data,e,a,"base-string")}"void"!=a&&("last"==a&&i!=t.length-1||r.push(s))}}if("obj"==a)return r;if("last"==a)return"Rose\\Arry"==typeOf(r)&&(r=r[0]),r;if("void"==a)return null;if("arg"==a)return"array"==$b43e5b05f717ffe6e1b7300e19f71d1d$exports.typeOf(r)?1!=r.length?r.join(""):r[0]:r;if("text"==a&&"array"==$b43e5b05f717ffe6e1b7300e19f71d1d$exports.typeOf(r)){let t=e=>null!=e&&"object"==typeof e?"map"in e?e.map(t).join(""):"join"in e?e.join(""):e.toString():e;r=r.map(t).join("")}return r},compile:function(t){return t=$dba38e8a4d857a03d92455990d19777e$var$Template.parse(t),function(e=null,a="text"){return $dba38e8a4d857a03d92455990d19777e$var$Template.expand(t,e||{},a)}},eval:function(t,e=null,a="text"){return t=$dba38e8a4d857a03d92455990d19777e$var$Template.parse(t),$dba38e8a4d857a03d92455990d19777e$var$Template.expand(t,e||{},a)},value:function(t,e=null){return"array"!=$b43e5b05f717ffe6e1b7300e19f71d1d$exports.typeOf(t)?t:$dba38e8a4d857a03d92455990d19777e$var$Template.expand(t,e||{},"arg")},register:function(t,e){$dba38e8a4d857a03d92455990d19777e$var$Template.functions[t]=e},call:function(t,e,a=null){return t in $dba38e8a4d857a03d92455990d19777e$var$Template.functions?$dba38e8a4d857a03d92455990d19777e$var$Template.functions[t](e,null,a):null},getNamedValues:function(t,e,a=1,i=!0){let r={},n=0;for(;a<t.length;a+=2){let s=$dba38e8a4d857a03d92455990d19777e$var$Template.expand(t[a],e,"arg");n||(n=s.startsWith(":")?1:s.endsWith(":")?2:3),1==n?s=s.substr(1):2==n&&(s=s.substr(0,s.length-1)),r[s]=i?$dba38e8a4d857a03d92455990d19777e$var$Template.expand(t[a+1],e,"arg"):t[a+1]}return r}};$dba38e8a4d857a03d92455990d19777e$var$Template.functions={null:function(t){return null},true:function(t){return!0},false:function(t){return!1},len:function(t){return t[1].toString().length},int:function(t){return~~t[1]},str:function(t){return t[1].toString()},float:function(t){return parseFloat(t[1])},chr:function(t){return String.fromCharCode(t[1])},ord:function(t){return t[1].toString().charCodeAt(0)},not:function(t){return!t[1]},neg:function(t){return-t[1]},abs:function(t){return Math.abs(t[1])},and:function(t){for(let e=1;e<t.length;e++)if(!t[e])return!1;return!0},or:function(t){for(let e=1;e<t.length;e++)if(~~t[e])return!0;return!1},eq:function(t){return t[1]==t[2]},ne:function(t){return t[1]!=t[2]},lt:function(t){return t[1]<t[2]},le:function(t){return t[1]<=t[2]},gt:function(t){return t[1]>t[2]},ge:function(t){return t[1]>=t[2]},isnotnull:function(t){return!!t[1]},isnull:function(t){return!t[1]},iszero:function(t){return 0==parseInt(t[1])},"eq?":function(t){return t[1]==t[2]},"ne?":function(t){return t[1]!=t[2]},"lt?":function(t){return t[1]<t[2]},"le?":function(t){return t[1]<=t[2]},"gt?":function(t){return t[1]>t[2]},"ge?":function(t){return t[1]>=t[2]},"notnull?":function(t){return!!t[1]},"null?":function(t){return!t[1]},"zero?":function(t){return 0==parseInt(t[1])},typeof:function(t){return $b43e5b05f717ffe6e1b7300e19f71d1d$exports.typeOf(t[1])},"*":function(t){let e=t[1];for(let a=2;a<t.length;a++)e*=t[a];return e},"/":function(t){let e=t[1];for(let a=2;a<t.length;a++)e/=t[a];return e},"+":function(t){let e=t[1];for(let a=2;a<t.length;a++)e-=-t[a];return e},"-":function(t){let e=t[1];for(let a=2;a<t.length;a++)e-=t[a];return e},mul:function(t){let e=t[1];for(let a=2;a<t.length;a++)e*=t[a];return e},div:function(t){let e=t[1];for(let a=2;a<t.length;a++)e/=t[a];return e},sum:function(t){let e=t[1];for(let a=2;a<t.length;a++)e-=-t[a];return e},sub:function(t){let e=t[1];for(let a=2;a<t.length;a++)e-=t[a];return e},mod:function(t){let e=t[1];for(let a=2;a<t.length;a++)e%=t[a];return e},pow:function(t){let e=t[1];for(let a=2;a<t.length;a++)e=Math.pow(e,t[a]);return e},json:function(t){return JSON.stringify(t[1])},_set:function(t,e){for(let a=1;a+1<t.length;a+=2){let i=$dba38e8a4d857a03d92455990d19777e$var$Template.value(t[a+1],e);if(t[a].length>1){let r=$dba38e8a4d857a03d92455990d19777e$var$Template.expand(t[a],e,"varref");null!=r&&(r[0][r[1]]=i)}else e[$dba38e8a4d857a03d92455990d19777e$var$Template.value(t[a],e)]=i}return""},_unset:function(t,e){for(let a=1;a<t.length;a++)if(t[a].length>1){let i=$dba38e8a4d857a03d92455990d19777e$var$Template.expand(t[a],e,"varref");null!=i&&delete i[0][i[1]]}else delete e[$dba38e8a4d857a03d92455990d19777e$var$Template.value(t[a],e)];return null},trim:function(t){return t[1]?"object"==typeof t[1]?t[1].map((t=>t.trim())):t[1].trim():""},upper:function(t){return t[1]?"object"==typeof t[1]?t[1].map((t=>t.toUpperCase())):t[1].toUpperCase():""},lower:function(t){return t[1]?"object"==typeof t[1]?t[1].map((t=>t.toLowerCase())):t[1].toLowerCase():""},substr:function(t){let e=t[t.length-1].toString(),a=0,i=null;return 4==t.length?(a=~~t[1],i=~~t[2]):(a=~~t[1],i=null),a<0&&(a+=e.length),i<0&&(i+=e.length),null===i&&(i=e.length-a),e.substr(a,i)},replace:function(t){return t[3].split(t[1]).join(t[2])},nl2br:function(t){return t[1]?"object"==typeof t[1]?t[1].map((t=>t.replace(/\n/g,"<br/>"))):t[1].replace(/\n/g,"<br/>"):""},"%":function(t){t.shift();var e=t.shift();let a="";for(let i=0;i<t.length;i++)if("array"==$b43e5b05f717ffe6e1b7300e19f71d1d$exports.typeOf(t[i])){a+=`<${e}>`;for(let e=0;e<t[i].length;e++)a+=t[i][e];a+=`</${e}>`}else a+=`<${e}>${t[i]}</${e}>`;return a},"%%":function(t){t.shift();var e=t.shift();let a="",i="";for(let e=0;e<t.length;e+=2)e+1<t.length?a+=` ${t[e]}="${t[e+1]}"`:i=t[e];return i?`<${e}${a}>${i}</${e}>`:`<${e}${a}/>`},join:function(t){return t[2]&&"array"==$b43e5b05f717ffe6e1b7300e19f71d1d$exports.typeOf(t[2])?t[2].join(t[1]):""},split:function(t){return t[2]&&"string"==typeof t[2]?t[2].split(t[1]):[]},keys:function(t){return t[1]&&"object"==typeof t[1]?Object.keys(t[1]):[]},values:function(t){return t[1]&&"object"==typeof t[1]?Object.values(t[1]):[]},_each:function(t,e){let a=$dba38e8a4d857a03d92455990d19777e$var$Template.expand(t[1],e,"arg"),i=$dba38e8a4d857a03d92455990d19777e$var$Template.expand(t[2],e,"arg"),r=[],n=0;if(!i)return r;for(let s in i)e[a]=i[s],e[a+"##"]=n++,e[a+"#"]=s,r.push($dba38e8a4d857a03d92455990d19777e$var$Template.expand(t[3],e,"text"));return delete e[a],delete e[a+"##"],delete e[a+"#"],r},_foreach:function(t,e){let a=$dba38e8a4d857a03d92455990d19777e$var$Template.expand(t[1],e,"arg"),i=$dba38e8a4d857a03d92455990d19777e$var$Template.expand(t[2],e,"arg"),r=0;if(!i)return null;for(let n in i)e[a]=i[n],e[a+"##"]=r++,e[a+"#"]=n,$dba38e8a4d857a03d92455990d19777e$var$Template.expand(t[3],e,"text");return delete e[a],delete e[a+"##"],delete e[a+"#"],null},"_?":function(t,e){return $dba38e8a4d857a03d92455990d19777e$var$Template.expand(t[1],e,"arg")?$dba38e8a4d857a03d92455990d19777e$var$Template.expand(t[2],e,"arg"):t.length>3?$dba38e8a4d857a03d92455990d19777e$var$Template.expand(t[3],e,"arg"):""},"_??":function(t,e){let a=$dba38e8a4d857a03d92455990d19777e$var$Template.expand(t[1],e,"arg");return a||$dba38e8a4d857a03d92455990d19777e$var$Template.expand(t[2],e,"arg")},_if:function(t,e){for(let a=0;a<t.length;a+=3){if("else"==$dba38e8a4d857a03d92455990d19777e$var$Template.expand(t[a],e,"arg"))return $dba38e8a4d857a03d92455990d19777e$var$Template.expand(t[a+1],e,"text");if($dba38e8a4d857a03d92455990d19777e$var$Template.expand(t[a+1],e,"arg"))return $dba38e8a4d857a03d92455990d19777e$var$Template.expand(t[a+2],e,"text")}return""},_switch:function(t,e){let a=$dba38e8a4d857a03d92455990d19777e$var$Template.expand(t[1],e,"arg");for(let i=2;i<t.length;i+=2){let r=$dba38e8a4d857a03d92455990d19777e$var$Template.expand(t[i],e,"arg");if(r==a||"default"==r)return $dba38e8a4d857a03d92455990d19777e$var$Template.expand(t[i+1],e,"text")}return""},_break:function(t,e){throw new Error("EXC_BREAK")},_continue:function(t,e){throw new Error("EXC_CONTINUE")},_repeat:function(t,e){if(t.length<3||1!=(1&t.length))return"(`repeat`: Wrong number of parameters)";let a=$dba38e8a4d857a03d92455990d19777e$var$Template.value(t[1],e),i=null,r=0,n=null,s=null;for(let a=2;a<t.length-1;a+=2){switch($dba38e8a4d857a03d92455990d19777e$var$Template.value(t[a],e).toLowerCase()){case"from":r=parseFloat($dba38e8a4d857a03d92455990d19777e$var$Template.value(t[a+1],e));break;case"to":n=parseFloat($dba38e8a4d857a03d92455990d19777e$var$Template.value(t[a+1],e));break;case"count":i=parseFloat($dba38e8a4d857a03d92455990d19777e$var$Template.value(t[a+1],e));break;case"step":s=parseFloat($dba38e8a4d857a03d92455990d19777e$var$Template.value(t[a+1],e))}}let o=t[t.length-1],d=[];if(null!==n)if(null===s&&(s=r>n?-1:1),s<0)for(let t=r;t>=n;t+=s)try{e[a]=t,d.push($dba38e8a4d857a03d92455990d19777e$var$Template.value(o,e))}catch(t){let e=t.message;if("EXC_BREAK"==e)break;if("EXC_CONTINUE"==e)continue;throw t}else for(let t=r;t<=n;t+=s)try{e[a]=t,d.push($dba38e8a4d857a03d92455990d19777e$var$Template.value(o,e))}catch(t){let e=t.message;if("EXC_BREAK"==e)break;if("EXC_CONTINUE"==e)continue;throw t}else if(null!==i){null===s&&(s=1);for(let t=r;i>0;i--,t+=s)try{e[a]=t,d.push($dba38e8a4d857a03d92455990d19777e$var$Template.value(o,e))}catch(t){let e=t.message;if("EXC_BREAK"==e)break;if("EXC_CONTINUE"==e)continue;throw t}}else{null===s&&(s=1);for(let t=r;;t+=s)try{e[a]=t,d.push($dba38e8a4d857a03d92455990d19777e$var$Template.value(o,e))}catch(t){let e=t.message;if("EXC_BREAK"==e)break;if("EXC_CONTINUE"==e)continue;throw t}}return delete e[a],d},_for:function(t,e){if(t.length<3||1!=(1&t.length))return"(`for`: Wrong number of parameters)";let a=$dba38e8a4d857a03d92455990d19777e$var$Template.value(t[1],e),i=null,r=0;to=null;let n=null;for(let a=2;a<t.length-1;a+=2)switch(value=$dba38e8a4d857a03d92455990d19777e$var$Template.value(t[a],e),value.toLowerCase()){case"from":r=parseFloat($dba38e8a4d857a03d92455990d19777e$var$Template.value(t[a+1],e));break;case"to":to=parseFloat($dba38e8a4d857a03d92455990d19777e$var$Template.value(t[a+1],e));break;case"count":i=parseFloat($dba38e8a4d857a03d92455990d19777e$var$Template.value(t[a+1],e));break;case"step":n=parseFloat($dba38e8a4d857a03d92455990d19777e$var$Template.value(t[a+1],e))}let s=t[t.length-1];if(null!==to)if(null===n&&(n=r>to?-1:1),n<0)for(let t=r;t>=to;t+=n)try{e[a]=t,$dba38e8a4d857a03d92455990d19777e$var$Template.value(s,e)}catch(t){let e=t.message;if("EXC_BREAK"==e)break;if("EXC_CONTINUE"==e)continue;throw t}else for(let t=r;t<=to;t+=n)try{e[a]=t,$dba38e8a4d857a03d92455990d19777e$var$Template.value(s,e)}catch(t){let e=t.message;if("EXC_BREAK"==e)break;if("EXC_CONTINUE"==e)continue;throw t}else if(null!==i){null===n&&(n=1);for(let t=r;i>0;i--,t+=n)try{e[a]=t,$dba38e8a4d857a03d92455990d19777e$var$Template.value(s,e)}catch(t){let e=t.message;if("EXC_BREAK"==e)break;if("EXC_CONTINUE"==e)continue;throw t}}else{null===n&&(n=1);for(let t=r;;t+=n)try{e[a]=t,$dba38e8a4d857a03d92455990d19777e$var$Template.value(s,e)}catch(t){let e=t.message;if("EXC_BREAK"==e)break;if("EXC_CONTINUE"==e)continue;throw t}}return delete e[a],null},_loop:function(t,e){if(t.length<2)return"(`loop`: Wrong number of parameters)";let a=t[1];for(;;)try{$dba38e8a4d857a03d92455990d19777e$var$Template.value(a,e)}catch(t){let e=t.message;if("EXC_BREAK"==e)break;if("EXC_CONTINUE"==e)continue;throw t}return null},_echo:function(t,e){let a="";for(let i=1;i<t.length;i++)a+=$dba38e8a4d857a03d92455990d19777e$var$Template.expand(t[i],e,"arg");return console.log(a),""},"_#":function(t,e){let a=[];for(let i=1;i<t.length;i++)a.push($dba38e8a4d857a03d92455990d19777e$var$Template.expand(t[i],e,"arg"));return a},"_##":function(t,e){let a=[];for(let e=1;e<t.length;e++)a.push(t[e]);return a},"_&":function(t,e){return $dba38e8a4d857a03d92455990d19777e$var$Template.getNamedValues(t,e,1,!0)},"_&&":function(t,e){return $dba38e8a4d857a03d92455990d19777e$var$Template.getNamedValues(t,e,1,!1)},contains:function(t,e,a){let i=t[1];if("object"!=typeof i)return a.err="Argument is not a Map",!1;let r="";for(let e=2;e<t.length;e++)t[e]in i||(r+=", "+t[e]);return""==r||(a.err=r.substr(1),!1)},has:function(t,e,a){let i=t[2];return"object"==$b43e5b05f717ffe6e1b7300e19f71d1d$exports.typeOf(i)&&t[1]in i},_map:function(t,e){let a=$dba38e8a4d857a03d92455990d19777e$var$Template.expand(t[1],e,"arg"),i=$dba38e8a4d857a03d92455990d19777e$var$Template.expand(t[2],e,"arg");if(!i)return i;let r="array"==$b43e5b05f717ffe6e1b7300e19f71d1d$exports.typeOf(i),n=r?[]:{},s=0;for(let o in i)e[a]=i[o],e[a+"##"]=s++,e[a+"#"]=o,r?n.push($dba38e8a4d857a03d92455990d19777e$var$Template.expand(t[3],e,"arg")):n[o]=$dba38e8a4d857a03d92455990d19777e$var$Template.expand(t[3],e,"arg");return delete e[a],delete e[a+"##"],delete e[a+"#"],n},_filter:function(t,e){let a=$dba38e8a4d857a03d92455990d19777e$var$Template.expand(t[1],e,"arg"),i=$dba38e8a4d857a03d92455990d19777e$var$Template.expand(t[2],e,"arg");if(!i)return i;let r="array"==$b43e5b05f717ffe6e1b7300e19f71d1d$exports.typeOf(i),n=r?[]:{},s=0;for(let o in i)e[a]=i[o],e[a+"##"]=s++,e[a+"#"]=o,~~$dba38e8a4d857a03d92455990d19777e$var$Template.expand(t[3],e,"arg")&&(r?n.push(i[o]):n[o]=i[o]);return delete e[a],delete e[a+"##"],delete e[a+"#"],n},expand:function(t,e,a){return $dba38e8a4d857a03d92455990d19777e$var$Template.expand($dba38e8a4d857a03d92455990d19777e$var$Template.parseTemplate(t[1],"{","}"),3==t.length?t[2]:a)},_call:function(t,e){let a=$dba38e8a4d857a03d92455990d19777e$var$Template.expand(t[1],e,"varref");if(!a||"function"!=typeof a[0][a[1]])throw new Error("Expression is not a function: "+$dba38e8a4d857a03d92455990d19777e$var$Template.expand(t[1],e,"obj").map((t=>null==t?".":t)).join(""));let i=[];for(let a=2;a<t.length;a++)i.push($dba38e8a4d857a03d92455990d19777e$var$Template.value(t[a],e));return a[0][a[1]](...i)}},$3cfc71de303eee1e948c94eb1134db65$var$Rin.Template=$dba38e8a4d857a03d92455990d19777e$exports,Object.assign($3cfc71de303eee1e948c94eb1134db65$exports,$3cfc71de303eee1e948c94eb1134db65$var$Rin);const $194ff00ff419b7d5d0c9f54e529ee18f$var$recyclingFacilities={},$194ff00ff419b7d5d0c9f54e529ee18f$export$default={attachTo:function(t,e){if(e||(e=1024),!t.prototype.className)throw new Error("Unable to attach recycler functions to unnamed class.");$194ff00ff419b7d5d0c9f54e529ee18f$var$recyclingFacilities[t.prototype.className]=t,t.recyclerPool=[],t.prototype.objectId=0,t.nextObjectId=0,t.createdItems=0,t.restoredItems=0,t.recycledItems=0,t.alloc=function(){var e;return this.recyclerPool.length?(e=this.recyclerPool.pop(),t.restoredItems++):(e=new t,t.createdItems++),"__reinit"in e&&e.__reinit.apply(e,arguments),e.objectId=++this.nextObjectId,this.nextObjectId=1073741823&this.nextObjectId,e},t.free=function(t){t&&t.dispose()},t.prototype.dispose=function(a){0!=this.objectId?("__dtor"in this&&this.__dtor(),t.recycledItems++,this.objectId=0,this.disposeReason=a,t.recyclerPool.length<e&&t.recyclerPool.push(this)):console.error("Already disposed ("+t.prototype.className+"): "+a+" / "+this.disposeReason)}},showStats:function(){for(var t in console.group("Recycling Facilities"),$194ff00ff419b7d5d0c9f54e529ee18f$var$recyclingFacilities){var e=$194ff00ff419b7d5d0c9f54e529ee18f$var$recyclingFacilities[t];console.debug(t+": created="+e.createdItems+", restored="+e.restoredItems+", recycled="+e.recycledItems+", available="+e.recyclerPool.length)}console.groupEnd()}},$de63c6cea9e937c787e6669e8b7367fa$export$default=$3cfc71de303eee1e948c94eb1134db65$exports.Class.extend({className:"Linkable",prev:null,next:null,value:null,__ctor:function(t){this.value=t,this.clear()},__reinit:function(t){return this.value=t,this.clear(),this},__dtor:function(){},clear:function(){return this.next=this.prev=null,this},linkAfter:function(t){this.prev=t,this.next=t?t.next:null,t&&(t.next&&(t.next.prev=this),t.next=this)},linkBefore:function(t){this.prev=t?t.prev:null,this.next=t,t&&(t.prev&&(t.prev.next=this),t.prev=this)},unlink:function(){return this.prev&&(this.prev.next=this.next),this.next&&(this.next.prev=this.prev),this.clear()}});$194ff00ff419b7d5d0c9f54e529ee18f$export$default.attachTo($de63c6cea9e937c787e6669e8b7367fa$export$default);var $a6d65121a2cfb4a947f9dbeff3e92d6c$export$default=$3cfc71de303eee1e948c94eb1134db65$exports.Class.extend({className:"List",top:null,bottom:null,count:0,__ctor:function(){this.top=null,this.bottom=null,this.count=0},__dtor:function(){this.reset()},clear:function(){var t,e;for(t=this.top;null!=t;t=e)e=t.next,dispose(t.value),dispose(t);return this.top=this.bottom=null,this.count=0,this},reset:function(){var t,e;for(t=this.top;null!=t;t=e)e=t.next,dispose(t);return this.top=this.bottom=null,this.count=0,this},getAt:function(t){var e=null;for(e=this.top;e&&t--;e=e.next);return null!=e?e.value:null},getNodeAt:function(t){var e=null;for(e=this.top;e&&t--;e=e.next);return e},sgetNode:function(t){for(var e=this.top;e;e=e.next)if(e.value==t)return e;return null},remove:function(t){if(null==t||"isInstanceOf"in t&&t.isInstanceOf($de63c6cea9e937c787e6669e8b7367fa$export$default)||(t=this.sgetNode(t)),!t)return null;t.prev||(this.top=t.next),t.next||(this.bottom=t.prev),this.count--;var e=t.unlink().value;return dispose(t),e},insertBefore:function(t,e){if(!t)return this;var a=$de63c6cea9e937c787e6669e8b7367fa$export$default.alloc(e);return a.linkBefore(t),t==this.top&&(this.top=a),this.count++,e},insertAfter:function(t,e){if(!t)return this;var a=$de63c6cea9e937c787e6669e8b7367fa$export$default.alloc(e);return a.linkAfter(t),t==this.bottom&&(this.bottom=a),this.count++,e},unshift:function(t){var e=$de63c6cea9e937c787e6669e8b7367fa$export$default.alloc(t);return e.linkBefore(this.top),this.bottom||(this.bottom=e),this.top=e,this.count++,t},shift:function(){var t=this.top;if(!t)return null;(this.top=t.next)||(this.bottom=null),this.count--;var e=t.unlink().value;return dispose(t),e},push:function(t){var e=$de63c6cea9e937c787e6669e8b7367fa$export$default.alloc(t);return e.linkAfter(this.bottom),this.top||(this.top=e),this.bottom=e,this.count++,t},pop:function(){var t=this.bottom;if(!t)return null;(this.bottom=t.prev)||(this.top=null),this.count--;var e=t.unlink().value;return dispose(t),e},append:function(t){for(var e=t.top;e;e=e.next)this.push(e.value);return this},forEach:function(t){let e;for(let a=this.top;a;a=e)if(e=a.next,!1===t(a.value,a,this))return!1;return!0},forEachRev:function(t){let e;for(let a=this.bottom;a;a=e)if(e=a.prev,!1===t(a.value,a,this))return!1;return!0},find:function(t){let e=null;return this.forEach((function(a){if(t(a))return e=a,!1})),e},filter:function(t){let e=[];return this.forEach((function(a){t(a)&&e.push(a)})),e}});const $c7fc636a51ef24ec0ac87c4b46f79252$export$default=function(t,e){this.callback=e,this.interval=t};$c7fc636a51ef24ec0ac87c4b46f79252$export$default.prototype.onTimeout=function(){if(this.isRunning){this.rTime=hrnow()-this.startTime;var t=this.rTime-(this.sTime+this.interval);t<0?this.runAfter(-t):(this.sTime+=this.interval*(1+int(t/this.interval)),this.tDelta=t<0?this.interval:this.rTime-this.lTime,this.lTime=this.rTime,this.callback(this.tDelta,this),this.runAfter(this.sTime+this.interval-(hrnow()-this.startTime)))}},$c7fc636a51ef24ec0ac87c4b46f79252$export$default.prototype.onStart=function(){},$c7fc636a51ef24ec0ac87c4b46f79252$export$default.prototype.start=function(t=!1,e=1){this.startTime=hrnow(),this.sTime=0,this.lTime=0,this.lastTime=hrnow(),this.isRunning=!0,this.onStart(),t&&this.callback(0,this),this.runAfter(this.interval*e)},$c7fc636a51ef24ec0ac87c4b46f79252$export$default.prototype.runAfter=function(t){requestAnimationFrame((()=>this.onTimeout()))},$c7fc636a51ef24ec0ac87c4b46f79252$export$default.prototype.stop=function(){this.isRunning=!1};const $cfdf07c9c794ed7dda1152f9ad0dc88d$export$default=function(){this.data=[1,0,0,0,1,0,0,0,1]};$cfdf07c9c794ed7dda1152f9ad0dc88d$export$default.prototype.toString=function(){return`[${this.data[0]}, ${this.data[3]}, ${this.data[6]}]\n[${this.data[1]}, ${this.data[4]}, ${this.data[7]}]\n[${this.data[2]}, ${this.data[5]}, ${this.data[8]}]\n`},$cfdf07c9c794ed7dda1152f9ad0dc88d$export$default.prototype.zero=function(){return this.data.fill(0),this},$cfdf07c9c794ed7dda1152f9ad0dc88d$export$default.prototype.fill=function(t){return this.data.fill(t),this},$cfdf07c9c794ed7dda1152f9ad0dc88d$export$default.prototype.set=function(t){if(t instanceof $cfdf07c9c794ed7dda1152f9ad0dc88d$export$default)for(let e=0;e<9;e++)this.data[e]=t.data[e];else if(t instanceof Array)for(let e=0;e<9;e++)this.data[e]=t[e];else abort();return this},$cfdf07c9c794ed7dda1152f9ad0dc88d$export$default.prototype.identity=function(){return this.data.fill(0),this.data[0]=this.data[4]=this.data[8]=1,this},$cfdf07c9c794ed7dda1152f9ad0dc88d$export$default.prototype.scalef=function(t){for(let e=0;e<9;e++)this.data[e]*=t;return this},$cfdf07c9c794ed7dda1152f9ad0dc88d$export$default.prototype.clone=function(){for(var t=new $cfdf07c9c794ed7dda1152f9ad0dc88d$export$default,e=0;e<9;e++)t.data[e]=this.data[e];return t},$cfdf07c9c794ed7dda1152f9ad0dc88d$export$default.prototype.append=function(t){var e,a,i,r,n=[1,0,0,0,1,0,0,0,1];for(t instanceof $cfdf07c9c794ed7dda1152f9ad0dc88d$export$default&&(t=t.data),a=0;a<3;a++)for(e=0;e<3;e++){for(r=0,i=0;i<3;i++)r+=t[3*a+i]*this.data[3*i+e];n[3*a+e]=r}for(e=0;e<9;e++)this.data[e]=n[e];return this},$cfdf07c9c794ed7dda1152f9ad0dc88d$export$default.prototype.translate=function(t,e){return 0==t&&0==e?this:this.append([1,0,0,0,1,0,t,e,1])},$cfdf07c9c794ed7dda1152f9ad0dc88d$export$default.prototype.rotate=function(t){return 0==t?this:this.append([Math.cos(t),-Math.sin(t),0,Math.sin(t),Math.cos(t),0,0,0,1])},$cfdf07c9c794ed7dda1152f9ad0dc88d$export$default.prototype.scale=function(t,e){return 1==t&&1==e?this:this.append([t,0,0,0,e,0,0,0,1])},$cfdf07c9c794ed7dda1152f9ad0dc88d$export$default.prototype.applyTo=function(t,e){return{x:this.data[0]*t+this.data[3]*e+this.data[6],y:this.data[1]*t+this.data[4]*e+this.data[7]}},$cfdf07c9c794ed7dda1152f9ad0dc88d$export$default.prototype.transpose=function(){for(var t=[0,0,0,0,0,0,0,0,0],e=0;e<3;e++)for(var a=0;a<3;a++)t[3*e+a]=this.data[3*a+e];for(let e=0;e<9;e++)this.data[e]=t[e];return this},$cfdf07c9c794ed7dda1152f9ad0dc88d$export$default.prototype.det=function(){return this.data[0]*(this.data[4]*this.data[8]-this.data[5]*this.data[7])-this.data[1]*(this.data[3]*this.data[8]-this.data[5]*this.data[6])+this.data[2]*(this.data[3]*this.data[7]-this.data[4]*this.data[6])},$cfdf07c9c794ed7dda1152f9ad0dc88d$export$default.prototype.adj=function(){var t=this.transpose(),e=[];return e[0]=t.data[4]*t.data[8]-t.data[5]*t.data[7],e[1]=-(t.data[3]*t.data[8]-t.data[5]*t.data[6]),e[2]=t.data[3]*t.data[7]-t.data[4]*t.data[6],e[3]=-(t.data[1]*t.data[8]-t.data[2]*t.data[7]),e[4]=t.data[0]*t.data[8]-t.data[2]*t.data[6],e[5]=-(t.data[0]*t.data[7]-t.data[1]*t.data[6]),e[6]=t.data[1]*t.data[5]-t.data[2]*t.data[4],e[7]=-(t.data[0]*t.data[5]-t.data[2]*t.data[3]),e[8]=t.data[0]*t.data[4]-t.data[1]*t.data[3],t.data=e,t},$cfdf07c9c794ed7dda1152f9ad0dc88d$export$default.prototype.inverse=function(){var t=this.det();return t?this.adj().scalef(1/t):null};const $c095d3677e4919554f005bfd818e9d8b$export$default={enabled:!1,data:[],count:0,maxsize:30,debugEcho:!1,color:"#fff",background:"#000",vars:{},write:function(t){for(this.data.push(t),this.count++;this.data.length>this.maxsize;)this.data.shift();this.debugEcho&&console.debug(this.count+": "+t)},clear:function(){this.data=[],this.count=0},enable:function(t,e,a,i,r){if(this.enabled)return;this.enabled=!0,t||(t=0),e||(e=0),a||(a=8.5),!1===i&&(e-=16);let n=e;$a742bfd07457dd01c7b3c95bc090b0ee$export$default.drawQueueAdd({draw:function(s,o){o.clear(),o.font("normal "+a+"pt 'Bitstream Vera Sans Mono', monospace"),o.textBaseline("top");var d=($a742bfd07457dd01c7b3c95bc090b0ee$export$default.perf.lastTime-$a742bfd07457dd01c7b3c95bc090b0ee$export$default.perf.startTime)/1e3,c=$a742bfd07457dd01c7b3c95bc090b0ee$export$default.perf.numFrames,f="";e=n,!1!==i&&(f="fps: "+(c/d).toFixed(2)+", dt: "+(1e3/(c/d)).toFixed(2)+" ms, update: "+($a742bfd07457dd01c7b3c95bc090b0ee$export$default.perf.updateTime/c).toFixed(2)+" ms, draw: "+($a742bfd07457dd01c7b3c95bc090b0ee$export$default.perf.drawTime/c).toFixed(2)+" ms",$c095d3677e4919554f005bfd818e9d8b$export$default.background&&(o.fillStyle($c095d3677e4919554f005bfd818e9d8b$export$default.background),o.fillRect(t+8-3,e+10-1,o.measureText(f)+6,a+4)),o.fillStyle($c095d3677e4919554f005bfd818e9d8b$export$default.color),o.fillText(f,t+8,e+10)),f="";for(let t in $c095d3677e4919554f005bfd818e9d8b$export$default.vars)f+=t+"="+$c095d3677e4919554f005bfd818e9d8b$export$default.vars[t]+"  ";f&&(e+=24,$c095d3677e4919554f005bfd818e9d8b$export$default.background&&(o.fillStyle($c095d3677e4919554f005bfd818e9d8b$export$default.background),o.fillRect(t+8-3,e+10-1,o.measureText(f)+6,a+4)),o.fillStyle($c095d3677e4919554f005bfd818e9d8b$export$default.color),o.fillText(f,t+8,e+10));for(var l=0;l<$c095d3677e4919554f005bfd818e9d8b$export$default.data.length;l++)f=(!1!==r?"#"+($c095d3677e4919554f005bfd818e9d8b$export$default.count-$c095d3677e4919554f005bfd818e9d8b$export$default.data.length+l+1)+": ":"> ")+$c095d3677e4919554f005bfd818e9d8b$export$default.data[l],$c095d3677e4919554f005bfd818e9d8b$export$default.background&&(o.fillStyle($c095d3677e4919554f005bfd818e9d8b$export$default.background),o.fillRect(t+8-3,e+16+(a+4)*(l+1)-1,o.measureText(f)+6,a+4)),o.fillStyle($c095d3677e4919554f005bfd818e9d8b$export$default.color),o.fillText(f,t+8,e+16+(a+4)*(l+1))}})}},$18f02cd3c01ba82b0ae213a40b3411fa$export$default=function(t=null){let e={elem:null,gl:!1,background:"#000",width:0,height:0,hidden:!0,absolute:!1,antialias:!1,...t};null==e.elem?(this.elem=$parcel$global.document?$parcel$global.document.createElement("canvas"):$3cfc71de303eee1e948c94eb1134db65$exports.Rin.clone($18f02cd3c01ba82b0ae213a40b3411fa$export$default.passThruCanvas),$parcel$global.document&&1!=e.hidden&&($parcel$global.document.body.appendChild(this.elem),!0===e.absolute&&(this.elem.style.position="absolute",this.elem.style.left="0",this.elem.style.top="0"))):this.elem=elem,this.elem.getContext&&(!0===e.gl?(this.gl=this.elem.getContext("webgl2"),this.context=null,$c095d3677e4919554f005bfd818e9d8b$export$default.write(this.gl.getParameter(this.gl.VERSION)),$c095d3677e4919554f005bfd818e9d8b$export$default.write(this.gl.getParameter(this.gl.SHADING_LANGUAGE_VERSION)),this.initGl()):(this.context=this.elem.getContext("2d"),this.gl=null),this.antialias=e.antialias,this.setBackground(e.background),this.matrixStack=[],this.alphaStack=[],this.matr=new $cfdf07c9c794ed7dda1152f9ad0dc88d$export$default,this.transform=new $cfdf07c9c794ed7dda1152f9ad0dc88d$export$default,this._alpha=1,this._globalScale=1,this.matr.identity(),this.updateTransform(),this.strokeStyle("#fff"),this.fillStyle("#fff"),this.resize(e.width,e.height))};$18f02cd3c01ba82b0ae213a40b3411fa$export$default.passThruCanvas={parentNode:null,imageSmoothingEnabled:!0,style:{},width:950,height:540,getContext:function(t){return this},pushClip:function(){},popClip:function(){},scale:function(t,e){},rotate:function(t){},translate:function(t,e){},setTransform:function(t,e,a,i,r,n){},updateTransform:function(){},toDataURL:function(t,e){return""},beginPath:function(){},moveTo:function(t,e){},closePath:function(){},lineTo:function(){},rect:function(t,e,a,i){},fill:function(){},stroke:function(){},fillRect:function(t,e,a,i){},strokeRect:function(t,e,a,i){},clip:function(){},quadraticCurveTo:function(t,e,a,i){},bezierCurveTo:function(t,e,a,i,r,n){},arc:function(t,e,a,i,r,n){},arcTo:function(t,e,a,i,r){},fillText:function(t,e,a,i){},strokeText:function(t,e,a,i){},measureText:function(t){return{width:0}},createImageData:function(t,e){return{width:t,height:e}},getImageData:function(t,e,a,i){return{width:a,height:i,data:[]}},putImageData:function(t,e,a){},drawImage:function(...t){},getBoundingClientRect:function(){return{left:0,top:0}}},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.buildShader=function(t,e,a){const i=this.gl,r=i.createShader(e);if(i.shaderSource(r,a),i.compileShader(r),!i.getShaderParameter(r,i.COMPILE_STATUS))throw new Error("compilerShader: "+i.getShaderInfoLog(r));i.attachShader(t,r)},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.initGl=function(){let t=this.gl;if(this.gl_array_buffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.gl_array_buffer),t.bufferData(t.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,0,1,1]),t.STATIC_DRAW),this.gl_program=t.createProgram(),this.buildShader(this.gl_program,t.VERTEX_SHADER,"#version 300 es\n\n\t\tin vec2 location;\n\n\t\tuniform vec2 screen_size;\n\t\tuniform vec2 texture_size;\n\t\tuniform mat3 location_matrix;\n\t\tuniform mat3 texture_matrix;\n\t\tuniform mat3 current_matrix;\n\t\tuniform sampler2D texture;\n\n\t\tout vec2 f_texcoords;\n\n\t\tvoid main() {\n\t\t\tgl_Position = vec4(((vec2(current_matrix*location_matrix*vec3(location, 1.0))/screen_size)*2.0-vec2(1.0, 1.0))*vec2(1.0, -1.0), 0.0, 1.0);\n\t\t\tf_texcoords = vec2(texture_matrix*vec3(location, 1.0))/texture_size;\n\t\t}\n\t"),this.buildShader(this.gl_program,t.FRAGMENT_SHADER,"#version 300 es\n\n\t\tprecision highp float;\n\n\t\tuniform sampler2D tex;\n\t\tin vec2 f_texcoords;\n\n\t\tout vec4 color;\n\n\t\tvoid main() {\n\t\t\tcolor = texture(tex, f_texcoords);\n\t\t}\n\t"),t.linkProgram(this.gl_program),!t.getProgramParameter(this.gl_program,t.LINK_STATUS))throw new Error("linkProgram: "+t.getProgramInfoLog(program));t.useProgram(this.gl_program),t.clearColor(0,0,0,0),t.disable(t.DEPTH_TEST),t.clearDepth(0),t.depthFunc(t.GEQUAL),t.enable(t.BLEND),t.blendFunc(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA),this.gl_attrib_location=t.getAttribLocation(this.gl_program,"location"),this.gl_uniform_screen_size=t.getUniformLocation(this.gl_program,"screen_size"),this.gl_uniform_texture_size=t.getUniformLocation(this.gl_program,"texture_size"),this.gl_uniform_texture=t.getUniformLocation(this.gl_program,"texture"),this.gl_uniform_matrix=t.getUniformLocation(this.gl_program,"location_matrix"),this.gl_uniform_current_matrix=t.getUniformLocation(this.gl_program,"current_matrix"),this.gl_uniform_texture_matrix=t.getUniformLocation(this.gl_program,"texture_matrix"),t.enableVertexAttribArray(this.gl_attrib_location),t.vertexAttribPointer(this.gl_attrib_location,2,t.FLOAT,t.FALSE,2*Float32Array.BYTES_PER_ELEMENT,0*Float32Array.BYTES_PER_ELEMENT),this.location_matrix=new $cfdf07c9c794ed7dda1152f9ad0dc88d$export$default,this.texture_matrix=new $cfdf07c9c794ed7dda1152f9ad0dc88d$export$default,this.drawImage=function(...e){const a=e[0],i=e[1],r=e[2];if(!a.gl_ready)return;if(this.gl_active_texture!=a.gl_texture&&(this.gl.activeTexture(t.TEXTURE0),this.gl.bindTexture(t.TEXTURE_2D,a.gl_texture),this.gl.uniform1i(this.gl_uniform_texture,0),this.gl.uniform2fv(this.gl_uniform_texture_size,[a.width,a.height]),this.gl_active_texture=a.gl_texture),3==e.length)return 0==i&&0==r?(this.location_matrix.identity(),this.location_matrix.scale(a.width,a.height),this.gl.uniformMatrix3fv(this.gl_uniform_current_matrix,!1,this.transform.data),this.gl.uniformMatrix3fv(this.gl_uniform_matrix,!1,this.location_matrix.data),this.gl.uniformMatrix3fv(this.gl_uniform_texture_matrix,!1,this.location_matrix.data),void this.gl.drawArrays(t.TRIANGLE_STRIP,0,4)):(this.location_matrix.identity(),this.location_matrix.translate(i,r),this.location_matrix.scale(a.width,a.height),this.texture_matrix.identity(),this.texture_matrix.scale(a.width,a.height),this.gl.uniformMatrix3fv(this.gl_uniform_current_matrix,!1,this.transform.data),this.gl.uniformMatrix3fv(this.gl_uniform_matrix,!1,this.location_matrix.data),this.gl.uniformMatrix3fv(this.gl_uniform_texture_matrix,!1,this.texture_matrix.data),void this.gl.drawArrays(t.TRIANGLE_STRIP,0,4));const n=e[3],s=e[4];if(5==e.length)return;const o=e[5],d=e[6],c=e[7],f=e[8];this.location_matrix.identity(),this.location_matrix.translate(o,d),this.location_matrix.scale(c,f),this.texture_matrix.identity(),this.texture_matrix.translate(i,r),this.texture_matrix.scale(n,s),this.gl.uniformMatrix3fv(this.gl_uniform_current_matrix,!1,this.transform.data),this.gl.uniformMatrix3fv(this.gl_uniform_matrix,!1,this.location_matrix.data),this.gl.uniformMatrix3fv(this.gl_uniform_texture_matrix,!1,this.texture_matrix.data),this.gl.drawArrays(t.TRIANGLE_STRIP,0,4)}},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.prepareImage=function(t){let e=this.gl;if(null==e)return!1;let a=e.createTexture();return e.bindTexture(e.TEXTURE_2D,a),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),t.gl_texture=a,t.gl_ready=!0,!0},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.applyConfig=function(){0==this.antialias?(null!=this.context&&(this.context.imageSmoothingEnabled=!1),this.elem.style.imageRendering="crisp-edges"):(null!=this.context&&(this.context.imageSmoothingEnabled=!0),this.elem.style.imageRendering="auto")},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.dispose=function(){this.elem.parentNode&&this.elem.parentNode.removeChild(this.elem),this.matrixStack=null,this.alphaStack=null,this.matr=null,this.context=null,this.elem=null},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.setBackground=function(t,e){this.elem.style.background=t,this.backgroundColor=e||t},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.resize=function(t,e){let a=this.elem.getBoundingClientRect();return t||(t=a.width),e||(e=a.height),this.elem.width=t,this.elem.height=e,this.width=this.elem.width,this.height=this.elem.height,this._width=~~(this.width/this._globalScale),this._height=~~(this.height/this._globalScale),null!=this.gl&&(this.gl.viewport(0,0,t,e),this.gl_uniform_screen_size&&this.gl.uniform2fv(this.gl_uniform_screen_size,[t,e]),this.gl.enable(this.gl.SCISSOR_TEST),this.gl.scissor(0,0,t,e)),this.applyConfig(),this},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.globalScale=function(t){return this._globalScale=t,this._width=~~(this.width/this._globalScale),this._height=~~(this.height/this._globalScale),this.loadIdentity(),this.scale(t,t),this},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.flipped=function(t){return t?(this._width=~~(this.height/this._globalScale),this._height=~~(this.width/this._globalScale)):(this._width=~~(this.width/this._globalScale),this._height=~~(this.height/this._globalScale)),this.isFlipped=t,this},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.pushClip=function(){return null!=this.gl||this.context.save(),this},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.popClip=function(){return null!=this.gl?this.gl.scissor(0,0,this.width,this.height):this.context.restore(),this},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.toDataUrl=function(t="image/png",e=null){return this.elem.toDataURL(t,e)},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.toPng64=function(){return this.elem.toDataURL("image/png").substr(22)},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype._contextAttribute=function(t,e){if(this.context)return void 0!==e?(this.context[t]=e,this):this.context[t]},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.fillStyle=function(t){return this._contextAttribute("fillStyle",t)},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.strokeStyle=function(t){return this._contextAttribute("strokeStyle",t)},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.lineCap=function(t){return this._contextAttribute("lineCap",t)},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.lineJoin=function(t){return this._contextAttribute("lineJoin",t)},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.lineWidth=function(t){return this._contextAttribute("lineWidth",t)},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.miterLimit=function(t){return this._contextAttribute("miterLimit",t)},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.shadowColor=function(t){return this._contextAttribute("shadowColor",t)},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.shadowOffsetX=function(t){return this._contextAttribute("shadowOffsetX",t)},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.shadowOffsetY=function(t){return this._contextAttribute("shadowOffsetY",t)},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.shadowBlur=function(t){return this._contextAttribute("shadowBlur",t)},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.font=function(t){return this._contextAttribute("font",t)},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.textAlign=function(t){return this._contextAttribute("textAlign",t)},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.textBaseline=function(t){return this._contextAttribute("textBaseline",t)},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.globalAlpha=function(t){return void 0===t?this._alpha:(this._alpha=t,this.alpha(1))},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.alpha=function(t){return this._alpha*=t,this.context&&(this.context.globalAlpha=this._alpha),this},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.globalCompositeOperation=function(t){return this._contextAttribute("globalCompositeOperation",t)},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.updateTransform=function(){return this.setTransform(this.matr.data[0],this.matr.data[1],this.matr.data[3],this.matr.data[4],this.matr.data[6],this.matr.data[7]),this},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.setTransform=function(t,e,a,i,r,n){return null==this.context?(this.transform.data[0]=t,this.transform.data[1]=e,this.transform.data[2]=0,this.transform.data[3]=a,this.transform.data[4]=i,this.transform.data[5]=0,this.transform.data[6]=Math.ceil(r),this.transform.data[7]=Math.ceil(n),this.transform.data[8]=1,this):(this.context.setTransform(t,e,a,i,Math.ceil(r),Math.ceil(n)),this)},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.fillRect=function(t,e,a,i){return this.context.fillRect(t,e,a,i),this},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.strokeRect=function(t,e,a,i){return this.context.strokeRect(t,e,a,i),this},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.clearRect=function(t,e,a,i){return this.context.clearRect(t,e,a,i),this},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.beginPath=function(){return this.context.beginPath(),this},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.moveTo=function(t,e){return this.context.moveTo(t,e),this},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.closePath=function(){return this.context.closePath(),this},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.lineTo=function(t,e){return this.context.lineTo(t,e),this},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.rect=function(t,e,a,i){return this.context.rect(t,e,a,i),this},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.fill=function(t){return t&&this.fillStyle(t),this.context.fill(),this},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.stroke=function(t){return t&&this.strokeStyle(t),this.context.stroke(),this},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.clip=function(t,e,a,i){return null!=this.gl?(t*=this._globalScale,e*=this._globalScale,a*=this._globalScale,i*=this._globalScale,this.isFlipped?this.gl.scissor(this.width-e-i-1,this.height-t-a-1,i,a):this.gl.scissor(t,this.height-e-i-1,a,i)):(this.beginPath(),this.rect(t,e,a,i),this.context.clip()),this},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.quadraticCurveTo=function(t,e,a,i){return this.context.quadraticCurveTo(t,e,a,i),this},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.bezierCurveTo=function(t,e,a,i,r,n){return this.context.bezierCurveTo(t,e,a,i,r,n),this},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.arc=function(t,e,a,i,r,n){return this.context.arc(t,e,a,i,r,n),this},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.arcTo=function(t,e,a,i,r){return this.context.arcTo(t,e,a,i,r),this},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.fillText=function(t,e,a,i){return this.context.fillText(t,e,a,i||1e3),this},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.strokeText=function(t,e,a,i){return this.context.strokeText(t,e,a,i||1e3),this},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.measureText=function(t){return this.context.measureText(t).width},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.createImageData=function(t,e){return this.context.createImageData(t,e)},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.getImageData=function(t,e,a,i){return this.context.getImageData(t,e,a,i)},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.putImageData=function(t,e,a){return this.context.putImageData(t,e,a),this},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.drawImage=function(...t){if(3==t.length)this.context.drawImage(t[0],~~t[1],~~t[2]);else if(5==t.length)this.context.drawImage(t[0],~~t[1],~~t[2],~~t[3],~~t[4]);else if(9==t.length){var e=~~t[3],a=~~t[4];if(!e||!a)return this;var i=~~t[7],r=~~t[8];if(!i||!r)return this;this.context.drawImage(t[0],~~t[1],~~t[2],e,a,~~t[5],~~t[6],i,r)}return this},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.clear=function(t){return null!=this.gl?(this.gl.clear(this.gl.DEPTH_BUFFER_BIT|this.gl.COLOR_BUFFER_BIT),this.gl_active_texture=null,this):(t?this.globalCompositeOperation("source-over").globalAlpha(1).fillStyle(!0!==t?t:this.backgroundColor).fillRect(0,0,this._width,this._height):(this.elem.width=this.width,this.applyConfig()),this.updateTransform(),this)},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.reset=function(t){return this.fillStyle("#000000").strokeStyle("#000000").lineCap("butt").lineJoin("miter").lineWidth("1").miterLimit("10").shadowColor("#000000").shadowOffsetX("0").shadowOffsetY("0").shadowBlur("0").globalAlpha("1.0").globalCompositeOperation("source-over"),t&&this.beginPath().closePath(),this},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.pushMatrix=function(){return this.matrixStack.push(this.matr),this.matr=this.matr.clone(),this},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.popMatrix=function(){return this.matr=this.matrixStack.pop(),this.updateTransform()},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.pushAlpha=function(){return this.alphaStack.push(this.globalAlpha()),this},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.popAlpha=function(){return this.globalAlpha(this.alphaStack.pop()),this},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.loadIdentity=function(){return this.matr.identity(),this.updateTransform()},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.loadMatrix=function(t){return this.matr.set(t),this.updateTransform()},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.getMatrix=function(){return this.matr.clone()},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.appendMatrix=function(t){return this.matr.append(t),this.updateTransform()},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.scale=function(t,e,a){return a?(this.context.scale(t,e),this):(this.matr.scale(t,e),this.updateTransform())},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.rotate=function(t,e){return e?(this.context.rotate(t),this):(this.matr.rotate(t),this.updateTransform())},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.translate=function(t,e,a){return a?(this.context.translate(t,e),this):(this.matr.translate(t,e),this.updateTransform())},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.ellipse=function(t,e,a,i){var r=a/2*.5522848,n=i/2*.5522848,s=t+a-1,o=e+i-1,d=t+a/2,c=e+i/2;return this.beginPath().moveTo(t,c),this.bezierCurveTo(t,c-n,d-r,e,d,e),this.bezierCurveTo(d+r,e,s,c-n,s,c),this.bezierCurveTo(s,c+n,d+r,o,d,o),this.bezierCurveTo(d-r,o,t,c+n,t,c),this.closePath(),this},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.circle=function(t,e,a,i){return this.beginPath(),this.arc(t,e,a,0,2*Math.PI),this.closePath(),i&&this.stroke(i),this},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.line=function(t,e,a,i,r){return this.beginPath(),this.moveTo(t,e),this.lineTo(a,i),this.closePath(),r&&this.stroke(r),this},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.enablePointerEvents=function(){if(this.pointerHandler)return this;this.pointerScale={sx:1,sy:1},this.pointerOffset={x:0,y:0};var t=this,e={action:"",buttons:0,lbuttons:0,x:0,y:0,containedBy:function(t,e,a,i){return this.x>=t&&this.x<=t+a-1&&this.y>=e&&this.y<=e+i-1}};return this.pointerHandlers=[],this.pointerHandler=function(a,i){var r=this.elem.getBoundingClientRect();e.action=a,e.buttons=i.buttons,e.x=e.rx=~~(i.clientX-r.left),e.y=e.ry=~~(i.clientY-r.top),e.x=(e.x-t.pointerOffset.x-0*t.pointerScale.sx)/t.pointerScale.sx,e.y=(e.y-t.pointerOffset.y-0*t.pointerScale.sy)/t.pointerScale.sy,e.dragging=!1,e.buttons&&!e.lbuttons&&(e.sx=e.x,e.sy=e.y,e.ldx=e.ldy=0),e.buttons&&e.lbuttons&&(e.dragging=!0,e.dx=e.x-e.sx,e.dy=e.y-e.sy,e.ddx=e.dx-e.ldx,e.ddy=e.dy-e.ldy,e.ldx=e.dx,e.ldy=e.dy),e.lbuttons=e.buttons;for(var n=0;n<this.pointerHandlers.length&&!1!==this.pointerHandlers[n][1].call(this.pointerHandlers[n][2],e);n++);},this.elem.onmousedown=function(e){t.pointerHandler("DOWN",e)},this.elem.onmouseup=function(e){t.pointerHandler("UP",e)},this.elem.onmousemove=function(e){t.pointerHandler("MOVE",e)},this},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.setPointerScale=function(t,e){return this.pointerScale={sx:t,sy:e},this},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.setPointerOffset=function(t,e){return this.pointerOffset={x:t,y:e},this},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.addPointerHandler=function(t,e){return this.enablePointerEvents(),this.pointerHandlers.push([this.pointerHandlers.length+"_"+~~(1e6*Math.random()),t,e]),this.pointerHandlers[this.pointerHandlers.length-1][0]},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.removePointerHandler=function(t){if(this.pointerHandlers)for(var e=0;e<this.pointerHandlers.length;e++)if(this.pointerHandlers[e][0]==t){this.pointerHandlers.splice(e,1);break}},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.drawImageResource=function(t,e=0,a=0,i=null,r=null){return null==i?this.drawImage(t.data,0,0,t.data.width,t.data.height,e,a,t.width,t.height):this.drawImage(t.data,0,0,t.data.width,t.data.height,e,a,i,r)},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.renderImage=function(t,e,a,i){let r=new $18f02cd3c01ba82b0ae213a40b3411fa$export$default({width:t,height:e});a(r);let n=new Image;n.onload=()=>{$a742bfd07457dd01c7b3c95bc090b0ee$export$default.displayBuffer.prepareImage(n),i(n)},n.src=r.toDataUrl(),r.dispose()};const $a742bfd07457dd01c7b3c95bc090b0ee$export$default={flags:{renderingEnabled:!1,renderingPaused:!1},EVT_KEY_DOWN:1,EVT_KEY_UP:2,EVT_POINTER_DOWN:16,EVT_POINTER_UP:17,EVT_POINTER_MOVE:18,EVT_POINTER_DRAG_START:19,EVT_POINTER_DRAG_MOVE:20,EVT_POINTER_DRAG_STOP:21,DEFAULT:0,LANDSCAPE:1,PORTRAIT:2,AUTOMATIC:3,defaultOptions:{background:"#000",gl:!1,canvas:null,canvas2:null,fps:144,minFps:15,context:null,antialias:!0,screenWidth:null,screenHeight:null,orientation:0,extraScaleFactor:1,fullscreen:!1},screenWidth:0,screenHeight:0,orientation:0,offsX:0,offsY:0,devicePixelRatio:1,backingStoreRatio:1,canvasPixelRatio:1,canvasScaleFactor:1,scaleFactor:1,initialMatrix:null,displayBuffer:null,displayBuffer2:null,tempDisplayBuffer:null,keyState:{time:0,shift:!1,ctrl:!1,alt:!1,keyCode:0},pointerState:{},updateQueue:null,drawQueue:null,timeScale:1,frameInterval:0,fixedFrameInterval:0,maxFrameInterval:0,frameDelta:0,frameDeltaMillis:0,frameTime:0,frameTimeMillis:0,frameNumber:0,frameUpdateInProgress:!1,frameDrawInProgress:!1,perf:{startTime:0,lastTime:0,numFrames:0,updateTime:0,drawTime:0,numSamples:0,windowSize:500,snapStartTime:0,snapNumFrames:0,snapUpdateTime:0,snapDrawTime:0},init:function(t){var e={};Object.assign(e,this.defaultOptions),t&&Object.assign(e,t),this.options=e,e.screenWidth&&e.screenHeight&&e.orientation==$a742bfd07457dd01c7b3c95bc090b0ee$export$default.DEFAULT&&(e.orientation=e.screenWidth>e.screenHeight?$a742bfd07457dd01c7b3c95bc090b0ee$export$default.LANDSCAPE:$a742bfd07457dd01c7b3c95bc090b0ee$export$default.PORTRAIT),this.orientation=e.orientation,this.updateQueue=new $a6d65121a2cfb4a947f9dbeff3e92d6c$export$default,this.drawQueue=new $a6d65121a2cfb4a947f9dbeff3e92d6c$export$default,this.frameInterval=int(1e3/e.fps),this.maxFrameInterval=int(1e3/e.minFps),$parcel$global.onresize=this.onWindowResized.bind(this),this.frameTimer=new $c7fc636a51ef24ec0ac87c4b46f79252$export$default(this.frameInterval,this.onFrame.bind(this),!0),this.displayBuffer=new $18f02cd3c01ba82b0ae213a40b3411fa$export$default({gl:e.gl,elem:e.canvas,absolute:!0,hidden:!1,antialias:e.antialias,background:e.background}),this.displayBuffer2=new $18f02cd3c01ba82b0ae213a40b3411fa$export$default({gl:!1,elem:e.canvas2,absolute:!0,hidden:!1,antialias:e.antialias,background:"none"}),this.displayBuffer2.elem.style.pointerEvents="none",this.tempDisplayBuffer=new $18f02cd3c01ba82b0ae213a40b3411fa$export$default({hidden:!0,antialias:e.antialias}).resize(320,240);var a=this.displayBuffer.elem;this.devicePixelRatio=$parcel$global.devicePixelRatio||1,this.backingStoreRatio=1==e.gl?1:this.displayBuffer.context.webkitBackingStorePixelRatio||this.displayBuffer.context.mozBackingStorePixelRatio||this.displayBuffer.context.msBackingStorePixelRatio||this.displayBuffer.context.oBackingStorePixelRatio||this.displayBuffer.context.backingStorePixelRatio||1,this.canvasPixelRatio=this.devicePixelRatio/this.backingStoreRatio,$a742bfd07457dd01c7b3c95bc090b0ee$export$default.onWindowResized(!0);var i=this;$parcel$global.onkeydown=function(t){if(t.target===$parcel$global.document.body){if(i.keyState[t.keyCode])return!1;switch(i.keyState[t.keyCode]=!0,i.keyState.keyCode=t.keyCode,i.keyState.startTime=$a742bfd07457dd01c7b3c95bc090b0ee$export$default.now(!0),t.keyCode){case 16:i.keyState.shift=!0;break;case 17:i.keyState.ctrl=!0;break;case 18:i.keyState.alt=!0}return i.keyState.ctrl&&t.keyCode==$4a6c1ac792b9165745c3666b6559e0f5$export$default.TAB?(i.keyState[t.keyCode]=!1,!0):!1!==i.onKeyboardEvent(i.EVT_KEY_DOWN,t.keyCode,i.keyState)&&void 0}},$parcel$global.onkeyup=function(t){if(t.target===$parcel$global.document.body){if(!i.keyState[t.keyCode])return!1;switch(i.keyState[t.keyCode]=!1,i.keyState.endTime=$a742bfd07457dd01c7b3c95bc090b0ee$export$default.now(!0),i.keyState.keyCode=t.keyCode,t.keyCode){case 16:i.keyState.shift=!1;break;case 17:i.keyState.ctrl=!1;break;case 18:i.keyState.alt=!1}return!1!==i.onKeyboardEvent(i.EVT_KEY_UP,t.keyCode,i.keyState)&&void 0}};const r=function(t,e){return $a742bfd07457dd01c7b3c95bc090b0ee$export$default.reverseRender?~~($a742bfd07457dd01c7b3c95bc090b0ee$export$default.screenWidth-1-(e-$a742bfd07457dd01c7b3c95bc090b0ee$export$default.offsY)/$a742bfd07457dd01c7b3c95bc090b0ee$export$default.canvasScaleFactor):~~((t-$a742bfd07457dd01c7b3c95bc090b0ee$export$default.offsX)/$a742bfd07457dd01c7b3c95bc090b0ee$export$default.canvasScaleFactor)},n=function(t,e){return $a742bfd07457dd01c7b3c95bc090b0ee$export$default.reverseRender?~~((t-$a742bfd07457dd01c7b3c95bc090b0ee$export$default.offsX)/$a742bfd07457dd01c7b3c95bc090b0ee$export$default.canvasScaleFactor):~~((e-$a742bfd07457dd01c7b3c95bc090b0ee$export$default.offsY)/$a742bfd07457dd01c7b3c95bc090b0ee$export$default.canvasScaleFactor)};"ontouchstart"in $parcel$global?(a.ontouchstart=function(t){t.preventDefault();for(var e=t.changedTouches,a=0;a<e.length;a++){$a742bfd07457dd01c7b3c95bc090b0ee$export$default.pointerState[e[a].identifier]||($a742bfd07457dd01c7b3c95bc090b0ee$export$default.pointerState[e[a].identifier]={id:e[a].identifier,isActive:!1,isDragging:!1,sx:0,sy:0,x:0,y:0,dx:0,dy:0,button:0});var i=$a742bfd07457dd01c7b3c95bc090b0ee$export$default.pointerState[e[a].identifier];i.isActive=!0,i.isDragging=!1,i.button=1,i.startTime=$a742bfd07457dd01c7b3c95bc090b0ee$export$default.now(!0),i.x=i.sx=r(e[a].clientX,e[a].clientY),i.y=i.sy=n(e[a].clientX,e[a].clientY),$a742bfd07457dd01c7b3c95bc090b0ee$export$default.onPointerEvent($a742bfd07457dd01c7b3c95bc090b0ee$export$default.EVT_POINTER_DOWN,i,$a742bfd07457dd01c7b3c95bc090b0ee$export$default.pointerState)}return!1},a.ontouchend=function(t){t.preventDefault();for(var e=t.changedTouches,a=0;a<e.length;a++)if($a742bfd07457dd01c7b3c95bc090b0ee$export$default.pointerState[e[a].identifier]){var i=$a742bfd07457dd01c7b3c95bc090b0ee$export$default.pointerState[e[a].identifier];i.endTime=$a742bfd07457dd01c7b3c95bc090b0ee$export$default.now(!0),i.deltaTime=i.endTime-i.startTime,i.x=r(e[a].clientX,e[a].clientY),i.y=n(e[a].clientX,e[a].clientY),i.isDragging&&$a742bfd07457dd01c7b3c95bc090b0ee$export$default.onPointerEvent($a742bfd07457dd01c7b3c95bc090b0ee$export$default.EVT_POINTER_DRAG_STOP,i,$a742bfd07457dd01c7b3c95bc090b0ee$export$default.pointerState),$a742bfd07457dd01c7b3c95bc090b0ee$export$default.onPointerEvent($a742bfd07457dd01c7b3c95bc090b0ee$export$default.EVT_POINTER_UP,i,$a742bfd07457dd01c7b3c95bc090b0ee$export$default.pointerState),i.isActive=!1,i.isDragging=!1,i.button=0}return!1},a.ontouchcancel=function(t){t.preventDefault();for(var e=t.changedTouches,a=0;a<e.length;a++)if($a742bfd07457dd01c7b3c95bc090b0ee$export$default.pointerState[e[a].identifier]){var i=$a742bfd07457dd01c7b3c95bc090b0ee$export$default.pointerState[e[a].identifier];i.x=r(e[a].clientX,e[a].clientY),i.y=n(e[a].clientX,e[a].clientY),$a742bfd07457dd01c7b3c95bc090b0ee$export$default.onPointerEvent(i.isDragging?$a742bfd07457dd01c7b3c95bc090b0ee$export$default.EVT_POINTER_DRAG_STOP:$a742bfd07457dd01c7b3c95bc090b0ee$export$default.EVT_POINTER_UP,i,$a742bfd07457dd01c7b3c95bc090b0ee$export$default.pointerState),i.isActive=!1,i.isDragging=!1,i.button=0}return!1},a.ontouchmove=function(t){t.preventDefault();for(var e=t.changedTouches,a=0;a<e.length;a++)if($a742bfd07457dd01c7b3c95bc090b0ee$export$default.pointerState[e[a].identifier]){var i=$a742bfd07457dd01c7b3c95bc090b0ee$export$default.pointerState[e[a].identifier];i.isActive&&!i.isDragging&&($a742bfd07457dd01c7b3c95bc090b0ee$export$default.onPointerEvent($a742bfd07457dd01c7b3c95bc090b0ee$export$default.EVT_POINTER_DRAG_START,i,$a742bfd07457dd01c7b3c95bc090b0ee$export$default.pointerState),i.isDragging=!0),i.x=r(e[a].clientX,e[a].clientY),i.y=n(e[a].clientX,e[a].clientY),i.dx=i.x-i.sx,i.dy=i.y-i.sy,$a742bfd07457dd01c7b3c95bc090b0ee$export$default.onPointerEvent(i.isDragging?$a742bfd07457dd01c7b3c95bc090b0ee$export$default.EVT_POINTER_DRAG_MOVE:$a742bfd07457dd01c7b3c95bc090b0ee$export$default.EVT_POINTER_MOVE,i,$a742bfd07457dd01c7b3c95bc090b0ee$export$default.pointerState)}return!1}):(a.onmousedown=function(t){t.preventDefault(),$a742bfd07457dd01c7b3c95bc090b0ee$export$default.pointerState[0]||($a742bfd07457dd01c7b3c95bc090b0ee$export$default.pointerState[0]={id:0,isActive:!1,isDragging:!1,button:0,sx:0,sy:0,x:0,y:0,dx:0,dy:0});var e=$a742bfd07457dd01c7b3c95bc090b0ee$export$default.pointerState[0];return e.isActive=!0,e.isDragging=!1,e.button=t.which,e.x=e.sx=r(t.clientX,t.clientY),e.y=e.sy=n(t.clientX,t.clientY),$a742bfd07457dd01c7b3c95bc090b0ee$export$default.onPointerEvent($a742bfd07457dd01c7b3c95bc090b0ee$export$default.EVT_POINTER_DOWN,e,$a742bfd07457dd01c7b3c95bc090b0ee$export$default.pointerState),!1},a.onmouseup=function(t){if(t.preventDefault(),!$a742bfd07457dd01c7b3c95bc090b0ee$export$default.pointerState[0])return!1;var e=$a742bfd07457dd01c7b3c95bc090b0ee$export$default.pointerState[0];e.x=r(t.clientX,t.clientY),e.y=n(t.clientX,t.clientY),e.isDragging&&$a742bfd07457dd01c7b3c95bc090b0ee$export$default.onPointerEvent($a742bfd07457dd01c7b3c95bc090b0ee$export$default.EVT_POINTER_DRAG_STOP,e,$a742bfd07457dd01c7b3c95bc090b0ee$export$default.pointerState),$a742bfd07457dd01c7b3c95bc090b0ee$export$default.onPointerEvent($a742bfd07457dd01c7b3c95bc090b0ee$export$default.EVT_POINTER_UP,e,$a742bfd07457dd01c7b3c95bc090b0ee$export$default.pointerState),e.isActive=!1,e.isDragging=!1,e.button=0},a.onmousemove=function(t){if(t.preventDefault(),!$a742bfd07457dd01c7b3c95bc090b0ee$export$default.pointerState[0])return!1;var e=$a742bfd07457dd01c7b3c95bc090b0ee$export$default.pointerState[0];return e.isActive&&!e.isDragging&&($a742bfd07457dd01c7b3c95bc090b0ee$export$default.onPointerEvent($a742bfd07457dd01c7b3c95bc090b0ee$export$default.EVT_POINTER_DRAG_START,e,$a742bfd07457dd01c7b3c95bc090b0ee$export$default.pointerState),e.isDragging=!0),e.x=r(t.clientX,t.clientY),e.y=n(t.clientX,t.clientY),e.dx=e.x-e.sx,e.dy=e.y-e.sy,$a742bfd07457dd01c7b3c95bc090b0ee$export$default.onPointerEvent(e.isDragging?$a742bfd07457dd01c7b3c95bc090b0ee$export$default.EVT_POINTER_DRAG_MOVE:$a742bfd07457dd01c7b3c95bc090b0ee$export$default.EVT_POINTER_MOVE,e,$a742bfd07457dd01c7b3c95bc090b0ee$export$default.pointerState),!1})},now:function(t){var e=hrnow();return t?e/1e3:e},time:function(){return this.frameTime},start:function(){this.onWindowResized(),this.flags.renderingPaused=!1,this.frameTimer.start()},stop:function(){this.flags.renderingPaused=!0,this.frameTimer.stop()},pause:function(){this.flags.renderingPaused=!0},resume:function(){this.flags.renderingPaused=!1,this.resetPerf()},onFrame:function(t,e){var a,i=this.now();if(t>this.maxFrameInterval&&(t=this.maxFrameInterval),0!=this.fixedFrameInterval&&(t=this.fixedFrameInterval),this.flags.renderingEnabled&&!this.flags.renderingPaused){0==this.perf.numFrames&&(this.perf.startTime=i-this.frameInterval,this.perf.lastTime=i),t*=this.timeScale,this.frameDeltaMillis=t,this.frameDelta=t/1e3,this.frameTimeMillis+=this.frameDeltaMillis,this.frameTime+=this.frameDelta,this.frameNumber++,this.frameUpdateInProgress=!0,a=hrnow();try{this.update(this.frameDelta,this.frameDeltaMillis)}catch(t){throw $a742bfd07457dd01c7b3c95bc090b0ee$export$default.stop(),t}this.perf.updateTime+=hrnow()-a,this.frameUpdateInProgress=!1,this.frameDrawInProgress=!0,a=hrnow();try{this.displayBuffer.clear(),this.draw(this.displayBuffer,this.displayBuffer2)}catch(t){throw $a742bfd07457dd01c7b3c95bc090b0ee$export$default.stop(),t}this.perf.drawTime+=hrnow()-a,this.frameDrawInProgress=!1,this.perf.lastTime=i,this.perf.numFrames++}else{this.frameDrawInProgress=!0;try{this.displayBuffer.clear(),this.draw(this.displayBuffer,this.displayBuffer2)}catch(t){console.error("DRAW ERROR: \n"+t+"\n"+t.stack)}this.frameDrawInProgress=!1}},onWindowResized:function(t=!1){if("document"in $parcel$global)this.options.fullscreen?(this._screenWidth=int($parcel$global.screen.width),this._screenHeight=int($parcel$global.screen.height)):(this._screenWidth=$parcel$global.innerWidth,this._screenHeight=$parcel$global.innerHeight);else if(this._screenWidth=this.options.screenWidth,this._screenHeight=this.options.screenHeight,null==this.options.screenWidth&&null==this.options.screenHeight)throw new Error("At least one screen dimension must be specified in headless mode.");this._screenWidth<this._screenHeight&&this.orientation==$a742bfd07457dd01c7b3c95bc090b0ee$export$default.LANDSCAPE||this._screenWidth>this._screenHeight&&this.orientation==$a742bfd07457dd01c7b3c95bc090b0ee$export$default.PORTRAIT?(this.screenWidth=this._screenHeight,this.screenHeight=this._screenWidth,this.reverseRender=!0):(this.screenWidth=this._screenWidth,this.screenHeight=this._screenHeight,this.reverseRender=!1);let e=this.options.screenWidth,a=this.options.screenHeight;null!=e&&null!=a||(null==e?e=int(this.screenWidth*(this.options.screenHeight/this.screenHeight)):null==a&&(a=int(this.screenHeight*(this.options.screenWidth/this.screenWidth))));let i=e,r=a;this.orientation==$a742bfd07457dd01c7b3c95bc090b0ee$export$default.AUTOMATIC&&i&&r&&(i>r&&this.screenWidth<this.screenHeight||i<r&&this.screenWidth>this.screenHeight)&&(i=r,r=e),this.canvasScaleFactor=1,i&&r?this.canvasScaleFactor=Math.min(this.screenWidth/i,this.screenHeight/r):i?this.canvasScaleFactor=this.screenWidth/i:r&&(this.canvasScaleFactor=this.screenHeight/r);let n=this.screenWidth,s=this.screenHeight;if(i&&(this.screenWidth=i),r&&(this.screenHeight=r),this.offsX=int(.5*(n-this.screenWidth*this.canvasScaleFactor)),this.offsY=int(.5*(s-this.screenHeight*this.canvasScaleFactor)),this.reverseRender){let t=this.offsX;this.offsX=this.offsY,this.offsY=t}this.scaleFactor=this.canvasScaleFactor*this.canvasPixelRatio,this.scaleFactor=~~(.7+this.scaleFactor),this.flags.renderingEnabled=!1,"document"in $parcel$global&&($parcel$global.document.body.style.backgroundColor=this.displayBuffer.backgroundColor),this.reverseRender?(this.displayBuffer.resize(this.screenHeight*this.scaleFactor,this.screenWidth*this.scaleFactor),this.displayBuffer.elem.style.width=this.screenHeight*this.canvasScaleFactor+"px",this.displayBuffer.elem.style.height=this.screenWidth*this.canvasScaleFactor+"px",this.displayBuffer2.resize(this.screenHeight*this.scaleFactor,this.screenWidth*this.scaleFactor),this.displayBuffer2.elem.style.width=this.screenHeight*this.canvasScaleFactor+"px",this.displayBuffer2.elem.style.height=this.screenWidth*this.canvasScaleFactor+"px"):(this.displayBuffer.resize(this.screenWidth*this.scaleFactor,this.screenHeight*this.scaleFactor),this.displayBuffer.elem.style.width=this.screenWidth*this.canvasScaleFactor+"px",this.displayBuffer.elem.style.height=this.screenHeight*this.canvasScaleFactor+"px",this.displayBuffer2.resize(this.screenWidth*this.scaleFactor,this.screenHeight*this.scaleFactor),this.displayBuffer2.elem.style.width=this.screenWidth*this.canvasScaleFactor+"px",this.displayBuffer2.elem.style.height=this.screenHeight*this.canvasScaleFactor+"px"),this.displayBuffer.elem.style.marginLeft=this.offsX+"px",this.displayBuffer.elem.style.marginTop=this.offsY+"px",this.displayBuffer2.elem.style.marginLeft=this.offsX+"px",this.displayBuffer2.elem.style.marginTop=this.offsY+"px",this.displayBuffer.loadIdentity(),this.displayBuffer2.loadIdentity(),1!=this.scaleFactor&&(this.displayBuffer.globalScale(this.scaleFactor),this.displayBuffer2.globalScale(this.scaleFactor)),this.reverseRender?(this.displayBuffer.rotate(Math.PI/2),this.displayBuffer.translate(-this.screenWidth,0),this.displayBuffer.flipped(!0),this.displayBuffer2.rotate(Math.PI/2),this.displayBuffer2.translate(-this.screenWidth,0),this.displayBuffer2.flipped(!0)):(this.displayBuffer.flipped(!1),this.displayBuffer2.flipped(!1)),this.scaleFactor*=this.options.extraScaleFactor,this.integerScaleFactor=~~(this.scaleFactor+.9),this.resetPerf(),this.initialMatrix=this.displayBuffer.getMatrix(),1!=t&&(this.flags.renderingEnabled=!0,this.onCanvasResized(this.screenWidth,this.screenHeight))},onCanvasResized:function(t,e){},resetPerf:function(){this.perf.numFrames=0},updateQueueAdd:function(t){return this.updateQueue.push(t),this.updateQueue.bottom},updateQueueRemove:function(t){this.updateQueue.remove(t instanceof $de63c6cea9e937c787e6669e8b7367fa$export$default?t:this.updateQueue.sgetNode(t))},drawQueueAdd:function(t){return this.drawQueue.push(t),this.drawQueue.bottom},drawQueueRemove:function(t){this.drawQueue.remove(t instanceof $de63c6cea9e937c787e6669e8b7367fa$export$default?t:this.drawQueue.sgetNode(t))},queueAdd:function(t){return this.updateQueue.push(t),this.drawQueue.push(t),t},queueRemove:function(t){this.updateQueue.remove(this.updateQueue.sgetNode(t)),this.drawQueue.remove(this.drawQueue.sgetNode(t))},update:function(t,e){for(var a,i=this.updateQueue.top;i;i=a)a=i.next,i.value.update(t,e)},draw:function(t,e){for(var a,i=this.drawQueue.top;i;i=a)a=i.next,i.value.draw(t,e)},interpolate:function(t,e,a,i,r){let n={},s={},o=0;for(let e in t)n[e]=0,s[e]=t[e],o++;let d={update:function(c){for(let r in n){if(n[r]==a[r])continue;n[r]+=c,n[r]>=a[r]&&(n[r]=a[r],o--);let d=i[r](n[r]/a[r]);s[r]=(1-d)*t[r]+d*e[r]}r(s,0==o),0==o&&$a742bfd07457dd01c7b3c95bc090b0ee$export$default.updateQueueRemove(d)}};$a742bfd07457dd01c7b3c95bc090b0ee$export$default.updateQueueAdd(d),d.update(0)},onKeyboardEvent:function(t,e,a){},onPointerEvent:function(t,e,a){}},$0f0d574922f872efb1550e174d32a641$export$default=function(t,e){this.data=[],this.accumSize=t,this.expectedValue=e,this.stdSum=0,this.stdCount=0};$0f0d574922f872efb1550e174d32a641$export$default.prototype.begin=function(){this.startTime=performance.now()},$0f0d574922f872efb1550e174d32a641$export$default.prototype.end=function(){this.feed(performance.now()-this.startTime)},$0f0d574922f872efb1550e174d32a641$export$default.prototype.feed=function(t){this.data.push(t),this.data.length==this.accumSize&&(this.report(),this.data=[])},$0f0d574922f872efb1550e174d32a641$export$default.prototype.report=function(t){for(var e=null,a=null,i=0,r=0,n=0;n<this.data.length;n++)e=null===e?this.data[n]:Math.min(e,this.data[n]),a=null===a?this.data[n]:Math.max(a,this.data[n]),i+=this.data[n];i/=this.data.length;var s=void 0!==this.expectedValue?this.expectedValue:i;for(n=0;n<this.data.length;n++)r+=Math.pow(this.data[n]-s,2);r=Math.sqrt(r/this.data.length),this.stdSum+=r,this.stdCount++;var o="N: "+this.stdCount+", MIN: "+e+", MAX: "+a+", AVG: "+i.toFixed(2)+(void 0!==this.expectedValue?", E: "+this.expectedValue:"")+", STDDEV: "+r.toFixed(2)+", AVG_STDDEV: "+(this.stdSum/this.stdCount).toFixed(2);if(this.min=e,this.max=a,this.avg=i,this.std=r,!0===t)return o;console.log(o)};var $65fdb8290b08c2badcb2ab916e6236a2$export$default=$3cfc71de303eee1e948c94eb1134db65$exports.Class.extend({className:"IDrawable",width:null,height:null,__ctor:function(t,e){this.width=t,this.height=e},draw:function(t,e=0,a=0,i=null,r=null){},getDrawable:function(){return this}}),$a6fa89fc5b54b955a2b83ca77cb68a18$export$default=$3cfc71de303eee1e948c94eb1134db65$exports.Class.extend({className:"IUpdateable",__ctor:function(){},update:function(t){}}),$b8a6185dc55af5ed70d98d8aa128380b$exports={};const $f54301229ec8e69146530a6a9ae01343$export$default={};Object.assign($f54301229ec8e69146530a6a9ae01343$export$default,{integerScaling:!0,pixelated:!1,init:function(t=null){t&&Object.assign(this,t)},load:function(t,e,a,i,r){if(i||(i=Object.keys(t),t.__original=$3cfc71de303eee1e948c94eb1134db65$exports.Rin.clone(t),r=0),e&&e(r,i.length,r/i.length),r!=i.length){var n=t[i[r]];switch(n.resName=i[r],n.type){case"image":n.data=new Image,n.data.onload=function(){var s=n.data.width/n.data.height;n.scale&&(n.width=~~(n.data.width*n.scale),n.height=~~(n.data.height*n.scale)),n.width||n.height?n.width&&!n.height?n.height=int(n.width/s):!n.width&&n.height&&(n.width=int(s*n.height)):(n.width=n.data.width,n.height=n.data.height),n.owidth=n.data.width,n.oheight=n.data.height,null!==n.pixelated&&n.hasOwnProperty("pixelated")||(n.pixelated=$f54301229ec8e69146530a6a9ae01343$export$default.pixelated),(n.data.width!=n.width||n.data.height!=n.height||!0!==n.original&&1!=$a742bfd07457dd01c7b3c95bc090b0ee$export$default.scaleFactor)&&(!0===n.original?n.data=$f54301229ec8e69146530a6a9ae01343$export$default.resizeImage(n,n.width,n.height,n.pixelated,!0):n.data=$f54301229ec8e69146530a6a9ae01343$export$default.resizeImage(n,n.width*(n.pixelated?$a742bfd07457dd01c7b3c95bc090b0ee$export$default.integerScaleFactor:$a742bfd07457dd01c7b3c95bc090b0ee$export$default.scaleFactor),n.height*(n.pixelated?$a742bfd07457dd01c7b3c95bc090b0ee$export$default.integerScaleFactor:$a742bfd07457dd01c7b3c95bc090b0ee$export$default.scaleFactor),n.pixelated,!0)),n.rscale=n.data.width/n.width,$a742bfd07457dd01c7b3c95bc090b0ee$export$default.tempDisplayBuffer.drawImage(n.data,0,0),$a742bfd07457dd01c7b3c95bc090b0ee$export$default.displayBuffer.prepareImage(n.data),$f54301229ec8e69146530a6a9ae01343$export$default.onLoaded(t,i[r]),$f54301229ec8e69146530a6a9ae01343$export$default.load(t,e,a,i,r+1)},n.data.onerror=function(){console.error("Error: Unable to load: "+n.resName)},n.data.src=n.src+"?r="+Math.random();break;case"images":var s=(d=n.src).indexOf("#"),o=(c=d.lastIndexOf("#"))-s+1;if(-1==s)return void console.error("Unable to load: "+n.resName+"\nError: The 'src' attribute requires one or more '#' marks.");if(!n.count)return void console.error("Unable to load: "+n.resName+"\nError: The 'count' attribute was not found.");n._i=0,n.data=[],(f=function(){if(n._i==n.count)return $f54301229ec8e69146530a6a9ae01343$export$default.onLoaded(t,i[r]),void $f54301229ec8e69146530a6a9ae01343$export$default.load(t,e,a,i,r+1);var d={type:"image",width:n.width,height:n.height,scale:n.scale};d.src=n.src.substr(0,s)+(n._i++/Math.pow(10,o)).toFixed(o).substr(2)+n.src.substr(c+1),d.data=new Image,d.resName=n.resName+"#"+(n._i-1),d.data.onload=function(){var t=d.data.width/d.data.height;d.scale&&(d.width=~~(d.data.width*d.scale),d.height=~~(d.data.height*d.scale)),d.width||d.height?d.width&&!d.height?d.height=int(d.width/t):!d.width&&d.height&&(d.width=int(t*d.height)):(d.width=d.data.width,d.height=d.data.height),1==n._i&&(n.owidth=d.data.width,n.oheight=d.data.height),(d.data.width!=d.width||d.data.height!=d.height||!0!==d.original&&1!=$a742bfd07457dd01c7b3c95bc090b0ee$export$default.scaleFactor)&&(null!==n.pixelated&&n.hasOwnProperty("pixelated")||(n.pixelated=$f54301229ec8e69146530a6a9ae01343$export$default.pixelated),!0===d.original?d.data=$f54301229ec8e69146530a6a9ae01343$export$default.resizeImage(d,d.width,d.height,n.pixelated,!0):d.data=$f54301229ec8e69146530a6a9ae01343$export$default.resizeImage(d,d.width*(n.pixelated?$a742bfd07457dd01c7b3c95bc090b0ee$export$default.integerScaleFactor:$a742bfd07457dd01c7b3c95bc090b0ee$export$default.scaleFactor),d.height*(n.pixelated?$a742bfd07457dd01c7b3c95bc090b0ee$export$default.integerScaleFactor:$a742bfd07457dd01c7b3c95bc090b0ee$export$default.scaleFactor),n.pixelated,!0)),d.rscale=d.data.width/d.width,1==n._i&&(n.width=d.width,n.height=d.height,n.rscale=d.rscale),$a742bfd07457dd01c7b3c95bc090b0ee$export$default.tempDisplayBuffer.drawImage(d.data,0,0),$a742bfd07457dd01c7b3c95bc090b0ee$export$default.displayBuffer.prepareImage(d.data),n.data.push(d),f()},d.data.onerror=function(){console.error("Error: Unable to load: "+d.resName)},d.data.src=d.src+"?r="+Math.random()})();break;case"audio":if(n.track||(n.track="sfx"),$parcel$global.plugins&&$parcel$global.plugins.NativeAudio&&"sfx"==n.track){n.engine=$b8a6185dc55af5ed70d98d8aa128380b$export$Sound.ENGINE_NATIVEAUDIO,n.data="snd_"+r,$parcel$global.plugins.NativeAudio.preloadSimple(n.data,n.src,(function(){$f54301229ec8e69146530a6a9ae01343$export$default.onLoaded(t,i[r]),$f54301229ec8e69146530a6a9ae01343$export$default.load(t,e,a,i,r+1)}),(function(t){console.error("Error: Unable to load (sfx): "+n.resName+"\n"+t)}));break}if($parcel$global.audioContext){n.engine=$b8a6185dc55af5ed70d98d8aa128380b$export$Sound.ENGINE_WEBAUDIO,fetchAudioBuffer(n.src+"?r="+Math.random()).then((s=>{n.data=s,$f54301229ec8e69146530a6a9ae01343$export$default.onLoaded(t,i[r]),$f54301229ec8e69146530a6a9ae01343$export$default.load(t,e,a,i,r+1)})).catch((t=>{console.error("Error: Unable to load: "+n.resName)}));break}n.data=new Audio,n.engine=$b8a6185dc55af5ed70d98d8aa128380b$export$Sound.ENGINE_HTML5,n.data.oncanplaythrough=function(){$f54301229ec8e69146530a6a9ae01343$export$default.onLoaded(t,i[r]),$f54301229ec8e69146530a6a9ae01343$export$default.load(t,e,a,i,r+1)},n.data.onerror=function(){console.error("Error: Unable to load: "+n.resName)},n.data.src=n.src+"?r="+Math.random();break;case"audios":var d,c,f;s=(d=n.src).indexOf("#"),o=(c=d.lastIndexOf("#"))-s+1;if(-1==s)return void console.error("Unable to load: "+n.resName+"\nError: The 'src' attribute requires one or more '#' marks.");if(!n.count)return void console.error("Unable to load: "+n.resName+"\nError: The 'count' attribute was not found.");n._i=0,n.data=[],(f=function(){if(n._i==n.count)return $f54301229ec8e69146530a6a9ae01343$export$default.onLoaded(t,i[r]),void $f54301229ec8e69146530a6a9ae01343$export$default.load(t,e,a,i,r+1);var d={type:"audio",track:n.track};return d.src=n.src.substr(0,s)+(n._i++/Math.pow(10,o)).toFixed(o).substr(2)+n.src.substr(c+1),d.resName=n.resName+"#"+(n._i-1),d.track||(d.track="sfx"),$parcel$global.plugins&&$parcel$global.plugins.NativeAudio&&"sfx"==d.track?(d.engine=$b8a6185dc55af5ed70d98d8aa128380b$export$Sound.ENGINE_NATIVEAUDIO,d.data="snd_"+r+"_"+n._i,void $parcel$global.plugins.NativeAudio.preloadSimple(d.data,d.src,(function(){n.data.push(d),f()}),(function(t){console.error("Error: Unable to load (sfx): "+d.resName+"\n"+t)}))):$parcel$global.audioContext?(d.engine=$b8a6185dc55af5ed70d98d8aa128380b$export$Sound.ENGINE_WEBAUDIO,void fetchAudioBuffer(d.src+"?r="+Math.random()).then((t=>{d.data=t,n.data.push(d),f()})).catch((t=>{console.error("Error: Unable to load: "+d.resName)}))):(d.data=new Audio,d.engine=$b8a6185dc55af5ed70d98d8aa128380b$export$Sound.ENGINE_HTML5,d.data.oncanplaythrough=function(){n.data.push(d),f()},d.data.onerror=function(){console.error("Error: Unable to load: "+d.resName)},void(d.data.src=d.src+"?r="+Math.random()))})();break;case"json":fetchd(n.src+"?r="+Math.random(),{responseType:"json"}).then((function(s){n.data=s,$f54301229ec8e69146530a6a9ae01343$export$default.onLoaded(t,i[r]),$f54301229ec8e69146530a6a9ae01343$export$default.load(t,e,a,i,r+1)})).catch((function(t){console.error("Error: Unable to load: "+n.resName+". Error: "+t)}));break;case"object":n.data={},$f54301229ec8e69146530a6a9ae01343$export$default.onLoaded(t,i[r]),$f54301229ec8e69146530a6a9ae01343$export$default.load(t,e,a,i,r+1)}}else a&&a(t)},unload:function(t){var e;for(var a in t)if("__original"!=a){switch(t[a].r&&(dispose(t[a]),t[a]=t[a].r),t[a].type){case"audio":case"audios":break;case"images":for(var i=0;i<t[a].data.length;i++)dispose(t[a].data[i]);break;default:dispose(t[a].data)}t[a].data=null,delete t[a]}else e=t[a],delete t[a];for(var a in e)t[a]=e[a]},onLoaded:function(t,e){var a=t[e];a.wrapper&&a.wrapper in $b8a6185dc55af5ed70d98d8aa128380b$exports&&(t[e]=new $b8a6185dc55af5ed70d98d8aa128380b$exports[a.wrapper](a))},resizeImage:function(t,e,a,i,r){var n=t.data.width,s=t.data.height;if(e=int(e),a=int(a),n==e&&s==a)return t.data;if(!this.integerScaling&&i&&(i=null),i){if(~~(e/n)>0){var o,d=~~(e/n+.9),c=(e=d*n)/n,f=(a=d*s)/s;$=new $18f02cd3c01ba82b0ae213a40b3411fa$export$default({hidden:!0,antialias:!1}).resize(e,a);(o=new $18f02cd3c01ba82b0ae213a40b3411fa$export$default({hidden:!0,antialias:!1}).resize(n,s)).drawImage(t.data,0,0);for(var l=0;l<s;l++)for(var u=o.getImageData(0,l,n,1).data,h=0,p=0;p<n&&h<u.length;p++,h+=4)$.fillStyle("rgba("+u[h]+","+u[h+1]+","+u[h+2]+","+u[h+3]/255+")"),$.fillRect(p*c,l*f,c,f);return o.dispose(),$.elem}return this.resizeImage(t,e,a,null,r)}for((o=new $18f02cd3c01ba82b0ae213a40b3411fa$export$default({hidden:!0,antialias:i=null!==i}).resize(n,s)).drawImage(t.data,0,0);;){var $,b=n>>1,x=s>>1;if(b<=e||x<=a)break;($=new $18f02cd3c01ba82b0ae213a40b3411fa$export$default({hidden:!0,antialias:i}).resize(b,x)).drawImage(o.elem,0,0,b,x),o.dispose(),n=b,s=x,o=$}return($=new $18f02cd3c01ba82b0ae213a40b3411fa$export$default({hidden:!0,antialias:i}).resize(e,a)).drawImage(o.elem,0,0,e,a),o.dispose(),r&&dispose(t.data),$.elem},flipImageHorz:function(t){var e=new $18f02cd3c01ba82b0ae213a40b3411fa$export$default({hidden:!0}).resize(t.data.width,t.data.height);return e.translate(t.data.width,0),e.scale(-1,1),e.drawImage(t.data,0,0),e.elem},showDownload:function(t,e){var a=document.createElement("a");a.href=e,a.style.display="none",a.download=t,a.target="_blank",document.body.appendChild(a),a.click(),document.body.removeChild(a)},showFilePicker:function(t,e,a){var i=document.createElement("input");i.type="file",i.accept=e,i.style.display="none",i.multiple=t,document.body.appendChild(i),i.onchange=function(){a(i.files)},document.body.onfocus=function(){document.body.onfocus=null,document.body.removeChild(i)},i.click()},loadAsDataURL:function(t,e){var a=new FileReader;a.onload=function(t){e(t.target.result)},a.readAsDataURL(t)},loadAsText:function(t,e){var a=new FileReader;a.onload=function(t){e(t.target.result)},a.readAsText(t)},loadAsArrayBuffer:function(t,e){var a=new FileReader;a.onload=function(t){e(t.target.result)},a.readAsArrayBuffer(t)},loadAllAsDataURL:function(t,e){var a=[];if(t&&t.length){var i=function(r){r!=t.length?$f54301229ec8e69146530a6a9ae01343$export$default.loadAsDataURL(t[r],(function(e){a.push({name:t[r].name,size:t[r].size,url:e}),i(r+1)})):e(a)};i(0)}else e(a)}});var $0489d5e8995f6d5e84c764d91c241c20$export$default=$65fdb8290b08c2badcb2ab916e6236a2$export$default.extend({className:"Drawable",__ctor:function(t){if("image"!=t.type)throw new Error("Resource is not an image.");this._super.IDrawable.__ctor(t.width,t.height),this.r=t,this.r.wrapper=this},draw:function(t,e=0,a=0,i=null,r=null){null==i?t.drawImageResource(this.r,e,a):t.drawImageResource(this.r,e,a,i,r)}});$f54301229ec8e69146530a6a9ae01343$export$default.Image=function(t,e=null){return{type:"image",wrapper:"Drawable",src:t,pixelated:null,...e}};var $2c78143d1d44784e65f3ac16c4f372ed$export$default=$65fdb8290b08c2badcb2ab916e6236a2$export$default.extend({className:"Placeholder",width:null,height:null,__ctor:function(t){if("object"!=t.type)throw new Error("Resource is not an object.");this._super.IDrawable.__ctor(t.width,t.height),this.r=t,this.r.wrapper=this,this.data=null,$18f02cd3c01ba82b0ae213a40b3411fa$export$default.renderImage(t.width,t.height,(e=>{e.fillStyle(this.r.color),e.fillRect(0,0,t.width,t.height)}),(t=>{this.data=t}))},draw:function(t,e=0,a=0,i=null,r=null){this.data&&t.drawImageResource(this,e,a,i,r)}});$f54301229ec8e69146530a6a9ae01343$export$default.Placeholder=function(t,e,a="#ff0000",i=null){return{type:"object",wrapper:"Placeholder",width:t,height:e,color:a,...i}};var $0cb27a54d6bfd9618a34153fdeb1528a$export$default=$3cfc71de303eee1e948c94eb1134db65$exports.Class.extend({className:"Spritesheet",width:0,height:0,numCols:0,numFrames:0,drawableCache:null,__ctor:function(t){if("image"!=t.type&&"images"!=t.type)throw new Error("Resource is not a sprite sheet.");var e,a;if("image"==t.type){if(!(t.config.sheetWidth||t.config.numFrames&&t.config.frameWidth))throw new Error("Required sheetWidth or numFrames+frameWidth");t.config.sheetWidth||(t.config.sheetWidth=t.config.numFrames*t.config.frameWidth),t.config.frameHeight||(t.config.frameHeight=t.data.height),e=t.data.width/t.config.sheetWidth,a=t.width/t.config.sheetWidth}else t.config||(t.config={}),t.config.frameWidth||(t.config.frameWidth=t.data[0].width),t.config.frameHeight||(t.config.frameHeight=t.data[0].height),e=t.data[0].data.width/t.config.frameWidth,a=t.data[0].width/t.config.frameWidth;var i=t.config.frameWidth,r=t.config.frameHeight;this.r_frameWidth=i*e,this.r_frameHeight=r*e,this.width=i*a,this.height=r*a,"image"==t.type?(this.numCols=~~(t.data.width/this.r_frameWidth),this.numRows=Math.ceil(t.data.height/this.r_frameHeight),this.numFrames=t.config.numFrames||this.numCols*this.numRows):(this.numCols=this.numRows=0,this.numFrames=t.data.length),this.drawableCache={},this.r=t,this.r.wrapper=this},drawFrame:function(t,e,a,i,r=0,n=0){if(!(i<0||i>=this.numFrames))if(r||(r=this.width),n||(n=this.height),0!=this.numCols){var s=~~(i/this.numCols)*this.r_frameHeight,o=i%this.numCols*this.r_frameWidth;t.drawImage(this.r.data,o,s,this.r_frameWidth,this.r_frameHeight,e,a,r,n)}else t.drawImage(this.r.data[i].data,0,0,this.r_frameWidth,this.r_frameHeight,e,a,r,n)},getDrawable:function(t){return 2==arguments.length&&(t=arguments[1]*this.numCols+arguments[0]),this.drawableCache[t]||(this.drawableCache[t]={width:this.width,height:this.height,frameIndex:t,r:this,draw:function(t,e=0,a=0,i=0,r=0){t.drawFrame(this.r,e,a,this.frameIndex,i,r)}}),this.drawableCache[t]}});$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.drawFrame=function(t,e,a,i,r,n){t.drawFrame(this,e,a,i,r,n)};const $ee0366d80cdf44b2e47ac4bfeefa88ae$export$Animation=$3cfc71de303eee1e948c94eb1134db65$exports.Class.extend({seq:null,seq_i:0,trans:null,trans_i:0,trans_t:null,queue:null,fps:0,frameMillis:0,time:0,frameNumber:-1,finished:!1,paused:!1,width:null,height:null,finishedCallback:null,finishedCallbackChain:null,frameCallback:null,__ctor:function(t,e,a){this.anim=t,this.queue=[],this.seq=e,this.trans=null,this.width=t.width,this.height=t.height,this.fps=a,this.setFps(this.seq.fps||this.fps)},__dtor:function(){},setFps:function(t){return this.frameMillis=~~(1e3/t),this.time=0,this},setPaused:function(t){return this.paused=t,this},setInitialDelay:function(t){return this.time=1e3*-t,this},onFinished:function(t){return this.finishedCallback=t,this},then:function(t){return this.finishedCallback!==this.thenCallback&&(this.finishedCallback=this.thenCallback,this.finishedCallbackChain=[]),this.finishedCallbackChain.push(t),this},thenCallback:function(){if(!this.finishedCallbackChain.length)return!1;this.finishedCallbackChain.shift().call(this)},onFrame:function(t){return this.frameCallback=t,this},setFrame:function(t){return this.seq_i=t%this.seq.group.length,this},getFrame:function(t){return!0===t?this.seq_i/(this.seq.group.length-1):this.seq_i},getLength:function(){return this.seq.group.length},draw:function(t,e=0,a=0){if(this.time<0)return this.paused||(this.time+=this.frameNumber==$a742bfd07457dd01c7b3c95bc090b0ee$export$default.frameNumber?0:$a742bfd07457dd01c7b3c95bc090b0ee$export$default.frameDeltaMillis,this.frameNumber=$a742bfd07457dd01c7b3c95bc090b0ee$export$default.frameNumber),void(this.time>0&&(this.time=0));if(this.seq_i!=this.seq.group.length){i=this.seq.group[this.seq_i];if(null!=t)for(r=0;r<i.length;r++)t.drawFrame(this.anim,e,a,i[r]);if(this.paused||(this.time+=this.frameNumber==$a742bfd07457dd01c7b3c95bc090b0ee$export$default.frameNumber?0:$a742bfd07457dd01c7b3c95bc090b0ee$export$default.frameDeltaMillis,this.frameNumber=$a742bfd07457dd01c7b3c95bc090b0ee$export$default.frameNumber),this.time>=this.frameMillis){const t=this.seq_i;this.time-=this.frameMillis,this.seq_i++,this.seq_i==this.seq.group.length&&(null!=this.trans?(++this.trans_i==this.trans.length?(this.trans=null,this.seq=this.trans_t):this.seq=this.trans[this.trans_i],this.seq_i=0,this.time=0,this.finished=!1):(this.seq.loop?this.seq_i=0:(this.finished=!0,this.finishedCallback&&!1===this.finishedCallback(this)&&(this.finishedCallback=null)),this.queue.length&&this.use(this.queue.shift(),!0))),this.frameCallback&&!1===this.frameCallback(t,this.seq.group.length-1,this)&&(this.frameCallback=null)}}else{var i=this.seq.group[this.seq_i-1];if(null!=t)for(var r=0;r<i.length;r++)t.drawFrame(this.anim,e,a,i[r])}},advance:function(){this.setPaused(!1),this.draw(null,0,0)},getName:function(){return(null==this.trans?this.seq:this.trans_t).name},use:function(t,e=!1){var a=null==this.trans?this.seq:this.trans_t;return a.name!=t||this.finished||!0===e?(a.trans&&a.trans[t]?(this.trans_t=this.anim.a.seq[t],this.trans=a.trans[t],this.trans_i=0,this.seq=this.trans[this.trans_i]):(this.seq=this.anim.a.seq[t],this.setFps(this.seq.fps||this.fps)),this.seq_i=0,this.time=0,this.finished=!1,this):this},setQueue:function(t){this.queue=t,this.use(this.queue.shift(),!0)},enqueue:function(t,e=!1){let a=null==this.trans?this.seq:this.trans_t,i=this.queue.length>0?this.queue[this.queue.length-1]:a.name;return a.name==t&&a.loop?this:i!=t||e?a.loop||this.finished?(this.use(t,!0),this):(this.queue.push(t),this):this}});var $ee0366d80cdf44b2e47ac4bfeefa88ae$export$default=$0cb27a54d6bfd9618a34153fdeb1528a$export$default.extend({className:"SpritesheetAnimation",__ctor:function(t){if(!t.anim)throw new Error("Animation descriptors not found.");this._super.Spritesheet.__ctor(t),this.r=t,this.r.wrapper=this;var e=this.a=this.r.anim;if(!e.initialized){if(e.def||(e.def="def"),e.seq||(e.seq={}),!e.seq[e.def]&&("def"==e.def||"defloop"==e.def)){for(var a={loop:"def"!=e.def,group:[]},i=0;i<this.numFrames;i++)a.group.push([i]);e.seq[e.def]=a}if(!e.seq[e.def])throw new Error("Undefined default sequence: "+e.def);e.fps||(e.fps=25),e.def=e.seq[e.def];var r=0;for(var i in e.seq){var n,s,o;if(e.seq[i].name=i,e.seq[i].loop||(e.seq[i].loop=!1),"string"==typeof e.seq[i].group)if(-1!=e.seq[i].group.indexOf(" "))for(var d in n=e.seq[i].group.split(" "),e.seq[i].group=[],n)e.seq[i].group.push([int(n[d])]);else if(-1!=e.seq[i].group.indexOf(","))for(o=e.seq[i].group.split(","),n=int(o[0]),s=int(o[1]),e.seq[i].group=[],o=n;o<=s;o++)e.seq[i].group.push([o]);else for(n=int(e.seq[i].group),e.seq[i].group=[];n--;)e.seq[i].group.push([r++])}if(e.trans)for(var i in e.trans)for(var d in e.seq[i].trans=e.trans[i],e.trans[i])for(var c=0;c<e.trans[i][d].length;c++){var f=e.trans[i][d][c];if(!e.seq[f])throw new Error("Undefined sequence: "+f);e.trans[i][d][c]=e.seq[f]}e.initialized=!0}},getDrawable:function(t=null,e=null){return new $ee0366d80cdf44b2e47ac4bfeefa88ae$export$Animation(this,t?this.a.seq[t]:this.a.def,e||this.a.fps)},getSequence:function(t=null){return t?this.a.seq[t]:this.a.def}}),$5f589481835294b2574909edd1d52978$export$default=$3cfc71de303eee1e948c94eb1134db65$exports.Class.extend({__ctor:function(t){if("image"!=t.type||!t.font)throw new Error("Resource is not a sprite font.");var e=t.data.width/t.font.sheetWidth,a=t.width/t.font.sheetWidth;this.r_charWidth=t.font.charWidth*e,this.r_charHeight=t.font.charHeight*e,this.charWidth=t.font.charWidth*a,this.charHeight=t.font.charHeight*a;var i=~~(t.font.sheetWidth/t.font.charWidth);this.r=t,this.r.wrapper=this;var r=t.font.charset.length,n=0,s=0;for(this.charTable={},this.charTable[" "]={charWidth:this.charWidth>>1,r_charWidth:this.r_charWidth};n<r;){for(var o=0,d=0;d<i&&n<r;d++){var c=t.font.charset[n++];this.charTable[c]={x:o,y:s,charWidth:this.charWidth,r_charWidth:this.r_charWidth},o+=this.r_charWidth}s+=this.r_charHeight}if(t.font.widths)for(r=t.font.widths.length,d=0;d<r;d+=2)for(var f=t.font.widths[d]*a,l=t.font.widths[d]*e,u=t.font.widths[d+1],h=0;h<u.length;h++)this.charTable[u[h]].charWidth=f,this.charTable[u[h]].r_charWidth=l},draw:function(t,e,a,i){for(var r=i.length,n=0;n<r;n++)if(" "!=i[n]){var s=this.charTable[i[n]];s&&(t.drawImage(this.r.data,s.x,s.y,s.r_charWidth,this.r_charHeight,e,a,s.charWidth,this.charHeight),e+=s.charWidth)}else e+=this.charTable[i[n]].charWidth},measureWidth:function(t){for(var e=t.length,a=0,i=0;i<e;i++){var r=this.charTable[t[i]];r&&(a+=r.charWidth)}return a},measureHeight:function(t){return this.charHeight}});$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.drawText=function(t,e,a,i){t.draw(this,e,a,i.toString())},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.drawTextAligned=function(t,e,a,i,r,n,s,o){o=o.toString(),0==n?e+=i-t.measureWidth(o)>>1:n<0?e=e-n-1:n>0&&(e=e+i-n+1-t.measureWidth(o)),0==s?a+=r-t.measureHeight(o)>>1:s<0?a=a-s-1:s>0&&(a=a+r-s+1-t.measureHeight(o)),t.draw(this,e,a,o)},$18f02cd3c01ba82b0ae213a40b3411fa$export$default.prototype.drawTextAligned2=function(t,e,a,i,r){this.drawTextAligned(t,e.x1,e.y1,e.width(),e.height(),a,i,r)};const $268469c1d69cf3b64bdd8d23cf2d7870$export$default=$3cfc71de303eee1e948c94eb1134db65$exports.Class.extend({r:null,__ctor:function(t){if("audio"!=t.type)throw new Error("Resource is not audio.");this.r=t,this.r.wrapper=this,this.track=$268469c1d69cf3b64bdd8d23cf2d7870$export$default[this.r.track.toUpperCase()]},play:function(t,e){return $268469c1d69cf3b64bdd8d23cf2d7870$export$default.play(this,t,e)},playLoop:function(t,e){return $268469c1d69cf3b64bdd8d23cf2d7870$export$default.playLoop(this,t,e)}});$268469c1d69cf3b64bdd8d23cf2d7870$export$default.ENGINE_HTML5=1,$268469c1d69cf3b64bdd8d23cf2d7870$export$default.ENGINE_WEBAUDIO=2,$268469c1d69cf3b64bdd8d23cf2d7870$export$default.ENGINE_NATIVEAUDIO=3,Object.assign($268469c1d69cf3b64bdd8d23cf2d7870$export$default,{MASTER:{enabled:!0,volume:1},SFX:{enabled:!0,volume:1},MUSIC:{enabled:!0,volume:.8},VOICE:{enabled:!0,volume:1},MAX_POOL_SIZE:100,pool:[],active:[],register:function(t){t.registered||(t.registered=!0,this.active.push(t))},unregister:function(t){if(t.registered){t.registered=!1;var e=$268469c1d69cf3b64bdd8d23cf2d7870$export$default.active.indexOf(t);-1!=e&&$268469c1d69cf3b64bdd8d23cf2d7870$export$default.active.splice(e,1)}},updateNode:function(t,e){switch(t.snd.r.engine){case $268469c1d69cf3b64bdd8d23cf2d7870$export$default.ENGINE_WEBAUDIO:return this.updateNode_webaudio(t,e);case $268469c1d69cf3b64bdd8d23cf2d7870$export$default.ENGINE_NATIVEAUDIO:return this.updateNode_nativeaudio(t,e)}return this.updateNode_audio(t,e)},alloc_webaudio:function(t){t.gainNode=audioContext.createGain(),t.gainNode.gain.value=0,t.gainNode.connect(audioContext.destination),t.res=audioContext.createBufferSource(),t.res.buffer=t.snd.r.data,t.res.loop=!1,t.res.connect(t.gainNode),t.res.node=t},free_webaudio:function(t){t.res&&(t.gainNode.disconnect(),t.res=null,t.gainNode=null)},alloc_nativeaudio:function(t){t.res=!0},free_nativeaudio:function(t){t.res=!1},alloc_audio:function(t){return this.pool.length?item=this.pool.pop():item=t.cloneNode(),item._src=t.src,item},free_audio:function(t){this.pool.length!=this.MAX_POOL_SIZE&&this.pool.push(t)},updateNode_webaudio:function(t,e){if(!t)return null;var a=$268469c1d69cf3b64bdd8d23cf2d7870$export$default.MASTER.volume*t.snd.track.volume*t.volume;switch(e){case"play":if(t.playing)break;t.res||$268469c1d69cf3b64bdd8d23cf2d7870$export$default.alloc_webaudio(t),t.playTime=hrnow(),t.playing=!0,t.pause=!1,t.res.onended=$268469c1d69cf3b64bdd8d23cf2d7870$export$default.onended_webaudio,t.gainNode.gain.value=a;try{t.res.start(0,t.startTime/1e3)}catch(e){return $268469c1d69cf3b64bdd8d23cf2d7870$export$default.free_webaudio(t),null}$268469c1d69cf3b64bdd8d23cf2d7870$export$default.register(t);break;case"setvolume":if(!t.res)break;t.gainNode.gain.value=a;break;case"stop":if(!t.playing&&t.paused){t.startTime=0,t.paused=!1,$268469c1d69cf3b64bdd8d23cf2d7870$export$default.free_webaudio(t),t.callback&&t.callback();break}if(!t.res)break;t.startTime=0,t.playing=!1,t.pause=!1,t.res.onended=null,$268469c1d69cf3b64bdd8d23cf2d7870$export$default.unregister(t),t.res.stop(),$268469c1d69cf3b64bdd8d23cf2d7870$export$default.free_webaudio(t),t.callback&&t.callback();break;case"pause":if(!t.playing||!t.res)break;t.startTime+=hrnow()-t.playTime,t.playing=!1,t.pause=!0,t.res.onended=null,$268469c1d69cf3b64bdd8d23cf2d7870$export$default.unregister(t),t.res.stop(),$268469c1d69cf3b64bdd8d23cf2d7870$export$default.free_webaudio(t);break;case"softstop":if(!t.playing&&t.paused){t.startTime=0,t.paused=!1;break}if(!t.playing||!t.res)break;t.startTime=0,t.playing=!1,t.pause=!1,t.res.loop=!1}return t},onended_webaudio:function(t){var e=t.currentTarget.node;if(e.playing&&0!=e.loop)return $268469c1d69cf3b64bdd8d23cf2d7870$export$default.free_webaudio(e),-1!=e.loop&&e.loop--,e.startTime=0,e.playing=!1,e.pause=!1,void $268469c1d69cf3b64bdd8d23cf2d7870$export$default.updateNode_webaudio(e,"play");e.res.onended=null,e.res.volume=0,$268469c1d69cf3b64bdd8d23cf2d7870$export$default.updateNode_webaudio(e,"stop")},updateNode_nativeaudio:function(t,e){if(!t)return null;switch(e){case"play":if(t.playing)break;t.res||$268469c1d69cf3b64bdd8d23cf2d7870$export$default.alloc_nativeaudio(t),t.playing=!0,t.pause=!1;try{$parcel$global.plugins.NativeAudio.play(t.snd.r.data,null,null,(function(){$268469c1d69cf3b64bdd8d23cf2d7870$export$default.onended_nativeaudio(t)}))}catch(e){return $268469c1d69cf3b64bdd8d23cf2d7870$export$default.free_nativeaudio(t),null}$268469c1d69cf3b64bdd8d23cf2d7870$export$default.register(t);break;case"setvolume":break;case"stop":if(!t.res)break;t.playing=!1,t.pause=!1,$268469c1d69cf3b64bdd8d23cf2d7870$export$default.unregister(t),$parcel$global.plugins.NativeAudio.stop(t.snd.r.data,null),$268469c1d69cf3b64bdd8d23cf2d7870$export$default.free_nativeaudio(t),t.callback&&t.callback()}return t},onended_nativeaudio:function(t){$268469c1d69cf3b64bdd8d23cf2d7870$export$default.updateNode_nativeaudio(t,"stop")},updateNode_audio:function(t,e){if(!t)return null;var a=$268469c1d69cf3b64bdd8d23cf2d7870$export$default.MASTER.volume*t.snd.track.volume*t.volume;switch(e){case"play":if(t.playing)break;t.res||(t.res=$268469c1d69cf3b64bdd8d23cf2d7870$export$default.alloc_audio(t.snd.r.data),t.res.node=t,t.res.src=t.res._src),t.playTime=hrnow(),t.playing=!0,t.pause=!1,t.res.onended=$268469c1d69cf3b64bdd8d23cf2d7870$export$default.onended_audio,t.res.currentTime=t.startTime/1e3,t.res.volume=a;try{t.res.play()}catch(e){return $268469c1d69cf3b64bdd8d23cf2d7870$export$default.free_audio(t.res),t.res=null,null}$268469c1d69cf3b64bdd8d23cf2d7870$export$default.register(t);break;case"setvolume":if(!t.res)break;t.res.volume=a;break;case"stop":if(!t.playing&&t.paused){t.startTime=0,t.paused=!1,$268469c1d69cf3b64bdd8d23cf2d7870$export$default.free_audio(t.res),t.res=null,t.callback&&t.callback();break}if(!t.res)break;t.startTime=0,t.playing=!1,t.pause=!1,$268469c1d69cf3b64bdd8d23cf2d7870$export$default.unregister(t),t.res.pause(),$268469c1d69cf3b64bdd8d23cf2d7870$export$default.free_audio(t.res),t.res=null,t.callback&&t.callback();break;case"pause":if(!t.playing||!t.res)break;t.startTime+=hrnow()-t.playTime,t.playing=!1,t.pause=!0,$268469c1d69cf3b64bdd8d23cf2d7870$export$default.unregister(t),t.res.pause();break;case"softstop":if(!t.playing&&t.paused){t.startTime=0,t.paused=!1;break}if(!t.playing||!t.res)break;t.startTime=0,t.playing=!1,t.pause=!1}return t},onended_audio:function(t){var e=t.currentTarget.node;if(e.playing&&0!=e.loop)return-1!=e.loop&&e.loop--,e.startTime=0,e.playing=!1,e.pause=!1,void $268469c1d69cf3b64bdd8d23cf2d7870$export$default.updateNode_audio(e,"play");e.res.onended=null,e.res.volume=0,$268469c1d69cf3b64bdd8d23cf2d7870$export$default.updateNode_audio(e,"stop")},enableTrack:function(t){t&&(t.enabled=!0)},disableTrack:function(t){t&&(t.enabled=!1)},setVolume:function(t,e){t&&(t.volume=e)},createNode:function(t,e){var a={};return a.startVolume=e,a.volume=e,a.snd=t,a.loop=0,a.playing=!1,a.paused=!1,a.startTime=0,a.playTime=0,a.callback=null,a.timer=null,a.res=null,a},play:function(t,e,a){if(!this.MASTER.enabled||!t||!t.track.enabled)return null;a=null!=a?a:1;var i=this.createNode(t,a);return i.callback=e,this.updateNode(i,"play")},playLoop:function(t,e,a){if(!this.MASTER.enabled||!t||!t.track.enabled)return null;a=null!=a?a:1;var i=this.createNode(t,a);return i.callback=e,i.loop=-1,this.updateNode(i,"play")},stop:function(t,e){return t?(e&&!0!==e&&(t.callback=e),this.updateNode(t,!0===e?"stop":"softstop")):null},pause:function(t){return t?this.updateNode(t,"pause"):null},resume:function(t){return t?this.updateNode(t,"play"):null},fadeOut:function(t,e,a){if(t)if(t.playing&&!t.timer){var i=hrnow();t.startVolume=t.volume,t.timer=setInterval((function(){var r=(hrnow()-i)/e;r>1&&(r=1),t.volume=t.startVolume*(1-r),$268469c1d69cf3b64bdd8d23cf2d7870$export$default.updateNode(t,"setvolume"),1==r&&(clearInterval(t.timer),t.timer=null,!0===a?$268469c1d69cf3b64bdd8d23cf2d7870$export$default.updateNode(t,"stop"):$268469c1d69cf3b64bdd8d23cf2d7870$export$default.updateNode(t,"pause"),a&&!0!==a&&a())}),50)}else a&&a()},fadeIn:function(t,e,a){if(t)if(t.playing||t.timer)a&&a();else{var i=hrnow();t.volume=0,this.updateNode(t,"play"),t.timer=setInterval((function(){var r=(hrnow()-i)/e;r>1&&(r=1),t.volume=t.startVolume*r,$268469c1d69cf3b64bdd8d23cf2d7870$export$default.updateNode(t,"setvolume"),1==r&&(clearInterval(t.timer),t.timer=null,a&&a())}),50)}}}),$f54301229ec8e69146530a6a9ae01343$export$default.Audio=function(t,e=null){return{type:"audio",wrapper:"Sound",src:t,...e}};var $d21193ea1b0c7402d1489260b88b13d7$export$default=$3cfc71de303eee1e948c94eb1134db65$exports.Class.extend({r:null,__ctor:function(t){if("audios"!=t.type)throw new Error("Resource is not audios.");this.r=t,this.r.wrapper=this,this.r.track||(this.r.track="sfx"),this.r.mode||(this.r.mode="random"),this.track=$268469c1d69cf3b64bdd8d23cf2d7870$export$default[this.r.track.toUpperCase()],this.sounds=[],this.lastIndex=-1;for(var e=0;e<this.r.data.length;e++)this.sounds.push(new $268469c1d69cf3b64bdd8d23cf2d7870$export$default(Object.assign(this.r.data[e],{track:this.r.track})))},getRandomSound:function(){return"random"==this.r.mode?this.sounds[randr(0,this.sounds.length-1)]:(this.lastIndex=++this.lastIndex%this.sounds.length,this.sounds[this.lastIndex])},play:function(t,e){return $268469c1d69cf3b64bdd8d23cf2d7870$export$default.play(this.getRandomSound(),t,e)},playLoop:function(t,e){return $268469c1d69cf3b64bdd8d23cf2d7870$export$default.playLoop(this.getRandomSound(),t,e)},playAt:function(t,e,a){return $268469c1d69cf3b64bdd8d23cf2d7870$export$default.play(this.sounds[t%this.sounds.length],e,a)},playLoopAt:function(t,e,a){return $268469c1d69cf3b64bdd8d23cf2d7870$export$default.playLoop(this.sounds[t%this.sounds.length],e,a)}});const $b8a6185dc55af5ed70d98d8aa128380b$export$Drawable=$0489d5e8995f6d5e84c764d91c241c20$export$default;$parcel$export($b8a6185dc55af5ed70d98d8aa128380b$exports,"Drawable",(function(){return $b8a6185dc55af5ed70d98d8aa128380b$export$Drawable}));const $b8a6185dc55af5ed70d98d8aa128380b$export$Placeholder=$2c78143d1d44784e65f3ac16c4f372ed$export$default;$parcel$export($b8a6185dc55af5ed70d98d8aa128380b$exports,"Placeholder",(function(){return $b8a6185dc55af5ed70d98d8aa128380b$export$Placeholder}));const $b8a6185dc55af5ed70d98d8aa128380b$export$Spritesheet=$0cb27a54d6bfd9618a34153fdeb1528a$export$default;$parcel$export($b8a6185dc55af5ed70d98d8aa128380b$exports,"Spritesheet",(function(){return $b8a6185dc55af5ed70d98d8aa128380b$export$Spritesheet}));const $b8a6185dc55af5ed70d98d8aa128380b$export$SpritesheetAnimation=$ee0366d80cdf44b2e47ac4bfeefa88ae$export$default;$parcel$export($b8a6185dc55af5ed70d98d8aa128380b$exports,"SpritesheetAnimation",(function(){return $b8a6185dc55af5ed70d98d8aa128380b$export$SpritesheetAnimation}));const $b8a6185dc55af5ed70d98d8aa128380b$export$SpriteFont=$5f589481835294b2574909edd1d52978$export$default;$parcel$export($b8a6185dc55af5ed70d98d8aa128380b$exports,"SpriteFont",(function(){return $b8a6185dc55af5ed70d98d8aa128380b$export$SpriteFont}));const $b8a6185dc55af5ed70d98d8aa128380b$export$Sound=$268469c1d69cf3b64bdd8d23cf2d7870$export$default;$parcel$export($b8a6185dc55af5ed70d98d8aa128380b$exports,"Sound",(function(){return $b8a6185dc55af5ed70d98d8aa128380b$export$Sound}));const $b8a6185dc55af5ed70d98d8aa128380b$export$SoundArray=$d21193ea1b0c7402d1489260b88b13d7$export$default;$parcel$export($b8a6185dc55af5ed70d98d8aa128380b$exports,"SoundArray",(function(){return $b8a6185dc55af5ed70d98d8aa128380b$export$SoundArray}));var $c1c7a145c98bcb18a392b682ca5a94ab$export$default=$3cfc71de303eee1e948c94eb1134db65$exports.Class.extend({className:"PriorityQueue",queue:null,order:null,__ctor:function(){this.queue={}},add:function(t){if(null==t)return null;if(!("priority"in t))throw new Error("PriorityQueue (add): Object has no `priority` property.");return t.priority in this.queue||(this.queue[t.priority]={is_dirty:!1,list:[]},this.order=Object.keys(this.queue).sort(((t,e)=>t-e))),-1===this.queue[t.priority].list.indexOf(t)&&this.queue[t.priority].list.push(t),t},remove:function(t){if(null==t)return null;if(!("priority"in t))throw new Error("PriorityQueue (remove): Object has no `priority` property.");if(!(t.priority in this.queue))return t;var e=this.queue[t.priority].list.indexOf(t);return-1===e||(this.queue[t.priority].is_dirty=!0,this.queue[t.priority].list[e]=null),t},cleanup:function(){for(var t in this.queue){var e=this.queue[t];if(0!=e.is_dirty){for(var a=0;a<e.list.length;a++)null==e.list[a]&&e.list[a--].splice(1,0);e.is_dirty=!1}}},forEach:function(t){for(var e=!1,a=!1,i=0;!a&&i<this.order.length;i++)for(var r=this.queue[this.order[i]].list,n=0;!a&&n<r.length;n++)null!=r[n]&&!1===t(r[n])&&(a=!0),null==r[n]&&(e=!0);e&&this.cleanup()},forEachRev:function(t){for(var e=!1,a=!1,i=this.order.length-1;!a&&i>=0;i--)for(var r=this.queue[this.order[i]].list,n=r.length-1;!a&&n>=0;n--)null!=r[n]&&!1===t(r[n])&&(a=!0),null==r[n]&&(e=!0);e&&this.cleanup()},forEachAsync:function(t){var e=this,a=!1,i=!1,r=-1,n=-1,s=null,o=function(){n++,!i&&n<s.length?(null!=s[n]&&!1===t(s[n],o)&&(i=!0),null==s[n]&&(a=!0),i&&o()):d()},d=function(){r++,!i&&r<e.order.length?(s=e.queue[e.order[r]].list,n=-1,o()):a&&e.cleanup()};d()},forEachRevAsync:function(t){}});const $8fa65cf901fc165da6bcf10c3f72ace4$export$default=function(){};$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.className="Rect",$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.cx=0,$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.cy=0,$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.x1=0,$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.y1=0,$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.x2=0,$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.y2=0,$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.__reinit=function(...t){switch(t.length){case 0:this.Rect0.apply(this,t);break;case 2:this.Rect2.apply(this,t);break;case 4:this.Rect4.apply(this,t)}return this},$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.Rect0=function(){this.x1=this.y1=this.x2=this.y2=this.cx=this.cy=0},$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.Rect4=function(t,e,a,i){this.set(t,e,a,i)},$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.Rect2=function(t,e){this.set(0,0,0,0),this.resize(t,e)},$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.clone=function(){return $8fa65cf901fc165da6bcf10c3f72ace4$export$default.alloc(this.x1,this.y1,this.x2,this.y2)},$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.zero=function(){return this.cx=0,this.cy=0,this.x1=0,this.y1=0,this.x2=0,this.y2=0,this},$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.reset=function(){return this.cx=null,this.cy=null,this.x1=null,this.y1=null,this.x2=null,this.y2=null,this},$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.extendWithPoint2=function(t,e){return(null===this.x1||t<this.x1)&&(this.x1=t),(null===this.y1||e<this.y1)&&(this.y1=e),(null===this.x2||t>this.x2)&&(this.x2=t),(null===this.y2||e>this.y2)&&(this.y2=e),this.cx=(this.x1+this.x2)/2,this.cy=(this.y1+this.y2)/2,this},$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.extendWithPoint1=function(t){return this.extendWithPoint2(t.x,t.y)},$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.extendWithPoint=function(...t){return 2==t.length?this.extendWithPoint2(t[0],t[1]):this.extendWithPoint1(t[0])},$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.translate=function(t,e){return this.x1+=t,this.y1+=e,this.x2+=t,this.y2+=e,this.cx+=t,this.cy+=e,this},$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.centerAt=function(t,e,a=!1){return 1==a&&(t=this.x1+t*(this.x2-this.x1),e=this.y1+e*(this.y2-this.y1)),this.translate(t-this.cx,e-this.cy)},$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.set=function(...t){switch(t.length){case 1:return this.set1(...t);case 4:return this.set4(...t)}},$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.set4=function(t,e,a,i){return this.cx=(t+a)/2,this.cy=(e+i)/2,this.x1=t,this.y1=e,this.x2=a,this.y2=i,this},$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.set1=function(t){return this.set4(t.x1,t.y1,t.x2,t.y2)},$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.equals=function(...t){switch(t.length){case 1:return this.equals1.apply(this,t);case 4:return this.equals4.apply(this,t)}},$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.equals1=function(t){return this.x1==t.x1&&this.x2==t.x2&&this.y1==t.y1&&this.y2==t.y2},$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.equals4=function(t,e,a,i){return t==this.x1&&a==this.x2&&e==this.y1&&i==this.y2},$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.contains=function(...t){switch(t.length){case 1:return this.contains1.apply(this,t);case 4:return this.contains4.apply(this,t)}},$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.contains1=function(t){return t.equals(Math.max(this.x1,t.x1),Math.max(this.y1,t.y1),Math.min(this.x2,t.x2),Math.min(this.y2,t.y2))},$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.contains4=function(t,e,a,i){return t==Math.max(this.x1,t)&&e==Math.max(this.y1,e)&&a==Math.min(this.x2,a)&&i==Math.min(this.y2,i)},$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.setAsUnion=function(...t){switch(t.length){case 1:return this.setAsUnion1.apply(this,t);case 4:return this.setAsUnion4.apply(this,t)}},$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.setAsUnion1=function(t){return this.setAsUnion4(t.x1,t.y1,t.x2,t.y2)},$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.setAsUnion4=function(t,e,a,i){return this.x1=Math.min(this.x1,t),this.y1=Math.min(this.y1,e),this.x2=Math.max(this.x2,a),this.y2=Math.max(this.y2,i),this},$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.intersects=function(...t){switch(t.length){case 1:return this.intersects1.apply(this,t);case 4:return this.intersects4.apply(this,t)}},$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.intersects1=function(t){return this.intersects4(t.x1,t.y1,t.x2,t.y2)},$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.intersects4=function(t,e,a,i){var r=Math.max(this.x1,t),n=Math.max(this.y1,e),s=Math.min(this.x2,a),o=Math.min(this.y2,i);return Math.max(0,o-n)*Math.max(0,s-r)>0},$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.setAsIntersection=function(...t){switch(t.length){case 1:return this.setAsIntersection1.apply(this,t);case 4:return this.setAsIntersection4.apply(this,t)}},$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.setAsIntersection1=function(t){return this.setAsIntersection4(t.x1,t.y1,t.x2,t.y2)},$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.setAsIntersection4=function(t,e,a,i){return this.x1=Math.max(this.x1,t),this.y1=Math.max(this.y1,e),this.x2=Math.min(this.x2,a),this.y2=Math.min(this.y2,i),Math.max(0,this.y2-this.y1)*Math.max(0,this.x2-this.x1)>0},$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.resize=function(t,e,a=!1,i=!1){return 1==a&&(t*=this.x2-this.x1,e*=this.y2-this.y1),1==i?(this.x2=this.x1+t,this.y2=this.y1+e):(t/=2,e/=2,this.x1=this.cx-t,this.y1=this.cy-e,this.x2=this.cx+t,this.y2=this.cy+e),this},$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.resizeBy=function(t,e,a=!1){return 1==a?(this.x2+=t,this.y2+=e):(t/=2,e/=2,this.x1-=t,this.y1-=e,this.x2+=t,this.y2+=e),this},$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.width=function(){return this.x2-this.x1},$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.height=function(){return this.y2-this.y1},$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.ncx=function(){return(this.cx-this.x1)/(this.x2-this.x1)},$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.ncy=function(){return(this.cy-this.y1)/(this.y2-this.y1)},$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.isRight=function(){return this.x1<=this.x2&&this.y1<=this.y2},$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.containsPoint=function(t,e,a=0){return this.x1-a<=t&&t<=this.x2+a&&this.y1-a<=e&&e<=this.y2+a},$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.area=function(t){return t?this.isRight()?(this.y2-this.y1)*(this.x2-this.x1):0:(this.y2-this.y1)*(this.x2-this.x1)},$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.floor=function(){return this.x1=Math.floor(this.x1),this.y1=Math.floor(this.y1),this.x2=Math.floor(this.x2),this.y2=Math.floor(this.y2),this.cx=Math.floor(this.cx),this.cy=Math.floor(this.cy),this},$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.ceil=function(){return this.x1=Math.ceil(this.x1),this.y1=Math.ceil(this.y1),this.x2=Math.ceil(this.x2),this.y2=Math.ceil(this.y2),this.cx=Math.ceil(this.cx),this.cy=Math.ceil(this.cy),this},$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.toString=function(){return"(Rect: "+this.x1.toFixed(2)+", "+this.y1.toFixed(2)+", "+this.x2.toFixed(2)+", "+this.y2.toFixed(2)+")"},$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.flatten=function(){return[this.x1,this.y1,this.x2,this.y2]},$8fa65cf901fc165da6bcf10c3f72ace4$export$default.prototype.unflatten=function(t){return this.set(t[0],t[1],t[2],t[3]),this},$194ff00ff419b7d5d0c9f54e529ee18f$export$default.attachTo($8fa65cf901fc165da6bcf10c3f72ace4$export$default);const $c2385143810f8e75c47d71adc54042b3$export$default=function(){switch(arguments.length){case 0:return this.Vec2_0.apply(this,arguments);case 1:return this.Vec2_1.apply(this,arguments);case 2:return this.Vec2_2.apply(this,arguments)}};$c2385143810f8e75c47d71adc54042b3$export$default.prototype.x=0,$c2385143810f8e75c47d71adc54042b3$export$default.prototype.y=0,$c2385143810f8e75c47d71adc54042b3$export$default.prototype.Vec2_0=function(){this.x=this.y=0},$c2385143810f8e75c47d71adc54042b3$export$default.prototype.Vec2_2=function(t,e){this.x=t,this.y=e},$c2385143810f8e75c47d71adc54042b3$export$default.prototype.Vec2_1=function(t){this.x=t.x,this.y=t.y},$c2385143810f8e75c47d71adc54042b3$export$default.prototype.clone=function(){return new $c2385143810f8e75c47d71adc54042b3$export$default(this.x,this.y)},$c2385143810f8e75c47d71adc54042b3$export$default.prototype.set=function(t,e){return 1==arguments.length?(this.x=t.x,this.y=t.y):(this.x=t,this.y=e),this},$c2385143810f8e75c47d71adc54042b3$export$default.prototype.zero=function(){return this.set(0,0)},$c2385143810f8e75c47d71adc54042b3$export$default.prototype.isZero=function(){return 0==this.x&&0==this.y},$c2385143810f8e75c47d71adc54042b3$export$default.prototype.equals=function(t,e){return 1==arguments.length?this.x==t.x&&this.y==t.y:this.x==t&&this.y==e},$c2385143810f8e75c47d71adc54042b3$export$default.prototype.neg=function(){return this.x=-this.x,this.y=-this.y,this},$c2385143810f8e75c47d71adc54042b3$export$default.prototype.inv=function(){return this.x=1/this.x,this.y=1/this.y,this},$c2385143810f8e75c47d71adc54042b3$export$default.prototype.abs=function(){return this.x=this.x<0?-this.x:this.x,this.y=this.y<0?-this.y:this.y,this},$c2385143810f8e75c47d71adc54042b3$export$default.prototype.translate=function(t,e){return 1==arguments.length?(this.x+=t.x,this.y+=t.y):(this.x+=t,this.y+=e),this},$c2385143810f8e75c47d71adc54042b3$export$default.prototype.add=function(t,e){return 1==arguments.length?(this.x+=t.x,this.y+=t.y):(this.x+=t,this.y+=e),this},$c2385143810f8e75c47d71adc54042b3$export$default.prototype.sub=function(t,e){return 1==arguments.length?(this.x-=t.x,this.y-=t.y):(this.x-=t,this.y-=e),this},$c2385143810f8e75c47d71adc54042b3$export$default.prototype.scale=function(t,e){return 1==arguments.length?(this.x*=t,this.y*=t):(this.x*=t,this.y*=e),this},$c2385143810f8e75c47d71adc54042b3$export$default.prototype.floor=function(){return this.x=~~this.x,this.y=~~this.y,this},$c2385143810f8e75c47d71adc54042b3$export$default.prototype.fract=function(){return this.x=this.x-~~this.x,this.y=this.y-~~this.y,this},$c2385143810f8e75c47d71adc54042b3$export$default.prototype.dot=function(t,e){return 2==arguments.length?this.x*t+this.y*e:this.x*t.x+this.y*t.y},$c2385143810f8e75c47d71adc54042b3$export$default.prototype.magnitude=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},$c2385143810f8e75c47d71adc54042b3$export$default.prototype.normalize=function(){return this.isZero()?this:this.scale(1/this.magnitude())},$c2385143810f8e75c47d71adc54042b3$export$default.prototype.majorAxis=function(){return Math.abs(this.x)>Math.abs(this.y)?this.y=0:this.x=0,this},$c2385143810f8e75c47d71adc54042b3$export$default.prototype.minorAxis=function(){return Math.abs(this.x)<Math.abs(this.y)?this.y=0:this.x=0,this},$c2385143810f8e75c47d71adc54042b3$export$default.prototype.sign=function(){return this.x=this.x?this.x<0?-1:1:0,this.y=this.y?this.y<0?-1:1:0,this},$c2385143810f8e75c47d71adc54042b3$export$default.prototype.toString=function(){return`(${this.x}, ${this.y})`};const $c123abff45dabf5b99c28050b9b9f34c$export$default=$3cfc71de303eee1e948c94eb1134db65$exports.Class.extend({className:"TFunction",t:null,y:null,f:null,__ctor:function(t){this.reset(t)},reset:function(t=0){return this.t=[0],this.y=[t],this.f=[null],this},copyFrom:function(t,e,a){if(this.t=[],this.y=[],this.f=[],null==e&&null==a){for(let e=0;e<t.t.length;e++)this.t.push(t.t[e]),this.y.push(t.y[e]),this.f.push(t.f[e]);return this}null==e&&(e=t.t[0]),null==a&&(a=t.t[t.t.length-1]),e<t.t[0]&&(e=t.t[0]);let i=t.find(e),r=t.find(a);if(null==i)return null;if(null==r)return null;t.t[i]!=e&&(this.set(e,t.getAt(e),t.f[i]),i++);for(let e=i;e<=r;e++)this.set(t.t[e],t.y[e],t.f[e]);if(t.t[r]!=a){let e=(a-t.t[r])/Math.ceil(Math.log(a-t.t[r])),i=this.t[this.t.length-1];for(e<=0&&(e=1),e=a-i;i!=a;)i+e>a&&(e=a-i),i+=e,this.set(float4(i),t.getAt(i),t.f[r])}return this},clone:function(t,e){return(new $c123abff45dabf5b99c28050b9b9f34c$export$default).copyFrom(this,t,e)},endTime:function(t=0){return this.t[this.t.length-1]+t},startTime:function(t=0){return this.t[0]+t},find:function(t){if(t<this.t[0])return null;const e=this.t.length;for(let a=1;a<e;a++)if(t<this.t[a])return a-1;return e-1},set:function(t,e,a=null){let i=this.find(t);return null!=i&&(this.t[i]==t?(this.y[i]=e,null!=a&&(this.f[i]=a)):(i++,this.t.splice(i,0,t),this.y.splice(i,0,e),this.f.splice(i,0,a)),!0)},get:function(){return this.y[this.y.length-1]},getAt:function(t){let e=this.find(t);if(null==e)return 0;let a=e+1;if(this.t[e]==t||a>=this.t.length||this.y[e]==this.y[a]||null==this.f[e])return this.y[e];if(null==this.f[e])return this.y[e];let i=t,r=this.t[e],n=this.t[a],s=this.y[e],o=this.y[a];return t=(i-r)/(n-r),(t=this.f[e](t))*o+(1-t)*s},integral:function(t=null,e=null,a=0){null==t&&(t=this.t[0]),null==e&&(e=this.t[this.t.length-1]),t<this.t[0]&&(t=this.t[0]);let i=1;if(t>e){let a;a=t,t=e,e=a,i=-1}let r=a;for(let a=t;a<e;){let t=this.find(a);if(null==t)return 0;let i=t+1,n=Math.max(this.t[t],a),s=Math.min(i<this.t.length?this.t[i]:e,e),o=this.getAt(n),d=s-n,c=this.getAt(s)-o;null==this.f[t]?r+=o*d:r+=.5*c*(s+n)-n*c+o*d,a+=d}return i*r},second_integral:function(t=null,e=null,a=0){null==t&&(t=this.t[0]),null==e&&(e=this.t[this.t.length-1]);let i=$c123abff45dabf5b99c28050b9b9f34c$export$default.Temp1.copyFrom(this,this.t[0],t).integrate(a).integral();return $c123abff45dabf5b99c28050b9b9f34c$export$default.Temp2.copyFrom(this,this.t[0],e).integrate(a).integral()-i},integrate:function(t=0){let e=[];e.push(t);for(let t=1;t<this.t.length;t++)e.push(e[t-1]+this.integral(this.t[t-1],this.t[t]));return this.y=e,this},accumulate:function(t=0){this.y[0]+=t;for(let t=1;t<this.t.length;t++)this.y[t]+=this.y[t-1];return this},chopLeft:function(t){return this.t.splice(0,t),this.f.splice(0,t),this.y.splice(0,t),this},chopRight:function(t){return this.t.splice(t+1,this.t.length-t-1),this.f.splice(t+1,this.f.length-t-1),this.y.splice(t+1,this.y.length-t-1),this},map:function(t){for(let e=0;e<this.y.length;e++)this.y[e]=t(this.y[e],this.t[e],e);return this},toString:function(t=0){let e="",a=10;const i=function(t,e,a){for(t=t.toString(),null==a&&(a=" "),a=a[0];t.length<e;)t+=a;return t};e+="\n",e+=i(" Time",a)+" "+i(" Value",a)+" "+i(" Integral",a)+"\n",e+=i("",a,"-")+" "+i("",a,"-")+" "+i("",a,"-")+"\n";for(let r=0;r<this.t.length;r++)e+=i(" "+float4(this.t[r]),a)+" "+i(" "+float4(this.y[r]),a)+" "+i(" "+float4(this.integral(this.t[0],this.t[r],t)),a)+"\n";return e}});$c123abff45dabf5b99c28050b9b9f34c$export$default.Temp1=new $c123abff45dabf5b99c28050b9b9f34c$export$default,$c123abff45dabf5b99c28050b9b9f34c$export$default.Temp2=new $c123abff45dabf5b99c28050b9b9f34c$export$default;const $04fc9b95dfde5d6ead4d7c302935aa17$export$default={Linear:{IN:function(t){return t},OUT:function(t){return t},IN_OUT:function(t){return t}},Back:{k:1.70158,IN:function(t,e){return void 0===e&&(e=$04fc9b95dfde5d6ead4d7c302935aa17$export$default.Back.k),t*t*((e+1)*t-e)},OUT:function(t,e){return 1-$04fc9b95dfde5d6ead4d7c302935aa17$export$default.Back.IN(1-t,e)},IN_OUT:function(t,e){return t<.5?$04fc9b95dfde5d6ead4d7c302935aa17$export$default.Back.IN(2*t,e)/2:$04fc9b95dfde5d6ead4d7c302935aa17$export$default.Back.OUT(2*(t-.5),e)/2+.5}},Bounce:{getConst:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},IN:function(t){return 1-$04fc9b95dfde5d6ead4d7c302935aa17$export$default.Bounce.getConst(1-t)},OUT:function(t){return $04fc9b95dfde5d6ead4d7c302935aa17$export$default.Bounce.getConst(t)},IN_OUT:function(t){return t<.5?(1-$04fc9b95dfde5d6ead4d7c302935aa17$export$default.Bounce.getConst(1-2*t))/2:$04fc9b95dfde5d6ead4d7c302935aa17$export$default.Bounce.getConst(2*(t-.5))/2+.5}},Circ:{IN:function(t){return 1-Math.sqrt(1-t*t)},OUT:function(t){return 1-$04fc9b95dfde5d6ead4d7c302935aa17$export$default.Circ.IN(1-t)},IN_OUT:function(t){return t<.5?$04fc9b95dfde5d6ead4d7c302935aa17$export$default.Circ.IN(2*t)/2:$04fc9b95dfde5d6ead4d7c302935aa17$export$default.Circ.OUT(2*(t-.5))/2+.5}},Cubic:{IN:function(t){return t*t*t},OUT:function(t){return 1-$04fc9b95dfde5d6ead4d7c302935aa17$export$default.Cubic.IN(1-t)},IN_OUT:function(t){return t<.5?$04fc9b95dfde5d6ead4d7c302935aa17$export$default.Cubic.IN(2*t)/2:$04fc9b95dfde5d6ead4d7c302935aa17$export$default.Cubic.OUT(2*(t-.5))/2+.5}},Expo:{IN:function(t){return Math.pow(2,12*(t-1))},OUT:function(t){return 1-Math.pow(2,-12*t)},IN_OUT:function(t){return(t*=2)<1?Math.pow(2,12*(t-1))/2:(2-Math.pow(2,-12*(t-1)))/2}},Power:{p:12,IN:function(t){return Math.pow(t,$04fc9b95dfde5d6ead4d7c302935aa17$export$default.Power.p)},OUT:function(t){return 1-$04fc9b95dfde5d6ead4d7c302935aa17$export$default.Power.IN(1-t)},IN_OUT:function(t){return t<.5?$04fc9b95dfde5d6ead4d7c302935aa17$export$default.Power.IN(2*t)/2:$04fc9b95dfde5d6ead4d7c302935aa17$export$default.Power.OUT(2*(t-.5))/2+.5}},Quad:{IN:function(t){return t*t},OUT:function(t){return 1-$04fc9b95dfde5d6ead4d7c302935aa17$export$default.Quad.IN(1-t)},IN_OUT:function(t){return t<.5?$04fc9b95dfde5d6ead4d7c302935aa17$export$default.Quad.IN(2*t)/2:$04fc9b95dfde5d6ead4d7c302935aa17$export$default.Quad.OUT(2*(t-.5))/2+.5}},Quartic:{IN:function(t){return t*t*t*t},OUT:function(t){return 1-$04fc9b95dfde5d6ead4d7c302935aa17$export$default.Quartic.IN(1-t)},IN_OUT:function(t){return t<.5?$04fc9b95dfde5d6ead4d7c302935aa17$export$default.Quartic.IN(2*t)/2:$04fc9b95dfde5d6ead4d7c302935aa17$export$default.Quartic.OUT(2*(t-.5))/2+.5}},Quintic:{IN:function(t){return t*t*t*t*t},OUT:function(t){return 1-$04fc9b95dfde5d6ead4d7c302935aa17$export$default.Quintic.IN(1-t)},IN_OUT:function(t){return t<.5?$04fc9b95dfde5d6ead4d7c302935aa17$export$default.Quintic.IN(2*t)/2:$04fc9b95dfde5d6ead4d7c302935aa17$export$default.Quintic.OUT(2*(t-.5))/2+.5}},Sine:{IN:function(t){return 1-Math.sin(1.5708*(1-t))},OUT:function(t){return Math.sin(1.5708*t)},IN_OUT:function(t){return(Math.cos(3.1416*t)-1)/-2}},Step:{IN:function(t){return 1!=t?0:1},OUT:function(t){return 1!=t?0:1},IN_OUT:function(t){return 1!=t?0:1}}},$3bdc6dd248b1488ae784c33e2fc85d39$export$default=$3cfc71de303eee1e948c94eb1134db65$exports.Class.extend({list:null,initialData:null,data:null,stack:null,block:null,timeScale:1,time:0,blockTime:0,index:0,paused:!1,finished:!1,finishedCallback:null,finishedCallbackChain:null,__ctor:function(){this.list=[],this.stack=[],this.initialData={},this.data={},this.reset()},__dtor:function(){},clone:function(t=null){return t||(t=new $3bdc6dd248b1488ae784c33e2fc85d39$export$default),t.list=$3cfc71de303eee1e948c94eb1134db65$exports.Rin.clone(this.list),t.initialData=this.initialData,t.reset()},onFinished:function(t){return this.finishedCallback=t,this},then:function(t){return this.finishedCallback!==this.thenCallback&&(this.finishedCallback=this.thenCallback,this.finishedCallbackChain=[]),this.finishedCallbackChain.push(t),this},thenCallback:function(){if(!this.finishedCallbackChain.length)return!1;this.finishedCallbackChain.shift().call(this)},clear:function(){return this.list=[],this.stack.length=0,this.blockTime=0,this.time=0,this.index=0,this.block=this.list,this.paused=!1,this.finished=!1,this},reset:function(){this.clear();for(let t in this.initialData)this.data[t]=this.initialData[t];return this},initial:function(t){return this.initialData=t,this.reset()},speed:function(t){return this.timeScale=t>0?t:1,this},output:function(t){return this.data=t,this},pause:function(){return this.paused=!0,this},resume:function(){return this.finished=!1,this.paused=!1,this},getValue:function(t,e){let a=this.data[e];if(null===t&&(t=a),"string"==typeof t)switch(t[0]){case"+":t=a+Number(t.substr(1));break;case"-":t=a-Number(t.substr(1));break;default:t=Number(t)}return"function"==typeof t&&(t=t.call(this,this.data[e],this.data,this)),t},update:function(t){if(this.paused)return!1;if(this.index>=this.block.length)return!0;let e,a,i,r=0;for(this.time+=t*this.timeScale*$3bdc6dd248b1488ae784c33e2fc85d39$export$default.timeScale;this.index<this.block.length;){let n,s=this.block[this.index];switch(s.op){case"parallel":if(0==s.started)for(s.blocks.length=0,s.started=!0,r=0;r<s.block.length;r++)s.blocks.push([s.block[r]]),s.indices[r]=0,s.blockTimes[r]=this.blockTime;e=this.block,a=this.index,i=this.blockTime;let o=0,d=i;for(r=0;r<s.blocks.length;r++)this.block=s.blocks[r],this.index=s.indices[r],this.blockTime=s.blockTimes[r],!0===this.update(0)&&o++,this.blockTime>d&&(d=this.blockTime),s.blockTimes[r]=this.blockTime,s.blocks[r]=this.block,s.indices[r]=this.index;if(this.block=e,this.index=a,this.blockTime=i,s.fn&&s.fn.call(this),o!=s.blocks.length)return!1;s.started=!1,this.blockTime=d,this.index++;break;case"serial":if(0==s.started&&(s._block=s.block,s._index=0,s._blockTime=this.blockTime,s.started=!0),e=this.block,a=this.index,i=this.blockTime,this.block=s._block,this.index=s._index,this.blockTime=s._blockTime,r=this.update(0),s._block=this.block,s._index=this.index,s._blockTime=this.blockTime,this.block=e,this.index=a,this.blockTime=i,s.fn&&s.fn.call(this),!0!==r)return!1;s.started=!1,this.blockTime=s._blockTime,this.index++;break;case"repeat":return 0==s.started&&(s._block=s.block,s._index=0,s._blockTime=this.blockTime,s._count=s.count,s.started=!0),e=this.block,a=this.index,i=this.blockTime,this.block=s._block,this.index=s._index,this.blockTime=s._blockTime,r=this.update(0),s._block=this.block,s._index=this.index,s._blockTime=this.blockTime,this.block=e,this.index=a,this.blockTime=i,s.fn&&s.fn.call(this),!0===r&&(s._count<=1?(s.started=!1,this.blockTime=s._blockTime,this.index++,!1):(s._index=0,s._count--,!1));case"set":this.data[s.field]=this.getValue(s.value,s.field),this.index++;break;case"restart":this.index=0;break;case"wait":if(n="string"==$3cfc71de303eee1e948c94eb1134db65$exports.Rin.typeOf(s.duration)?this.data[s.duration]:s.duration,this.time<this.blockTime+n)return!1;this.blockTime+=n,this.index++;break;case"range":if(0==s.started&&(s._startValue=this.getValue(s.startValue,s.field),s._endValue=this.getValue(s.endValue,s.field),s.started=!0),n="string"==$3cfc71de303eee1e948c94eb1134db65$exports.Rin.typeOf(s.duration)?this.data[s.duration]:s.duration,t=this.time<this.blockTime+n?(this.time-this.blockTime)/n:1,s.easing&&1!=t?this.data[s.field]=s.easing(t)*(s._endValue-s._startValue)+s._startValue:this.data[s.field]=t*(s._endValue-s._startValue)+s._startValue,1!=t)return!1;s.started=!1,this.blockTime+=n,this.index++;break;case"rand":if(0==s.started&&(s.started=!0,s.last=null),n="string"==$3cfc71de303eee1e948c94eb1134db65$exports.Rin.typeOf(s.duration)?this.data[s.duration]:s.duration,t=this.time<this.blockTime+n?(this.time-this.blockTime)/n:1,s.easing&&1!=t?s.cur=~~(s.easing(t)*s.count):s.cur=~~(t*s.count),s.cur!=s.last){for(;r=~~(Math.random()*(s.endValue-s.startValue+1))+s.startValue,r==this.data[s.field];);this.data[s.field]=r,s.last=s.cur}if(1!=t)return!1;s.started=!1,this.blockTime+=n,this.index++;break;case"randt":if(n="string"==$3cfc71de303eee1e948c94eb1134db65$exports.Rin.typeOf(s.duration)?this.data[s.duration]:s.duration,t=this.time<this.blockTime+n?(this.time-this.blockTime)/n:1,r=s.easing&&1!=t?s.easing(t)*(s.count-1):t*(s.count-1),this.data[s.field]=s.table[~~((r+s.count)%s.count)],1!=t)return!1;this.blockTime+=n,this.index++;break;case"play":s.snd.play(),this.index++;break;case"exec":if(0==s.started&&(s.started=!0,s.lastTime=this.time),t=this.time-s.lastTime,s.lastTime=this.time,!0!==s.fn.call(this,t,this.data,this))return!1;s.started=!1,this.index++}}if(this.block==this.list){let t=this.finished,e=this.block.length,a=this.list;if(this.finished=!0,!t&&null!=this.finishedCallback&&(!1===this.finishedCallback(this.data,this)&&(this.finishedCallback=null),a!==this.list||this.block.length!=e))return this.resume(),!1}return!0},parallel:function(){let t=[];return this.block.push({op:"parallel",started:!1,block:t,blocks:[],indices:[],blockTimes:[]}),this.stack.push(this.block),this.block=t,this},serial:function(){let t=[];return this.block.push({op:"serial",started:!1,block:t}),this.stack.push(this.block),this.block=t,this},repeat:function(t){let e=[];return this.block.push({op:"repeat",started:!1,block:e,count:t}),this.stack.push(this.block),this.block=e,this},callback:function(t){let e=this.stack[this.stack.length-1];return e[e.length-1].fn=t,this},end:function(){return this.block=this.stack.pop(),this},set:function(t,e){return this.block.push({op:"set",field:t,value:e}),this},restart:function(t){return this.block.push({op:"restart"}),this},wait:function(t){return this.block.push({op:"wait",duration:t}),this},range:function(t,e,a,i,r){return this.block.push({op:"range",started:!1,field:t,duration:e,startValue:a,endValue:i,easing:r||null}),this},rand:function(t,e,a,i,r,n){return this.block.push({op:"rand",started:!1,field:t,duration:e,count:a,startValue:i,endValue:r,easing:n||null}),this},randt:function(t,e,a,i,r,n){let s=[];for(let t=0;t<a;t++)s.push(t%(r-i+1)+i);for(let t=a>>2;t>0;t--){let t=~~(Math.random()*a),e=~~(Math.random()*a),i=s[e];s[e]=s[t],s[t]=i}return this.block.push({op:"randt",field:t,duration:e,count:a,startValue:i,endValue:r,table:s,easing:n||null}),this},play:function(t){return this.block.push({op:"play",snd:t}),this},exec:function(t){return this.block.push({op:"exec",fn:t,started:!1}),this},setX:function(t){return this.set("x",t)},setY:function(t){return this.set("y",t)},position:function(t,e){return this.set("x",t).set("y",e)},translateX:function(t,e,a){return this.range("x",t,null,(e<0?"-":"+")+Math.abs(e),a)},translateY:function(t,e,a){return this.range("y",t,null,(e<0?"-":"+")+Math.abs(e),a)},translate:function(t,e,a,i,r=null){return this.parallel().range("x",t,null,(e<0?"-":"+")+Math.abs(e),i).range("y",t,null,(a<0?"-":"+")+Math.abs(a),r||i).end()},moveTo:function(t,e,a,i,r=null){return this.parallel().range("x",t,null,e,i).range("y",t,null,a,r||i).end()},scaleX:function(t,e,a){return this.range("sx",t,null,e,a)},scaleY:function(t,e,a){return this.range("sy",t,null,e,a)},scale:function(t,e,a,i,r=null){return this.parallel().range("sx",t,null,e,i).range("sy",t,null,a,r||i).end()},rotate:function(t,e,a){return this.range("angle",t,null,(e<0?"-":"+")+Math.abs(e),a)}});$3bdc6dd248b1488ae784c33e2fc85d39$export$default.timeScale=1,$3bdc6dd248b1488ae784c33e2fc85d39$export$default.speed=function(t){$3bdc6dd248b1488ae784c33e2fc85d39$export$default.timeScale=t>0?t:1};let $f4488b82cac25c298ad52c19b6b3297c$var$quadTreeItemID=0;const $f4488b82cac25c298ad52c19b6b3297c$export$default=$3cfc71de303eee1e948c94eb1134db65$exports.Class.extend({className:"QuadTreeItem",id:0,selectedIndex:0,insertionBounds:null,lastBounds:null,bounds:null,hitbox:null,zindex:0,_visible:!0,flags:0,numRefNodes:0,tag:null,__ctor:function(){this.id=++$f4488b82cac25c298ad52c19b6b3297c$var$quadTreeItemID,this.insertionBounds=$8fa65cf901fc165da6bcf10c3f72ace4$export$default.alloc(),this.lastBounds=$8fa65cf901fc165da6bcf10c3f72ace4$export$default.alloc(),this.bounds=$8fa65cf901fc165da6bcf10c3f72ace4$export$default.alloc(),this.hitbox=$8fa65cf901fc165da6bcf10c3f72ace4$export$default.alloc(),this.numRefNodes=0,this.zindex=0,this.flags=$f4488b82cac25c298ad52c19b6b3297c$export$default.FLAG_INITIAL,this._visible=!0},__reinit:function(){this.insertionBounds.zero(),this.lastBounds.zero(),this.bounds.zero(),this.hitbox.zero(),this.numRefNodes=0,this.zindex=0,this.flags=$f4488b82cac25c298ad52c19b6b3297c$export$default.FLAG_INITIAL,this._visible=!0,this.tag=null},__dtor:function(){$8fa65cf901fc165da6bcf10c3f72ace4$export$default.free(this.insertionBounds),$8fa65cf901fc165da6bcf10c3f72ace4$export$default.free(this.lastBounds),$8fa65cf901fc165da6bcf10c3f72ace4$export$default.free(this.bounds),$8fa65cf901fc165da6bcf10c3f72ace4$export$default.free(this.hitbox)},setFlags:function(t){this.flags|=t},clearFlags:function(t){this.flags&=~t},getFlags:function(t){return this.flags&t},setTag:function(t){this.tag=t},getTag:function(){return this.tag},setZIndex:function(t){return this.zindex=t,this},getZIndex:function(){return this.zindex},notifyInserted:function(t){this.flags|=$f4488b82cac25c298ad52c19b6b3297c$export$default.FLAG_ATTACHED,this.insertionBounds.set(this.getBounds()),this.flags&$f4488b82cac25c298ad52c19b6b3297c$export$default.FLAG_INITIAL&&(this.flags&=~$f4488b82cac25c298ad52c19b6b3297c$export$default.FLAG_INITIAL,this.lastBounds.set(this.getBounds()))},notifyRemoved:function(t){this.flags&=~$f4488b82cac25c298ad52c19b6b3297c$export$default.FLAG_ATTACHED},notifyPosition:function(){this.lastBounds.set(this.getBounds())},getInsertionBounds:function(){return this.insertionBounds},getLastBounds:function(){return this.lastBounds},getBounds:function(){return this.bounds},getHitbox:function(){return this.hitbox}});$f4488b82cac25c298ad52c19b6b3297c$export$default.FLAG_QUEUED=1,$f4488b82cac25c298ad52c19b6b3297c$export$default.FLAG_ATTACHED=2,$f4488b82cac25c298ad52c19b6b3297c$export$default.FLAG_SELECTED=4,$f4488b82cac25c298ad52c19b6b3297c$export$default.FLAG_INITIAL=8,$f4488b82cac25c298ad52c19b6b3297c$export$default.FLAG_ALWAYS_SELECT=16,$f4488b82cac25c298ad52c19b6b3297c$export$default.FLAG_NEVER_SELECT=32,$f4488b82cac25c298ad52c19b6b3297c$export$default.FLAG_CHILD=64,$f4488b82cac25c298ad52c19b6b3297c$export$default.FLAG_USERDEF=128;const $3828746ff56712c29d2f8c7d665df234$export$default=$3cfc71de303eee1e948c94eb1134db65$exports.Class.extend({className:"QuadTreeNode",extents:null,numItems:0,insertionPoint:null,subNode:null,isDirty:!1,tree:null,__ctor:function(t,e,a,i,r){this.tree=t,this.numItems=0,this.isDirty=!1,this.insertionPoint=null,this.subNode=null,this.extents=$8fa65cf901fc165da6bcf10c3f72ace4$export$default.alloc(e,a,i,r)},__dtor:function(){if(null!=this.subNode){for(var t=0;t<4;t++)dispose(this.subNode[t]);this.subNode=null}this.extents.dispose()},clear:function(){if(null!=this.subNode){for(var t=0;t<4;t++)this.subNode[t].clear(this.tree.items),dispose(this.subNode[t]);this.subNode=null,this.numItems=0}else{var e=null;for(t=this.insertionPoint;t&&this.numItems--;t=e){e=t.next;var a=this.tree.items.remove(t);a.numRefNodes--,0==a.numRefNodes&&(a.notifyRemoved(this.tree),dispose(a))}this.insertionPoint=null,this.numItems=0}},getExtents:function(){return this.extents},isLeaf:function(){return null==this.subNode},getSubNodes:function(){return this.subNode},addItem:function(t,e){if(!t.getBounds().intersects(this.extents))return!1;if(null!=this.subNode){for(var a=!1,i=0;i<4;i++)a|=this.subNode[i].addItem(t,e);return a&&(this.isDirty=!0,this.numItems++),a}if(this.numItems<e)return null==this.insertionPoint?(this.tree.items.push(t),this.insertionPoint=this.tree.items.bottom):this.tree.items.insertAfter(this.insertionPoint,t),this.isDirty=!0,this.numItems++,0==t.numRefNodes&&t.notifyInserted(this.tree),t.numRefNodes++,!0;if(this.extents.width()<1&&this.extents.height()<1)throw new Error("Error: Unable to split node any further. Current size is "+this.extents.width()+" x "+this.extents.height());this.subNode=[new $3828746ff56712c29d2f8c7d665df234$export$default(this.tree,this.extents.x1,this.extents.y1,this.extents.cx,this.extents.cy),new $3828746ff56712c29d2f8c7d665df234$export$default(this.tree,this.extents.cx,this.extents.y1,this.extents.x2,this.extents.cy),new $3828746ff56712c29d2f8c7d665df234$export$default(this.tree,this.extents.x1,this.extents.cy,this.extents.cx,this.extents.y2),new $3828746ff56712c29d2f8c7d665df234$export$default(this.tree,this.extents.cx,this.extents.cy,this.extents.x2,this.extents.y2)];let r=this.numItems;this.numItems=0;for(let t=0;t<r;t++){let t=this.insertionPoint.next,a=this.insertionPoint.value;if(a.numRefNodes--,!this.addItem(a,e))throw new Error("Error: Shouldn't have happened. Unable to insert item on a sub-node of a just-split node.");this.tree.items.remove(this.insertionPoint),this.insertionPoint=t}return this.insertionPoint=null,this.addItem(t,e)},removeItem:function(t){if(!t.getInsertionBounds().intersects(this.extents))return!1;if(null!=this.subNode){for(var e=!1,a=0;a<4;a++)e|=this.subNode[a].removeItem(t);return e&&(this.isDirty=!0,this.numItems--),e}a=this.insertionPoint;for(var i=this.numItems;a&&i--&&a.value!=t;a=a.next);return null!=a&&(this.isDirty=!0,this.numItems--,t.numRefNodes--,a===this.insertionPoint&&(this.insertionPoint=this.numItems?a.next:null),this.tree.items.remove(a),0==t.numRefNodes&&t.notifyRemoved(this.tree),!0)},selectItems:function(t=null,e=null){if(!t||t.intersects(this.extents))if(null!=this.subNode)for(var a=0;a<4;a++)this.subNode[a].selectItems(t,e);else{a=this.insertionPoint;for(var i=this.numItems;a&&i--;a=a.next)if(!(a.value.flags&$f4488b82cac25c298ad52c19b6b3297c$export$default.FLAG_NEVER_SELECT)&&(null==t||1==a.value._visible&&a.value.getInsertionBounds().intersects(t)||a.value.flags&$f4488b82cac25c298ad52c19b6b3297c$export$default.FLAG_ALWAYS_SELECT)){if(e&&!e(a.value))continue;a.value.flags&$f4488b82cac25c298ad52c19b6b3297c$export$default.FLAG_SELECTED||(a.value.flags|=$f4488b82cac25c298ad52c19b6b3297c$export$default.FLAG_SELECTED,this.tree.selectedCount++)}}},detectCollisions:function(t,e=!1){if(this.isDirty||e)if(this.isDirty=!1,null==this.subNode){var a=this.numItems;for(f=this.insertionPoint;f&&a>1;f=i){var i=f.next,r=--a;if(!(0==f.value._visible||f.value.flags&$f4488b82cac25c298ad52c19b6b3297c$export$default.FLAG_NEVER_SELECT)&&t.onFilterRequest(f.value))for(var n=f.value.getBounds(),s=f.next;s&&r-- >0;s=o){var o=s.next;if(!(0==s.value._visible||s.value.flags&$f4488b82cac25c298ad52c19b6b3297c$export$default.FLAG_NEVER_SELECT)&&(t.onFilterRequest(s.value)&&s.value.getBounds().intersects(n))){var d=f.objectId,c=s.objectId;if(t.onCollision(f.value,s.value),f.objectId!=d){i=this.insertionPoint,a=this.numItems;break}s.objectId==c||(o=f.next,r=a)}}}}else for(var f=0;f<4;f++)this.subNode[f].detectCollisions(t,e)}}),$ea77d4127a4dcf9374b60fb8b7a620bb$export$default=$3cfc71de303eee1e948c94eb1134db65$exports.Class.extend({className:"QuadTree",root:null,items:null,orderedItems:null,updateQueue:null,nodeCapacity:0,nextItem:null,selectedCount:0,selectedIndex:0,isReverse:!1,visible:!0,xd:!1,yd:!1,zd:!1,__ctor:function(t,e,a,i,r){this.items=new $a6d65121a2cfb4a947f9dbeff3e92d6c$export$default,this.orderedItems=new $a6d65121a2cfb4a947f9dbeff3e92d6c$export$default,this.updateQueue=new $a6d65121a2cfb4a947f9dbeff3e92d6c$export$default,this.root=new $3828746ff56712c29d2f8c7d665df234$export$default(this,t,e,a,i),this.nodeCapacity=r,this.isReverse=!1,this.visible=!0,this.fnComparator=this.COMPARATOR_DEFAULT_YX},__dtor:function(){this.root.clear(),dispose(this.root),dispose(this.items),dispose(this.orderedItems),dispose(this.updateQueue)},getRoot:function(){return this.root},getExtents:function(){return this.root.getExtents()},setVisible:function(t){return this.visible=t,this},getVisible:function(){return this.visible},clear:function(){this.root.clear(),this.orderedItems.reset(),this.updateQueue.reset()},setXd:function(t){return this.xd!=t&&(this.xd=t,!0)},setYd:function(t){return this.yd!=t&&(this.yd=t,!0)},setZd:function(t){return this.zd!=t&&(this.zd=t,!0)},getXd:function(){return this.xd},getYd:function(){return this.yd},getZd:function(){return this.zd},fnComparator:null,setComparator:function(t){return this.fnComparator!=t&&(this.fnComparator=t,!0)},COMPARATOR_DEFAULT_YX:function(t,e,a,i){return a.zindex<i.zindex^this.zd||a.zindex==i.zindex&&(t.y1<e.y1^this.yd||t.y1==e.y1&&t.x1<e.x1^this.xd)},COMPARATOR_DEFAULT_XY:function(t,e,a,i){return a.zindex<i.zindex^this.zd||a.zindex==i.zindex&&(t.x1<e.x1^this.xd||t.x1==e.x1&&t.y1<e.y1^this.yd)},COMPARATOR_MANHATTAN:function(t,e,a,i){return a.zindex<i.zindex^this.zd||a.zindex==i.zindex&&t.cx+t.cy<e.cx+e.cy},COMPARATOR_Y2:function(t,e,a,i){return a.zindex<i.zindex^this.zd||a.zindex==i.zindex&&(t.y2<e.y2^this.yd||t.y2==e.y2&&t.x1<=e.x1^this.xd)},COMPARATOR_Y1:function(t,e,a,i){return t.y1+a.zindex<e.y1+i.zindex^this.yd},COMPARATOR_X2:function(t,e,a,i){return t.x2+a.zindex<e.x2+i.zindex^this.xd},COMPARATOR_X1:function(t,e,a,i){return t.x1+a.zindex<e.x1+i.zindex^this.xd},isBefore:function(t,e){return this.fnComparator(t.insertionBounds,e.insertionBounds,t,e)},addItemOrdered:function(t){for(var e=this.orderedItems.top;e;e=e.next)if(this.isBefore(t,e.value))return void this.orderedItems.insertBefore(e,t);this.orderedItems.push(t)},reorderItems:function(){var t=this.orderedItems;this.orderedItems=new $a6d65121a2cfb4a947f9dbeff3e92d6c$export$default;for(var e=t.top;e;e=e.next)this.addItemOrdered(e.value);dispose(t)},addItem:function(t){return!!this.root.addItem(t,this.nodeCapacity)&&(this.addItemOrdered(t),!0)},removeItem:function(t){return!(t.flags&$f4488b82cac25c298ad52c19b6b3297c$export$default.FLAG_ATTACHED)||!!this.root.removeItem(t)&&(this.orderedItems.remove(this.orderedItems.sgetNode(t)),!0)},updateItem:function(t){if(this.removeItem(t),!this.addItem(t))throw new Error("Unable to re-attach item to quadtree.");t.flags&$f4488b82cac25c298ad52c19b6b3297c$export$default.FLAG_QUEUED||(this.updateQueue.push(t),t.flags|=$f4488b82cac25c298ad52c19b6b3297c$export$default.FLAG_QUEUED)},update:function(){for(var t;t=this.updateQueue.pop();)t.flags&=~$f4488b82cac25c298ad52c19b6b3297c$export$default.FLAG_QUEUED,t.notifyPosition()},getItems:function(){return this.orderedItems},setReverse:function(t){return this.isReverse=t,this},selectItems:function(t=null,e=null,a=null){return null===a&&(a=this.isReverse),this.selectedCount=0,this.selectedIndex=0,this.root.selectItems(t,e),this.nextItem=a?this.orderedItems.bottom:this.orderedItems.top,this.selectedCount},getCountSelected:function(){return this.selectedCount},getNextSelected:function(t=null){for(null===t&&(t=this.isReverse);null!=this.nextItem&&!(this.nextItem.value.flags&$f4488b82cac25c298ad52c19b6b3297c$export$default.FLAG_SELECTED);)this.nextItem=t?this.nextItem.prev:this.nextItem.next;var e=this.nextItem;return this.nextItem&&(this.nextItem.value.flags&=~$f4488b82cac25c298ad52c19b6b3297c$export$default.FLAG_SELECTED,this.nextItem=t?this.nextItem.prev:this.nextItem.next),null!=e?(e.value.selectedIndex=this.selectedIndex,this.selectedIndex++,this.selectedCount--,e.value):null},releaseSelected:function(){for(;this.selectedCount>0;)this.getNextSelected()},countItems:function(t=null,e=null){let a=this.selectItems(t,e);return this.releaseSelected(),a},detectCollisions:function(t,e=!1){this.root.detectCollisions(t,e)},selectItemsIntoArray:function(t,e=null){let a=[];for(this.selectItems(t,e);this.getCountSelected();)a.push(this.getNextSelected());return a}}),$115658c46d646d39ac43cc89972e18ca$export$default={modules:new $c1c7a145c98bcb18a392b682ca5a94ab$export$default,init:function(){$f54301229ec8e69146530a6a9ae01343$export$default.integerScaling=!1,$a742bfd07457dd01c7b3c95bc090b0ee$export$default.init({antialias:$32a2bac29d448dd907e81e9c4e0927b4$export$default.ANTIALIAS,fullscreen:!1,background:$32a2bac29d448dd907e81e9c4e0927b4$export$default.BACKGROUND,screenWidth:$32a2bac29d448dd907e81e9c4e0927b4$export$default.WIDTH,screenHeight:$32a2bac29d448dd907e81e9c4e0927b4$export$default.HEIGHT,orientation:$32a2bac29d448dd907e81e9c4e0927b4$export$default.ORIENTATION,fps:$32a2bac29d448dd907e81e9c4e0927b4$export$default.FPS,minFps:$32a2bac29d448dd907e81e9c4e0927b4$export$default.MIN_FPS||15}),$115658c46d646d39ac43cc89972e18ca$export$default.startup()},register:function(t){return this.modules.add(t)},unregister:function(t){this.modules.remove(t),this.modules.cleanup()},startup:function(){this.modules.forEachAsync(((t,e)=>{!1!==t.onStartup(e)&&e()}))},shutdown:function(){this.modules.forEachAsyncRev(((t,e)=>{!1!==t.onShutdown(e)&&e()}))}};$115658c46d646d39ac43cc89972e18ca$export$default.Module=$3cfc71de303eee1e948c94eb1134db65$exports.Class.extend({className:"Module",priority:5,__ctor:function(){$115658c46d646d39ac43cc89972e18ca$export$default.register(this)},__dtor:function(){$115658c46d646d39ac43cc89972e18ca$export$default.unregister(this)},onStartup:function(t){},onShutdown:function(t){}});var $f6fd91976d1a00f62245478a15a89def$export$default=$f4488b82cac25c298ad52c19b6b3297c$export$default.extend({className:"Element",_visible:!0,_active:!0,_topLeftRelative:!0,anim:null,parent:null,container:null,node:null,type:0,alpha:1,angle:0,x:0,y:0,sx:1,sy:1,width:0,height:0,transform:null,transformDirty:!1,debugBounds:!1,debugHitbox:!1,__ctor:function(t=0,e=0,a=0,i=0){this._super.QuadTreeItem.__ctor(),this.anim=new $3bdc6dd248b1488ae784c33e2fc85d39$export$default,this.anim.output(this),this.x=t,this.y=e,this.transform=new $cfdf07c9c794ed7dda1152f9ad0dc88d$export$default,this.resize(a,i),this.updateTransform(!0)},__dtor:function(){this._super.QuadTreeItem.__dtor(),this.remove(),this.anim=null,this.transform=null},visible:function(t=null){return null===t?this._visible&&(null==this.parent||this.parent.visible()):(this._visible=t,this)},active:function(t=null){return null===t?this._active&&(null==this.parent||this.parent.active()):(this._active=t,this)},resize:function(t,e){this.width=t,this.height=e,this._updateBounds()},_updateBounds:function(){this.bounds.zero(),this.bounds.translate(0,0),this.bounds.resizeBy(this.width,this.height,this._topLeftRelative);let t=this.transform.applyTo(this.bounds.x1,this.bounds.y1),e=this.transform.applyTo(this.bounds.x2,this.bounds.y2);this.bounds.reset(),this.bounds.extendWithPoint(t),this.bounds.extendWithPoint(e)},updateTransform:function(t=!1){t?(null!=this.parent?this.transform.set(this.parent.transform):this.transform.identity(),this.transform.translate(this.x,this.y),0!=this.sx&&this.transform.scale(this.sx,1),0!=this.sy&&this.transform.scale(1,this.sy),0!=this.angle&&(this.transform.translate(.5*this.width,.5*this.height),this.transform.rotate(this.angle)),this.transformDirty=!1,this._updateBounds(),this.updatePosition()):this.transformDirty=!0},getRoot:function(){let t=this;for(;t.parent;)t=t.parent;return t},setParent:function(t){this.parent,this.parent=t,this.transformDirty=!0},getX:function(t=!1){return(t&&null!=this.parent?this.parent.getX(!0):0)+this.x},getY:function(t=!1){return(t&&null!=this.parent?this.parent.getY(!0):0)+this.y},inverseTransform:function(t){return null!=this.parent&&this.parent.inverseTransform(t),t.x-=this.x,t.y-=this.y,t.x/=this.sx,t.y/=this.sy,t},setAnim:function(t){return t.clone(this.anim),this},resetAnim:function(t=null){null!=t&&this.setAnim(t),this.anim.reset()},addTo:function(t){return t.add(this),this},remove:function(){return null!=this.parent&&this.parent.removeChild(this),this.container&&(this.container.remove(this),this.container=null),this},updatePosition:function(){this.container&&this.container.syncPosition(this)},translate:function(t,e,a=!1){return this.x+=t,this.y+=e,this.bounds.translate(t,e),this.updateTransform(a),this},setPosition:function(t,e,a=!1){return this.translate(t-this.x,e-this.y,a)},applyTransform:function(t){t.appendMatrix(this.transform),1!=this.alpha&&t.alpha(this.alpha)},preDraw:function(t){t.pushMatrix(),t.pushAlpha(),this.applyTransform(t)},postDraw:function(t){($6634642aa2fec76f82297501f72839b3$export$default.debugBounds||this.debugBounds)&&(t.lineWidth(1),t.strokeStyle("yellow"),t.strokeRect(.5,.5,this.width-1,this.height-1)),t.popAlpha(),t.popMatrix(),($6634642aa2fec76f82297501f72839b3$export$default.debugHitbox||this.debugHitbox)&&(this.type?t.fillStyle("rgba(0,255,255,0.5)"):t.fillStyle("rgba(255,255,255,0.5)"),t.fillRect(this.insertionBounds.x1,this.insertionBounds.y1,this.insertionBounds.width(),this.insertionBounds.height()))},draw:function(t){this.visible()&&(this.preDraw(t),this.elementDraw(t),this.postDraw(t))},update:function(t){this.active()&&(this.anim.update(t)&&!this.transformDirty||this.updateTransform(!0),this.elementUpdate(t))},elementDraw:function(t){},elementUpdate:function(t){},onAttached:function(t){},onDetached:function(t){}}),$f1eb9974ebf2b55d1366eca754cb6218$export$default=$3cfc71de303eee1e948c94eb1134db65$exports.Class.extend($f6fd91976d1a00f62245478a15a89def$export$default,{className:"Container",reverseDraw:!1,tree:null,viewportBounds:null,__ctor:function(t=-1e6,e=-1e6,a=1e6,i=1e6,r=16){this._super.Element.__ctor(),this.container=!1,this.tree=new $ea77d4127a4dcf9374b60fb8b7a620bb$export$default(t,e,a,i,r)},getTree:function(){return this.tree},add:function(t){return this.tree.addItem(t)?(t.container=this,t.onAttached(this),t):t},remove:function(t){return t.container!==this||(this.tree.removeItem(t),t.onDetached(this)),t},syncPosition:function(t){t&&t.container===this&&this.tree.updateItem(t)},setViewportBounds:function(t){this.viewportBounds=t},elementDraw:function(t){for(this.tree.selectItems(this.viewportBounds,this.reverseDraw);;){let e=this.tree.getNextSelected();if(!e)break;e.draw(t)}this.containerDraw(t)},elementUpdate:function(t){this.tree.getItems().forEach((e=>e.update(t))),this.containerUpdate(t),this.tree.update()},containerDraw:function(t){},containerUpdate:function(t){}}),$4e6346ac72a3c20ad744dec27a5b7276$export$default=$3cfc71de303eee1e948c94eb1134db65$exports.Class.extend({className:"Viewport",width:0,height:0,sx:0,sy:0,x:0,y:0,centerRatioX:0,centerRatioY:0,dx:0,dy:0,worldX1:0,worldY1:0,worldX2:0,worldY2:0,focusFactorX:0,focusFactorY:0,focusRect:null,focusOffsX:0,focusOffsY:0,enabled:!1,scale:1,bounds:null,focusBounds:null,screenBounds:null,__ctor:function(t,e,a,i,r,n,s,o){this.focusFactorX=null==s?.4:s,this.focusFactorY=null==o?.4:o,this.focusRect=null,this.sx=t,this.sy=e,a>r&&(a=r),i>n&&(i=n),this.width=a,this.height=i,r>>=1,n>>=1,this.worldX1=-r,this.worldY1=-n,this.worldX2=+r,this.worldY2=+n,this.bounds=$8fa65cf901fc165da6bcf10c3f72ace4$export$default.alloc(),this.focusBounds=$8fa65cf901fc165da6bcf10c3f72ace4$export$default.alloc(),this.screenBounds=$8fa65cf901fc165da6bcf10c3f72ace4$export$default.alloc(),this.x=0,this.y=0,this.enabled=!0,this.updateScreenBounds(),this.updateBounds()},isEnabled:function(){return this.enabled},setEnabled:function(t){return this.enabled=t,this},updateBounds:function(){let t=this.width>>1,e=this.height>>1;this.bounds.set(this.x-t/this.scale+this.dx,this.y-e/this.scale+this.dy,this.x+t/this.scale+this.dx,this.y+e/this.scale+this.dy),this.focusBounds.set(this.x-(this.focusFactorX*t+this.centerRatioX*t)/this.scale,this.y-(this.focusFactorY*e+this.centerRatioY*e)/this.scale,this.x+(this.focusFactorX*t+this.centerRatioX*t)/this.scale,this.y+(this.focusFactorY*e+this.centerRatioY*e)/this.scale)},updateScreenBounds:function(){this.screenBounds.set(this.sx,this.sy,this.sx+(this.width-1),this.sy+(this.height-1))},resize:function(t,e){return this.width=t,this.height=e,this.updateScreenBounds(),this.updateBounds(),this},setPosition:function(t,e){return this.x=t,this.y=e,this.dx=0,this.dy=0,this.updateBounds(),this},setOffsets:function(t,e){return this.dx=t,this.dy=e,this.updateBounds(),this},setScale:function(t){return this.scale=t,this.updateScreenBounds(),this.updateBounds(),this},setCenter:function(t,e){return this.centerRatioX=t,this.centerRatioY=e,this},translate:function(t,e){return this.dx+=t,this.dy+=e,this.updateBounds(),this},setScreenPosition:function(t,e){this.sx=t,this.sy=e,this.updateScreenBounds()},getX:function(t=!1){return this.x+(t?0:this.dx)},getY:function(t=!1){return this.y+(t?0:this.dy)},getPositionX:function(){return this.dx},getPositionY:function(){return this.dy},getWidth:function(){return this.width},getHeight:function(){return this.height},getBounds:function(){return this.bounds},getScreenBounds:function(){return this.screenBounds},getFocusBounds:function(){return this.focusBounds},focusOn:function(t,e,a=null,i=null,r=null,n=null){null===r&&(r=this.focusFactorX),null===n&&(n=this.focusFactorY),null===a&&(a=t),null===i&&(i=e);let s=this.width>>1,o=this.height>>1,d=this.x-(r*s+this.centerRatioX*s)/this.scale,c=this.x+(r*s+this.centerRatioX*s)/this.scale,f=this.y-(n*o+this.centerRatioY*o)/this.scale,l=this.y+(n*o+this.centerRatioY*o)/this.scale;d==c&&(t=a=(t+a)/2),f==l&&(e=i=(e+i)/2);let u=this.x,h=this.y;t<d?u+=t-d:a>c&&(u+=a-c),e<f?h+=e-f:i>l&&(h+=i-l),d=u-s,c=u+s,f=h-o,l=h+o,d<this.worldX1&&(u=this.worldX1+s),c>this.worldX2&&(u=this.worldX2-s),f<this.worldY1&&(h=this.worldY1+o),l>this.worldY2&&(h=this.worldY2-o),this.x=u,this.y=h,this.updateBounds()},update:function(t){null!=this.focusRect&&this.focusOn(this.focusRect.x1,this.focusRect.y1,this.focusRect.x2,this.focusRect.y2)},setFocusRect:function(t,e=0,a=0){return this.focusRect=t,this.focusOffsX=e,this.focusOffsY=a,this.update(0),this},setFocusFactor:function(t,e){return this.focusFactorX=t,this.focusFactorY=void 0===e?t:e,this},applyTransform:function(t){t.translate(this.screenBounds.cx,this.screenBounds.cy),t.scale(this.scale,this.scale),t.translate(-this.getX(),-this.getY()),t.matr.data[6]=~~t.matr.data[6],t.matr.data[7]=~~t.matr.data[7],t.updateTransform()},toWorldSpace:function(t,e,a=!1){return a?(t=(t-~~this.screenBounds.cx)/this.scale+~~this.getX(),e=(e-~~this.screenBounds.cy)/this.scale+~~this.getY()):(t=(t-this.screenBounds.cx)/this.scale+this.getX(),e=(e-this.screenBounds.cy)/this.scale+this.getY()),{x:t,y:e}},toScreenSpace:function(t,e,a=!1){return a?(t=(t-~~this.getX())*this.scale+~~this.screenBounds.cx,e=(e-~~this.getY())*this.scale+~~this.screenBounds.cy):(t=(t-this.getX())*this.scale+this.screenBounds.cx,e=(e-this.getY())*this.scale+this.screenBounds.cy),{x:t,y:e}}});const $3d3039fb0d4916b212bce5677b0e701f$export$default=$f6fd91976d1a00f62245478a15a89def$export$default.extend({className:"Scene",layers:null,viewports:null,viewportBounds:null,__ctor:function(t=null){this._super.Element.__ctor(),this.layers=[],this.viewports=[],this.viewportBounds=$8fa65cf901fc165da6bcf10c3f72ace4$export$default.alloc(),this.container=!1},__dtor:function(){this._super.Element.__dtor(),this.viewportBounds.dispose()},set:function(t,e){if(!(t<0)){if(!e.isInstanceOf($f1eb9974ebf2b55d1366eca754cb6218$export$default))throw new Error("Scene: Unable to set layer at index "+t+": argument is not a Container.");return this.layers[t]=e,e}},get:function(t){return t<0||t>=this.layers.length?null:this.layers[t]},setViewport:function(t,e){if(!(t<0)){if(!e.isInstanceOf($4e6346ac72a3c20ad744dec27a5b7276$export$default))throw new Error("Scene: Unable to set viewport at index "+t+": argument is not a Viewport.");return this.viewports[t]=e,e}},getViewport:function(t){return t<0||t>=this.viewports.length?null:this.viewports[t]},elementDraw:function(t){if(this.viewports.length)for(let e=0;e<this.viewports.length;e++){let a=this.viewports[e];if(!a||!a.isEnabled())continue;t.pushClip();let i=a.getScreenBounds();t.clip(i.x1,i.y1,i.width()+1,i.height()+1),t.pushMatrix(),a.applyTransform(t),this.viewportBounds.set(a.getBounds()).resizeBy(1,1),this._sceneDraw(t,this.viewportBounds),t.popMatrix(),t.popClip()}else this._sceneDraw(t,null)},_sceneDraw:function(t,e){try{for(let a=0;a<this.layers.length;a++)this.layers[a]&&(this.layers[a].setViewportBounds(e),this.layers[a].draw(t))}catch(t){if("SYS::FRAME_END"!=t.message)throw t}},elementUpdate:function(t){try{for(let e=0;e<this.layers.length;e++)this.layers[e]&&this.layers[e].update(t);for(let e=0;e<this.viewports.length;e++)this.viewports[e]&&this.viewports[e].update(t)}catch(t){if("SYS::FRAME_END"!=t.message)throw t}}});$3d3039fb0d4916b212bce5677b0e701f$export$default.LAYER_BACK0=0,$3d3039fb0d4916b212bce5677b0e701f$export$default.LAYER_BACK1=1,$3d3039fb0d4916b212bce5677b0e701f$export$default.LAYER_MAIN0=2,$3d3039fb0d4916b212bce5677b0e701f$export$default.LAYER_MAIN1=3,$3d3039fb0d4916b212bce5677b0e701f$export$default.LAYER_FRONT0=4,$3d3039fb0d4916b212bce5677b0e701f$export$default.LAYER_FRONT1=5,$3d3039fb0d4916b212bce5677b0e701f$export$default.LAYER_UI0=6,$3d3039fb0d4916b212bce5677b0e701f$export$default.LAYER_UI1=7,$3d3039fb0d4916b212bce5677b0e701f$export$default.LAYER_COLLISIONS=8;var $77d770ba83edbc2cca71a014daa36405$export$default=$f6fd91976d1a00f62245478a15a89def$export$default.extend({className:"Group",debugHitbox:!1,highlight:!1,children:null,undisposable:!1,__ctor:function(t,e,a=1,i=1){this._super.Element.__ctor(t,e,a,i)},__dtor:function(){if(!this.undisposable&&(this._super.Element.__dtor(),null!=this.children)){let t=this.children;this.children=null,t.forEach((t=>dispose(t)))}},resetAnim:function(t=null){this._super.Element.resetAnim(t),null!=this.children&&this.children.forEach((t=>t.resetAnim()))},addChild:function(t){return t?(null==this.children&&(this.children=[]),this.children.push(t),t.setParent(this),t):t},removeChild:function(t){if(null==t||t.parent!==this||null==this.children)return t;let e=this.children.indexOf(t);return-1===e||(this.children.splice(e,1),t.setParent(null)),t},updatePosition:function(){this._super.Element.updatePosition(),null!=this.children&&this.children.forEach((t=>t.updatePosition()))},updateTransform:function(t=!1){this._super.Element.updateTransform(t),null!=this.children&&this.children.forEach((e=>e.updateTransform(t)))}}),$71117f1fc9d53e1ea4a89817a28be176$export$default=$115658c46d646d39ac43cc89972e18ca$export$default.Module.create({handlers:null,__ctor:function(){this._super.Module.__ctor(),this.handlers=new $c1c7a145c98bcb18a392b682ca5a94ab$export$default},register:function(t){try{this.handlers.add(t),"init"in t&&t.init()}catch(t){throw new Error("KeyboardHandler (register): "+t.message)}return t},unregister:function(t){try{this.handlers.remove(t),this.handlers.cleanup()}catch(t){throw new Error("KeyboardHandler (unregister): "+t.message)}},onStartup:function(){$a742bfd07457dd01c7b3c95bc090b0ee$export$default.onKeyboardEvent=(t,e,a)=>{const i={};try{this.handlers.forEach((r=>{if(!1===r.onKeyboardEvent(t,e,a))throw i}))}catch(t){if(t!==i)throw t}}},onShutdown:function(){$a742bfd07457dd01c7b3c95bc090b0ee$export$default.onKeyboardEvent=null}}),$8f9d1b6b2323141226fbdb195315e173$export$default=$115658c46d646d39ac43cc89972e18ca$export$default.Module.create({handlers:null,__ctor:function(){this._super.Module.__ctor(),this.handlers=new $c1c7a145c98bcb18a392b682ca5a94ab$export$default},register:function(t){try{this.handlers.add(t),"init"in t&&t.init()}catch(t){throw new Error("PointerHandler (register): "+t.message)}return t},unregister:function(t){try{this.handlers.remove(t),this.handlers.cleanup()}catch(t){throw new Error("PointerHandler (unregister): "+t.message)}},onStartup:function(){$a742bfd07457dd01c7b3c95bc090b0ee$export$default.onPointerEvent=(t,e,a)=>{const i={};try{this.handlers.forEach((r=>{if(!1===r.onPointerEvent(t,e,a))throw i}))}catch(t){if(t!==i)throw t}}},onShutdown:function(){$a742bfd07457dd01c7b3c95bc090b0ee$export$default.onPointerEvent=null}});const $eb8cbe83e7ec6771b1a5726fc638ed47$export$default={priority:5,list:[],hoverEnabled:!1,zindexEnabled:!1,lastFrame:0,add:function(t){this.zindexEnabled&&!("zindex"in t)&&(t.zindex=0),-1===this.list.indexOf(t)&&this.list.push(t)},remove:function(t){var e=this.list.indexOf(t);-1!==e&&this.list.splice(e,1)},setHoverEnabled:function(t){this.hoverEnabled=t},setZIndexEnabled:function(t){this.zindexEnabled=t},findTarget:function(t,e,a){if(this.zindexEnabled&&this.lastFrame!=$a742bfd07457dd01c7b3c95bc090b0ee$export$default.frameNumber){let t=this.list[0].zindex;for(let e of this.list){if(e.zindex>t){this.list=this.list.sort(((t,e)=>e.zindex-t.zindex));break}t=e.zindex}this.lastFrame=$a742bfd07457dd01c7b3c95bc090b0ee$export$default.frameNumber}for(let i in this.list)if(this.list[i])if(this.list[i]instanceof Array){alert("SHOULDN BE SUPPORTED");for(let r=0;r<this.list[i].length;r++)if((null==a||0!=a(this.list[i][r]))&&this.list[i][r].containsPoint(t,e))return this.list[i][r]}else{if(null!=a&&0==a(this.list[i]))continue;if(this.list[i].containsPoint(t,e))return this.list[i]}return null},onPointerEvent:function(t,e,a){let i=!0,r=null;switch(t){case $a742bfd07457dd01c7b3c95bc090b0ee$export$default.EVT_POINTER_DOWN:null!=e._ref&&(r=e._ref,e._ref=null,r.pointerDeactivate(e)),r=this.findTarget(e.x,e.y),null!=r&&((e._ref=r).pointerActivate(e),i=!1);break;case $a742bfd07457dd01c7b3c95bc090b0ee$export$default.EVT_POINTER_DRAG_START:null!=e._ref&&(i=!1);break;case $a742bfd07457dd01c7b3c95bc090b0ee$export$default.EVT_POINTER_DRAG_MOVE:this.hoverEnabled&&(null!=e._refh?e._refh.containsPoint(e.x,e.y)||(r=e._refh,e._refh=null,r.hover(!1,e),r=this.findTarget(e.x,e.y,(t=>"hover"in t)),null!=r&&(e._refh=r).hover(!0,e)):(r=this.findTarget(e.x,e.y,(t=>"hover"in t)),null!=r&&(e._refh=r).hover(!0,e))),null!=e._ref?e._ref.containsPoint(e.x,e.y)||1==e._ref.focusLock?(e._ref.pointerUpdate(e.x,e.y,e),i=!1):(r=e._ref,e._ref=null,r.pointerDeactivate(e),r=this.findTarget(e.x,e.y),null!=r&&((e._ref=r).pointerActivate(e),i=!1)):(r=this.findTarget(e.x,e.y),null!=r&&((e._ref=r).pointerActivate(e),i=!1));break;case $a742bfd07457dd01c7b3c95bc090b0ee$export$default.EVT_POINTER_MOVE:if(this.hoverEnabled&&(null!=e._refh?e._refh.containsPoint(e.x,e.y)||(r=e._refh,e._refh=null,r.hover(!1,e),r=this.findTarget(e.x,e.y,(t=>"hover"in t)),null!=r&&(e._refh=r).hover(!0,e)):(r=this.findTarget(e.x,e.y,(t=>"hover"in t)),null!=r&&(e._refh=r).hover(!0,e))),null==e._ref)break;e._ref.containsPoint(e.x,e.y)||1==e._ref.focusLock?(e._ref.pointerUpdate(e.x,e.y,e),i=!1):(r=e._ref,e._ref=null,r.pointerDeactivate(e));break;case $a742bfd07457dd01c7b3c95bc090b0ee$export$default.EVT_POINTER_DRAG_STOP:null!=e._ref&&(i=!1);break;case $a742bfd07457dd01c7b3c95bc090b0ee$export$default.EVT_POINTER_UP:null!=e._ref&&(r=e._ref,e._ref=null,r.pointerDeactivate(e),i=!1)}return i},onKeyboardEvent:function(t,e,a){switch(t){case $a742bfd07457dd01c7b3c95bc090b0ee$export$default.EVT_KEY_DOWN:for(var i in this.list)if(this.list[i])if(this.list[i]instanceof Array){for(var r=0;r<this.list[i].length;r++)if(this.list[i][r].keyCode==e){this.list[i][r].pointerActivate({}),r=-1;break}if(-1==r)break}else if(this.list[i].keyCode==e){this.list[i].pointerActivate({});break}break;case $a742bfd07457dd01c7b3c95bc090b0ee$export$default.EVT_KEY_UP:for(var i in this.list)if(this.list[i])if(this.list[i]instanceof Array){for(r=0;r<this.list[i].length;r++)if(this.list[i][r].keyCode==e){this.list[i][r].pointerDeactivate({}),r=-1;break}if(-1==r)break}else if(this.list[i].keyCode==e){this.list[i].pointerDeactivate({});break}}}};$8f9d1b6b2323141226fbdb195315e173$export$default.register($eb8cbe83e7ec6771b1a5726fc638ed47$export$default),$71117f1fc9d53e1ea4a89817a28be176$export$default.register($eb8cbe83e7ec6771b1a5726fc638ed47$export$default);var $37f8ba27389b2d964d00693323674a52$export$default=$77d770ba83edbc2cca71a014daa36405$export$default.extend({focusLock:!1,status:0,lstatus:0,unpressedImg:null,pressedImg:null,keyCode:0,mask:0,__ctor:function(t,e,a,i=null,r=!0){this._super.Group.__ctor(t,e,a.width,a.height),this.unpressedImg=a,this.pressedImg=i||a,this.mask=new $f6fd91976d1a00f62245478a15a89def$export$default(0,0,this.width,this.height),this.addChild(this.mask),$eb8cbe83e7ec6771b1a5726fc638ed47$export$default.add(this)},__dtor:function(){this._super.Group.__dtor(),$eb8cbe83e7ec6771b1a5726fc638ed47$export$default.remove(this)},onAttached:function(t){t.add(this.mask)},onDetached:function(t){t.remove(this.mask),this.mask.container=null},setImage:function(t,e=null){this.unpressedImg=t,this.pressedImg=e||t},reset:function(){this.status=this.lstatus=0,this.onChange(this.status,this.lstatus)},elementDraw:function(t){this.status?this.pressedImg.draw(t,0,0):this.unpressedImg.draw(t,0,0)},pointerUpdate:function(t,e){},pointerActivate:function(t){this.lstatus=this.status,this.status=1,this.onChange(this.status,this.lstatus)},pointerDeactivate:function(t){this.lstatus=this.status,this.status=0,this.onChange(this.status,this.lstatus)},containsPoint:function(t,e){return!(!this.active()||!this.visible())&&this.mask.bounds.containsPoint(t,e)},onChange:function(t,e){t!=e&&(t?this.onButtonDown():this.onButtonUp()),0==t&&1==e&&this.onTap()},onButtonDown:function(){},onButtonUp:function(){},onTap:function(){}});const $7d34be8d463e2ca1db325c31f9195886$export$G=$6634642aa2fec76f82297501f72839b3$export$default;$parcel$export($7d34be8d463e2ca1db325c31f9195886$exports,"G",(function(){return $7d34be8d463e2ca1db325c31f9195886$export$G}));const $7d34be8d463e2ca1db325c31f9195886$export$C=$32a2bac29d448dd907e81e9c4e0927b4$export$default;$parcel$export($7d34be8d463e2ca1db325c31f9195886$exports,"C",(function(){return $7d34be8d463e2ca1db325c31f9195886$export$C}));const $7d34be8d463e2ca1db325c31f9195886$export$System=$a742bfd07457dd01c7b3c95bc090b0ee$export$default;$parcel$export($7d34be8d463e2ca1db325c31f9195886$exports,"System",(function(){return $7d34be8d463e2ca1db325c31f9195886$export$System}));const $7d34be8d463e2ca1db325c31f9195886$export$Timer=$c7fc636a51ef24ec0ac87c4b46f79252$export$default;$parcel$export($7d34be8d463e2ca1db325c31f9195886$exports,"Timer",(function(){return $7d34be8d463e2ca1db325c31f9195886$export$Timer}));const $7d34be8d463e2ca1db325c31f9195886$export$KeyCodes=$4a6c1ac792b9165745c3666b6559e0f5$export$default;$parcel$export($7d34be8d463e2ca1db325c31f9195886$exports,"KeyCodes",(function(){return $7d34be8d463e2ca1db325c31f9195886$export$KeyCodes}));const $7d34be8d463e2ca1db325c31f9195886$export$Canvas=$18f02cd3c01ba82b0ae213a40b3411fa$export$default;$parcel$export($7d34be8d463e2ca1db325c31f9195886$exports,"Canvas",(function(){return $7d34be8d463e2ca1db325c31f9195886$export$Canvas}));const $7d34be8d463e2ca1db325c31f9195886$export$Perf=$0f0d574922f872efb1550e174d32a641$export$default;$parcel$export($7d34be8d463e2ca1db325c31f9195886$exports,"Perf",(function(){return $7d34be8d463e2ca1db325c31f9195886$export$Perf}));const $7d34be8d463e2ca1db325c31f9195886$export$Log=$c095d3677e4919554f005bfd818e9d8b$export$default;$parcel$export($7d34be8d463e2ca1db325c31f9195886$exports,"Log",(function(){return $7d34be8d463e2ca1db325c31f9195886$export$Log}));const $7d34be8d463e2ca1db325c31f9195886$export$IDrawable=$65fdb8290b08c2badcb2ab916e6236a2$export$default;$parcel$export($7d34be8d463e2ca1db325c31f9195886$exports,"IDrawable",(function(){return $7d34be8d463e2ca1db325c31f9195886$export$IDrawable}));const $7d34be8d463e2ca1db325c31f9195886$export$IUpdateable=$a6fa89fc5b54b955a2b83ca77cb68a18$export$default;$parcel$export($7d34be8d463e2ca1db325c31f9195886$exports,"IUpdateable",(function(){return $7d34be8d463e2ca1db325c31f9195886$export$IUpdateable}));const $7d34be8d463e2ca1db325c31f9195886$export$Wrappers=$b8a6185dc55af5ed70d98d8aa128380b$exports;$parcel$export($7d34be8d463e2ca1db325c31f9195886$exports,"Wrappers",(function(){return $7d34be8d463e2ca1db325c31f9195886$export$Wrappers}));const $7d34be8d463e2ca1db325c31f9195886$export$Resources=$f54301229ec8e69146530a6a9ae01343$export$default;$parcel$export($7d34be8d463e2ca1db325c31f9195886$exports,"Resources",(function(){return $7d34be8d463e2ca1db325c31f9195886$export$Resources}));const $7d34be8d463e2ca1db325c31f9195886$export$Recycler=$194ff00ff419b7d5d0c9f54e529ee18f$export$default;$parcel$export($7d34be8d463e2ca1db325c31f9195886$exports,"Recycler",(function(){return $7d34be8d463e2ca1db325c31f9195886$export$Recycler}));const $7d34be8d463e2ca1db325c31f9195886$export$Linkable=$de63c6cea9e937c787e6669e8b7367fa$export$default;$parcel$export($7d34be8d463e2ca1db325c31f9195886$exports,"Linkable",(function(){return $7d34be8d463e2ca1db325c31f9195886$export$Linkable}));const $7d34be8d463e2ca1db325c31f9195886$export$List=$a6d65121a2cfb4a947f9dbeff3e92d6c$export$default;$parcel$export($7d34be8d463e2ca1db325c31f9195886$exports,"List",(function(){return $7d34be8d463e2ca1db325c31f9195886$export$List}));const $7d34be8d463e2ca1db325c31f9195886$export$PriorityQueue=$c1c7a145c98bcb18a392b682ca5a94ab$export$default;$parcel$export($7d34be8d463e2ca1db325c31f9195886$exports,"PriorityQueue",(function(){return $7d34be8d463e2ca1db325c31f9195886$export$PriorityQueue}));const $7d34be8d463e2ca1db325c31f9195886$export$Matrix=$cfdf07c9c794ed7dda1152f9ad0dc88d$export$default;$parcel$export($7d34be8d463e2ca1db325c31f9195886$exports,"Matrix",(function(){return $7d34be8d463e2ca1db325c31f9195886$export$Matrix}));const $7d34be8d463e2ca1db325c31f9195886$export$Rect=$8fa65cf901fc165da6bcf10c3f72ace4$export$default;$parcel$export($7d34be8d463e2ca1db325c31f9195886$exports,"Rect",(function(){return $7d34be8d463e2ca1db325c31f9195886$export$Rect}));const $7d34be8d463e2ca1db325c31f9195886$export$Vec2=$c2385143810f8e75c47d71adc54042b3$export$default;$parcel$export($7d34be8d463e2ca1db325c31f9195886$exports,"Vec2",(function(){return $7d34be8d463e2ca1db325c31f9195886$export$Vec2}));const $7d34be8d463e2ca1db325c31f9195886$export$TFunction=$c123abff45dabf5b99c28050b9b9f34c$export$default;$parcel$export($7d34be8d463e2ca1db325c31f9195886$exports,"TFunction",(function(){return $7d34be8d463e2ca1db325c31f9195886$export$TFunction}));const $7d34be8d463e2ca1db325c31f9195886$export$Easing=$04fc9b95dfde5d6ead4d7c302935aa17$export$default;$parcel$export($7d34be8d463e2ca1db325c31f9195886$exports,"Easing",(function(){return $7d34be8d463e2ca1db325c31f9195886$export$Easing}));const $7d34be8d463e2ca1db325c31f9195886$export$Anim=$3bdc6dd248b1488ae784c33e2fc85d39$export$default;$parcel$export($7d34be8d463e2ca1db325c31f9195886$exports,"Anim",(function(){return $7d34be8d463e2ca1db325c31f9195886$export$Anim}));const $7d34be8d463e2ca1db325c31f9195886$export$QuadTreeItem=$f4488b82cac25c298ad52c19b6b3297c$export$default;$parcel$export($7d34be8d463e2ca1db325c31f9195886$exports,"QuadTreeItem",(function(){return $7d34be8d463e2ca1db325c31f9195886$export$QuadTreeItem}));const $7d34be8d463e2ca1db325c31f9195886$export$QuadTreeNode=$3828746ff56712c29d2f8c7d665df234$export$default;$parcel$export($7d34be8d463e2ca1db325c31f9195886$exports,"QuadTreeNode",(function(){return $7d34be8d463e2ca1db325c31f9195886$export$QuadTreeNode}));const $7d34be8d463e2ca1db325c31f9195886$export$QuadTree=$ea77d4127a4dcf9374b60fb8b7a620bb$export$default;$parcel$export($7d34be8d463e2ca1db325c31f9195886$exports,"QuadTree",(function(){return $7d34be8d463e2ca1db325c31f9195886$export$QuadTree}));const $7d34be8d463e2ca1db325c31f9195886$export$Boot=$115658c46d646d39ac43cc89972e18ca$export$default;$parcel$export($7d34be8d463e2ca1db325c31f9195886$exports,"Boot",(function(){return $7d34be8d463e2ca1db325c31f9195886$export$Boot}));const $7d34be8d463e2ca1db325c31f9195886$export$Element=$f6fd91976d1a00f62245478a15a89def$export$default;$parcel$export($7d34be8d463e2ca1db325c31f9195886$exports,"Element",(function(){return $7d34be8d463e2ca1db325c31f9195886$export$Element}));const $7d34be8d463e2ca1db325c31f9195886$export$Container=$f1eb9974ebf2b55d1366eca754cb6218$export$default;$parcel$export($7d34be8d463e2ca1db325c31f9195886$exports,"Container",(function(){return $7d34be8d463e2ca1db325c31f9195886$export$Container}));const $7d34be8d463e2ca1db325c31f9195886$export$Scene=$3d3039fb0d4916b212bce5677b0e701f$export$default;$parcel$export($7d34be8d463e2ca1db325c31f9195886$exports,"Scene",(function(){return $7d34be8d463e2ca1db325c31f9195886$export$Scene}));const $7d34be8d463e2ca1db325c31f9195886$export$Group=$77d770ba83edbc2cca71a014daa36405$export$default;$parcel$export($7d34be8d463e2ca1db325c31f9195886$exports,"Group",(function(){return $7d34be8d463e2ca1db325c31f9195886$export$Group}));const $7d34be8d463e2ca1db325c31f9195886$export$Viewport=$4e6346ac72a3c20ad744dec27a5b7276$export$default;$parcel$export($7d34be8d463e2ca1db325c31f9195886$exports,"Viewport",(function(){return $7d34be8d463e2ca1db325c31f9195886$export$Viewport}));const $7d34be8d463e2ca1db325c31f9195886$export$KeyboardHandler=$71117f1fc9d53e1ea4a89817a28be176$export$default;$parcel$export($7d34be8d463e2ca1db325c31f9195886$exports,"KeyboardHandler",(function(){return $7d34be8d463e2ca1db325c31f9195886$export$KeyboardHandler}));const $7d34be8d463e2ca1db325c31f9195886$export$PointerHandler=$8f9d1b6b2323141226fbdb195315e173$export$default;$parcel$export($7d34be8d463e2ca1db325c31f9195886$exports,"PointerHandler",(function(){return $7d34be8d463e2ca1db325c31f9195886$export$PointerHandler}));const $7d34be8d463e2ca1db325c31f9195886$export$ScreenControls=$eb8cbe83e7ec6771b1a5726fc638ed47$export$default;$parcel$export($7d34be8d463e2ca1db325c31f9195886$exports,"ScreenControls",(function(){return $7d34be8d463e2ca1db325c31f9195886$export$ScreenControls}));const $7d34be8d463e2ca1db325c31f9195886$export$Button=$37f8ba27389b2d964d00693323674a52$export$default;$parcel$export($7d34be8d463e2ca1db325c31f9195886$exports,"Button",(function(){return $7d34be8d463e2ca1db325c31f9195886$export$Button}));var _default=froxel=$7d34be8d463e2ca1db325c31f9195886$exports})();
//# sourceMappingURL=froxel.js.map
