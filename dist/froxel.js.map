{"mappings":"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AC,CAAC,CAAC,CAAC;QACnE,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,GAAC,0BAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,GAAC,0BAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,GAAC,0BAAI,CAAC,CAAC,CAAC,CAAC;QACnE,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,GAAC,0BAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,GAAC,0BAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,GAAC,0BAAI,CAAC,CAAC,CAAC,CAAC;QACnE,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,GAAC,0BAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,GAAC,0BAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,GAAC,0BAAI,CAAC,CAAC,CAAC,CAAC;QACnE,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,GAAC,0BAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,GAAC,0BAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,GAAC,0BAAI,CAAC,CAAC,CAAC,CAAC;QACnE,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,GAAC,0BAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,GAAC,0BAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,GAAC,0BAAI,CAAC,CAAC,CAAC,CAAC;QACnE,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,GAAC,0BAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,GAAC,0BAAI,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,CAAC,GAAC,0BAAI,CAAC,CAAC,CAAC,CAAC;QACnE,IAAI,CAAC,IA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","sources":["node_modules/.pnpm/rinn@2.0.42/node_modules/rinn/dist/rinn.js","node_modules/.pnpm/rinn@2.0.42/node_modules/rinn/dist/src/model-constraints.js","node_modules/.pnpm/rinn@2.0.42/node_modules/rinn/dist/src/alpha.js","node_modules/.pnpm/rinn@2.0.42/node_modules/rinn/dist/src/model-regex.js","node_modules/.pnpm/rinn@2.0.42/node_modules/rinn/dist/src/class.js","node_modules/.pnpm/rinn@2.0.42/node_modules/rinn/dist/src/event.js","node_modules/.pnpm/rinn@2.0.42/node_modules/rinn/dist/src/event-dispatcher.js","node_modules/.pnpm/rinn@2.0.42/node_modules/rinn/dist/src/model.js","node_modules/.pnpm/rinn@2.0.42/node_modules/rinn/dist/src/model-list.js","node_modules/.pnpm/rinn@2.0.42/node_modules/rinn/dist/src/schema.js","node_modules/.pnpm/rinn@2.0.42/node_modules/rinn/dist/src/flattenable.js","node_modules/.pnpm/rinn@2.0.42/node_modules/rinn/dist/src/collection.js","node_modules/.pnpm/rinn@2.0.42/node_modules/rinn/dist/src/template.js","node_modules/.pnpm/rinn@2.0.42/node_modules/rinn/dist/src/main.js","src/main.js","src/system/globals.js","src/system/random.js","src/system/log.js","src/system/system.js","src/system/keycode.js","src/utils/list.js","src/utils/linkable.js","src/utils/recycler.js","src/system/timer.js","src/system/canvas.js","src/math/matrix.js","src/math/vec2.js","src/system/shader-program.js","src/system/shader.js","src/system/glx.js","src/system/glsl.js","src/system/perf.js","src/system/framebuffer.js","src/resources/wrappers.js","src/resources/drawable.js","src/flow/drawable.js","src/resources/custom.js","src/resources/spritesheet.js","src/resources/spritesheet-animation.js","src/resources/spritefont.js","src/resources/sound.js","src/resources/resources.js","src/resources/sound-array.js","src/utils/priority-queue.js","src/utils/handler.js","src/utils/callback.js","src/math/rect.js","src/math/tfunction.js","src/math/bounds2.js","src/math/point2.js","src/anim/easing.js","src/anim/anim.js","src/fxl/system.js","src/flow/boot.js","src/anim/block.js","src/anim/command.js","src/anim/parallel.js","src/anim/serial.js","src/anim/repeat.js","src/anim/set.js","src/anim/restart.js","src/anim/wait.js","src/anim/range.js","src/anim/rand.js","src/anim/randt.js","src/flow/grid-element.js","src/flow/grid.js","src/flow/scene.js","src/flow/container.js","src/flow/viewport.js","src/flow/group.js","src/flow/element.js","src/flow/updater.js","src/flow/simple-container.js","src/flow/grid-container.js","src/flow/mask.js","src/flow/label.js","src/flow/keyboard-handler.js","src/flow/pointer-handler.js","src/flow/screen-controls.js","src/flow/button.js","src/flow/stick.js","src/fxl/fxl.js","src/fxl/world.js","src/fxl/r.js","src/fxl/resources.js","src/fxl/input.js","src/fxl/gamepad.js","src/fxl/collider.js"],"sourcesContent":[null,"/*\n**\trinn/model-constraints.js\n**\n**\tCopyright (c) 2013-2022, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport Rinn from './alpha.js';\nimport Regex from './model-regex.js';\n\n/**\n**\tMap of model constraint handlers. Each function should accept parameters (in order): the model object (model), the constraint value (ctval),\n**\tthe property name (name), the property value (value) and return the corrected value once verified or throw an exception if errors occur.\n*/\n\nexport default\n{\n\t/**\n\t**\tUtility function (not a handler) to get the real value given a reference string. If the value is not a string, the value itself will\n\t**\tbe returned, if it is a string starting with '#' the model property will be returned, if starts with '@' the object property will be\n\t**\treturned, otherwise the contents of the string will eval'd and returned.\n\t*/\n\t_getref: function (value, obj)\n\t{\n\t\tif (typeof(value) == \"string\")\n\t\t{\n\t\t\tif (value.substr(0, 1) == \"#\")\t\t\tvalue = obj.get(value.substr(1));\n\t\t\telse if (value.substr(0, 1) == \"@\")\t\tvalue = obj[value.substr(1)];\n\n\t\t\tif (typeof(value) == \"string\")\n\t\t\t\treturn eval(value);\n\n\t\t\treturn value;\n\t\t}\n\t\telse\n\t\t\treturn value;\n\t},\n\n\n\t/**\n\t**\tVerifies that the new value is of the valid type before storing it on the property. When possible if the\n\t**\tinput is of compatible type it will be converted to the target type.\n\t*/\n\ttype: function (model, ctval, name, value)\n\t{\n\t\tswitch (ctval)\n\t\t{\n\t\t\tcase \"int\":\n\t\t\t\tvalue = parseInt(value);\n\t\t\t\tif (isNaN(value)) throw new Error (ctval);\n\t\t\t\tbreak;\n\n\t\t\tcase \"float\":\n\t\t\t\tvalue = parseFloat(value);\n\t\t\t\tif (isNaN(value)) throw new Error (ctval);\n\t\t\t\tbreak;\n\n\t\t\tcase \"string\":\n\t\t\t\tvalue = (value === null || value === undefined) ? \"\" : value.toString();\n\t\t\t\tbreak;\n\n\t\t\tcase \"bit\":\n\t\t\t\tif (value === true || value === false) {\n\t\t\t\t\tvalue = value ? 1 : 0;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tvalue = parseInt(value);\n\t\t\t\tif (isNaN(value)) throw new Error (ctval);\n\n\t\t\t\tvalue = value ? 1 : 0;\n\t\t\t\tbreak;\n\n\t\t\tcase \"array\":\n\t\t\t\tif (Rinn.typeOf(value) == \"array\")\n\t\t\t\t\tbreak;\n\n\t\t\t\tif (value === null || value === undefined)\n\t\t\t\t{\n\t\t\t\t\tvalue = [];\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tthrow new Error (ctval);\n\t\t\t\tbreak;\n\n\t\t\tcase \"bool\":\n\t\t\t\tif (value === \"true\" || value === true) {\n\t\t\t\t\tvalue = true;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (value === \"false\" || value === false) {\n\t\t\t\t\tvalue = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tthrow new Error (ctval);\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn value;\n\t},\n\n\n\t/**\n\t**\tVerifies that the field is of the specified model type.\n\t*/\n\tmodel: function (model, ctval, name, value)\n\t{\n\t\tvar mclass = this._getref(ctval, model);\n\t\tif (!mclass) throw new Error (ctval);\n\n\t\tif (!value)\n\t\t\treturn new mclass();\n\n\t\treturn mclass.ensure (value);\n\t},\n\n\n\t/**\n\t**\tVerifies that the field is of the specified class.\n\t*/\n\tcls: function (model, ctval, name, value)\n\t{\n\t\tvar mclass = this._getref(ctval, model);\n\t\tif (!value) return new mclass();\n\n\t\treturn Rinn.ensureTypeOf(mclass, value);\n\t},\n\n\n\t/**\n\t**\tVerifies that the array contents are of the specified class. Returns error if the class does not exist\n\t**\tor if the field is not an array. Therefore a type:array constraint should be used before this one.\n\t*/\n\tarrayof: function (model, ctval, name, value)\n\t{\n\t\tvar mclass = this._getref(ctval, model);\n\t\tif (!value) value = [];\n\n\t\tif (!mclass || Rinn.typeOf(value) != \"array\")\n\t\t\tthrow new Error (ctval);\n\n\t\tfor (var i = 0; i < value.length; i++)\n\t\t\tvalue[i] = Rinn.ensureTypeOf(mclass, value[i]);\n\t\t\n\t\treturn value;\n\t},\n\n\n\t/**\n\t**\tVerifies that the array contents are not null. Returns error if the field is not an array, therefore a\n\t**\ttype:array constraint should be used before this one.\n\t*/\n\tarraynull: function (model, ctval, name, value)\n\t{\n\t\tvar remove = false;\n\n\t\tif (Rinn.typeOf(ctval) == \"object\")\n\t\t{\n\t\t\tif (ctval.remove) remove = ctval.remove;\n\t\t\tctval = ctval.value;\n\t\t}\n\n\t\tif (ctval) return value;\n\n\t\tif (Rinn.typeOf(value) != \"array\")\n\t\t\tthrow new Error (ctval);\n\n\t\tfor (var i = 0; i < value.length; i++)\n\t\t{\n\t\t\tif (value[i] == null)\n\t\t\t{\n\t\t\t\tif (remove)\n\t\t\t\t\tvalue.splice (i--, 1);\n\t\t\t\telse\n\t\t\t\t\tthrow new Error (ctval);\n\t\t\t}\n\t\t}\n\n\t\treturn value;\n\t},\n\n\n\t/**\n\t**\tVerifies that the array contents are all compliant. Returns error if the field is not an array, therefore\n\t**\ta type:array constraint should be used before this one.\n\t*/\n\tarraycompliant: function (model, ctval, name, value)\n\t{\n\t\tvar remove = false;\n\n\t\tif (Rinn.typeOf(ctval) == \"object\")\n\t\t{\n\t\t\tif (ctval.remove) remove = ctval.remove;\n\t\t\tctval = ctval.value;\n\t\t}\n\n\t\tif (!ctval) return value;\n\n\t\tif (Rinn.typeOf(value) != \"array\")\n\t\t\tthrow new Error (ctval);\n\n\t\tfor (var i = 0; i < value.length; i++)\n\t\t{\n\t\t\tif (value[i] == null)\n\t\t\t\tcontinue;\n\n\t\t\tif (!value[i].isCompliant())\n\t\t\t{\n\t\t\t\tif (remove)\n\t\t\t\t\tvalue.splice (i--, 1);\n\t\t\t\telse\n\t\t\t\t\tthrow new Error (ctval);\n\t\t\t}\n\t\t}\n\n\t\treturn value;\n\t},\n\n\n\t/**\n\t**\tVerifies the presense of the field.\n\t*/\n\trequired: function (model, ctval, name, value)\n\t{\n\t\tif (value === null || value === undefined)\n\t\t\tthrow new Error (ctval ? \"\" : \"null\");\n\n\t\tswitch (Rinn.typeOf(value))\n\t\t{\n\t\t\tcase \"array\":\n\t\t\t\tif (value.length == 0) throw new Error (ctval ? \"\" : \"null\");\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tif (value.toString().length == 0) throw new Error (ctval ? \"\" : \"null\");\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn value;\n\t},\n\n\n\t/**\n\t**\tVerifies the minimum length of the field.\n\t*/\n\tminlen: function (model, ctval, name, value)\n\t{\n\t\tif (value.toString().length < ctval)\n\t\t\tthrow new Error (ctval);\n\n\t\treturn value;\n\t},\n\n\n\t/**\n\t**\tVerifies the maximum length of the field.\n\t*/\n\tmaxlen: function (model, ctval, name, value)\n\t{\n\t\tif (value.toString().length > ctval)\n\t\t\tthrow new Error (ctval);\n\n\t\treturn value;\n\t},\n\n\n\t/**\n\t**\tVerifies the minimum value of the field.\n\t*/\n\tminval: function (model, ctval, name, value)\n\t{\n\t\tif (parseFloat(value) < ctval)\n\t\t\tthrow new Error (ctval);\n\n\t\treturn value;\n\t},\n\n\n\t/**\n\t**\tVerifies the maximum value of the field.\n\t*/\n\tmaxval: function (model, ctval, name, value)\n\t{\n\t\tif (parseFloat(value) > ctval)\n\t\t\tthrow new Error (ctval);\n\n\t\treturn value;\n\t},\n\n\n\t/**\n\t**\tVerifies the minimum number of items in the array.\n\t*/\n\tmincount: function (model, ctval, name, value)\n\t{\n\t\tif (Rinn.typeOf(value) != \"array\" || value.length < ctval)\n\t\t\tthrow new Error (ctval);\n\n\t\treturn value;\n\t},\n\n\n\t/**\n\t**\tVerifies the maximum number of items in the array.\n\t*/\n\tmaxcount: function (model, ctval, name, value)\n\t{\n\t\tif (Rinn.typeOf(value) != \"array\" || value.length > ctval)\n\t\t\tthrow new Error (ctval);\n\n\t\treturn value;\n\t},\n\n\n\t/**\n\t**\tVerifies the format of the field using a regular expression. The constraint value should be the name of\n\t**\tone of the Model.Regex regular expressions.\n\t*/\n\tpattern: function (model, ctval, name, value)\n\t{\n\t\tif (!Regex[ctval].test (value.toString()))\n\t\t\tthrow new Error (ctval);\n\n\t\treturn value;\n\t},\n\n\n\t/**\n\t**\tVerifies that the field is inside the specified set of options. The set can be an array or a string with\n\t**\tthe options separated by vertical bar (|). The comparison is case-sensitive.\n\t*/\n\tinset: function (model, ctval, name, value)\n\t{\n\t\tif (Rinn.typeOf(ctval) != \"array\")\n\t\t{\n\t\t\tif (!new RegExp(\"^(\"+ctval.toString()+\")$\").test (value.toString()))\n\t\t\t\tthrow new Error (ctval);\n\n\t\t\treturn value;\n\t\t}\n\n\t\tif (ctval.indexOf(value.toString()) == -1)\n\t\t\tthrow new Error (ctval.join(\"|\"));\n\n\t\treturn value;\n\t},\n\n\n\t/**\n\t**\tSets the field to upper case.\n\t*/\n\tupper: function (model, ctval, name, value)\n\t{\n\t\treturn ctval ? value.toString().toUpperCase() : value;\n\t},\n\n\n\t/**\n\t**\tSets the field to lower case.\n\t*/\n\tlower: function (model, ctval, name, value)\n\t{\n\t\treturn ctval ? value.toString().toLowerCase() : value;\n\t}\n};\n","/*\r\n**\trinn/alpha.js\r\n**\r\n**\tCopyright (c) 2013-2022, RedStar Technologies, All rights reserved.\r\n**\thttps://rsthn.com/\r\n**\r\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\r\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \r\n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\r\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \r\n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \r\n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \r\n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\r\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n*/\r\n\r\nlet Rinn = { };\r\nexport default Rinn;\r\n\r\n/*\r\n**\tInvokes the specified function 'fn' 10ms later.\r\n**\r\n**\t>> void invokeLater (function fn);\r\n*/\r\nRinn.invokeLater = function (fn)\r\n{\r\n\tif (fn) setTimeout (function() { fn(); }, 10);\r\n};\r\n\r\n\r\n/*\r\n**\tWaits for the specified amount of milliseconds. Returns a Promise.\r\n**\r\n**\t>> Promise wait (int millis);\r\n*/\r\nRinn.wait = function (millis)\r\n{\r\n\treturn new Promise(function (resolve, reject) {\r\n\t\tsetTimeout (resolve, millis);\r\n\t});\r\n};\r\n\r\n\r\n/*\r\n**\tReturns the type of an element 'o', properly detects arrays and null types. The return string is always in lowercase.\r\n**\r\n**\t>> string typeOf (any o);\r\n*/\r\nRinn.typeOf = function (o)\r\n{\r\n\tif (o instanceof Array)\r\n\t\treturn \"array\";\r\n\r\n\tif (o === null)\r\n\t\treturn \"null\";\r\n\r\n\treturn (typeof(o)).toString().toLowerCase();\r\n};\r\n\r\n\r\n/*\r\n**\tReturns boolean indicating if the type of the element is an array or an object.\r\n**\r\n**\t>> bool isArrayOrObject (any o);\r\n*/\r\nRinn.isArrayOrObject = function (o)\r\n{\r\n\tswitch (Rinn.typeOf(o))\r\n\t{\r\n\t\tcase \"array\": case \"object\":\r\n\t\t\treturn true;\r\n\t}\r\n\r\n\treturn false;\r\n};\r\n\r\n\r\n/*\r\n**\tCreates a clone (deep copy) of the specified element. The element can be an array, an object or a primitive type.\r\n**\r\n**\t>> T clone (T elem);\r\n*/\r\nRinn.clone = function (elem)\r\n{\r\n\tlet o = Rinn.typeOf(elem);\r\n\r\n\tif (o === 'array')\r\n\t{\r\n\t\to = [ ];\r\n\r\n\t\tfor (let i = 0; i < elem.length; i++)\r\n\t\t\to.push (Rinn.clone(elem[i]));\r\n\t}\r\n\telse if (o === 'object')\r\n\t{\r\n\t\tif (('clone' in elem) && typeof(elem.clone) === 'function')\r\n\t\t\treturn elem.clone();\r\n\r\n\t\to = { };\r\n\r\n\t\tfor (let i in elem)\r\n\t\t\to[i] = Rinn.clone(elem[i]);\r\n\t}\r\n\telse\r\n\t{\r\n\t\to = elem;\r\n\t}\r\n\r\n\treturn o;\r\n};\r\n\r\n\r\n/*\r\n**\tMerges all given elements into the first one, object fields are cloned.\r\n**\r\n**\t>> T merge (T... elems)\r\n*/\r\nRinn.merge = function (output, ...objs)\r\n{\r\n\tif (Rinn.typeOf(output) == \"array\")\r\n\t{\r\n\t\tfor (let i = 0; i < objs.length; i++)\r\n\t\t{\r\n\t\t\tlet arr = objs[i];\r\n\r\n\t\t\tif (Rinn.typeOf(arr) != \"array\")\r\n\t\t\t{\r\n\t\t\t\toutput.push(arr);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tfor (let j = 0; j < arr.length; j++)\r\n\t\t\t\t{\r\n\t\t\t\t\toutput.push(Rinn.clone(arr[j]));\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\telse if (Rinn.typeOf(output) == \"object\")\r\n\t{\r\n\t\tfor (let i = 0; i < objs.length; i++)\r\n\t\t{\r\n\t\t\tlet obj = objs[i];\r\n\t\t\tif (Rinn.typeOf(obj) != \"object\") continue;\r\n\r\n\t\t\tfor (let field in obj)\r\n\t\t\t{\r\n\t\t\t\tif (Rinn.isArrayOrObject(obj[field]))\r\n\t\t\t\t{\r\n\t\t\t\t\tif (field in output)\r\n\t\t\t\t\t\tRinn.merge(output[field], obj[field]);\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\toutput[field] = Rinn.clone(obj[field]);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t\toutput[field] = obj[field];\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn output;\r\n};\r\n\r\n\r\n/*\r\n**\tAssigns all fields from the specified objects into the first one.\r\n**\r\n**\t>> object override (object output, object... objs)\r\n*/\r\nRinn.override = function (output, ...objs)\r\n{\r\n\tfor (let i = 0; i < objs.length; i++)\r\n\t{\r\n\t\tfor (let j in objs[i])\r\n\t\t{\r\n\t\t\toutput[j] = objs[i][j];\r\n\t\t}\r\n\t}\r\n\r\n\treturn output;\r\n};\r\n\r\n\r\n/*\r\n**\tCompares two objects and returns `true` if all properties in \"partial\" find a match in \"full\".\r\n*/\r\nRinn.partialCompare = function (full, partial)\r\n{\r\n\tif (full == null || partial == null) return false;\r\n\r\n\tif (full === partial)\r\n\t\treturn true;\r\n\r\n\tfor (var i in partial)\r\n\t{\r\n\t\tif (full[i] != partial[i])\r\n\t\t\treturn false;\r\n\t}\r\n\r\n\treturn true;\r\n};\r\n\r\n\r\n/*\r\n**\tPerforms a partial search for an object (o) in the specified array and returns its index or `false` if the\r\n**\tobject was not found. When `getObject` is set to `true` the object will be returned instead of an index, or\r\n**\t`null` if not found.\r\n*/\r\nRinn.arrayFind = function (arr, o, getObject)\r\n{\r\n\tfor (var i = 0; arr && i < arr.length; i++)\r\n\t{\r\n\t\tif (this.partialCompare (arr[i], o))\r\n\t\t\treturn getObject ? arr[i] : i;\r\n\t}\r\n\r\n\treturn getObject ? null : false;\r\n};\r\n\r\n\r\n/*\r\n**\tVerifies if the specified object is of class `m`, returns boolean.\r\n**\r\n**\t>> bool isTypeOf (object obj, class _class);\r\n*/\r\nRinn.isInstanceOf = function (obj, _class)\r\n{\r\n\tif (!obj || !_class || typeof(obj) !== 'object')\r\n\t\treturn false;\r\n\r\n\tif (obj instanceof _class)\r\n\t\treturn true;\r\n\r\n\tif ('isInstanceOf' in obj)\r\n\t\treturn obj.isInstanceOf(_class);\r\n\r\n\treturn false;\r\n};\r\n\r\n\r\n/*\r\n**\tTraverses the given object attempting to find the index/key that does an identical match with the specified value,\r\n**\tif not found returns -1, otherwise the index/key where the value was found.\r\n**\r\n**\t>> int indexOf (array container, T value)\r\n**\t>> string indexOf (object container, T value)\r\n*/\r\nRinn.indexOf = function (container, value, forceArray=false)\r\n{\r\n\tif (forceArray)\r\n\t{\r\n\t\tfor (let i = 0; i < container.length; i++)\r\n\t\t{\r\n\t\t\tif (container[i] === value)\r\n\t\t\t\treturn i;\r\n\t\t}\r\n\t\r\n\t\treturn -1;\r\n\t}\r\n\r\n\tfor (let i in container)\r\n\t{\r\n\t\tif (container[i] === value)\r\n\t\t\treturn i;\r\n\t}\r\n\r\n\treturn -1;\r\n};\r\n\r\n\r\n/*\r\n**\tEscapes a string using HTML entities.\r\n**\r\n**\t>> string escape (string str);\r\n*/\r\nRinn.escape = function (str)\r\n{\r\n\treturn (str+\"\").replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\");\r\n};\r\n\r\n\r\n/*\r\n**\tVerifies if the specified object is of class `m`, if not it will create a new instance of `m` passing `o` as parameter.\r\n**\r\n**\t>> object ensureTypeOf (class m, object o);\r\n*/\r\nRinn.ensureTypeOf = function (m, o)\r\n{\r\n\tif (!o || !m || o instanceof m)\r\n\t\treturn o;\r\n\r\n\tif (o.isInstanceOf && m.prototype.className)\r\n\t{\r\n\t\tif (o.isInstanceOf (m.prototype.className))\r\n\t\t\treturn o;\r\n\t}\r\n\r\n\treturn new m (o);\r\n};\r\n\r\n\r\n/*\r\n**\tSerializes an object and returns its JSON string representation.\r\n**\r\n**\t>> string serialize (object o);\r\n*/\r\nRinn.serialize = function (o)\r\n{\r\n\treturn JSON.stringify(o);\r\n};\r\n\r\n\r\n/*\r\n**\tDeserializes a string in JSON format and returns the result.\r\n**\r\n**\t>> any deserialize (string s);\r\n*/\r\nRinn.deserialize = function (s)\r\n{\r\n\treturn JSON.parse(s);\r\n};\r\n\r\n\r\n/*\r\n**\tChains a new function to an existing one on some object, such that invoking the function on the object will cause\r\n**\tboth functions to run (order would be oldFunction then newFunction).\r\n**\r\n**\tIf the `conditional` flag is set to `true`, the second function will be run only if the first one returns non-false.\r\n**\tReturns an object with a single method 'unhook' which will revert the changes to leave only the original function.\r\n**\r\n**\t>> object{function unhook} hook (Object object, String functionName, function newFunction, bool conditional=false);\r\n*/\r\nRinn.hookAppend = function (object, functionName, newFunction, conditional=true)\r\n{\r\n\tconst oldFunction = object[functionName];\r\n\r\n\tif (conditional)\r\n\t{\r\n\t\tobject[functionName] = function (...args) {\r\n\t\t\tif (oldFunction.apply (this, args) !== false)\r\n\t\t\t\treturn newFunction.apply (this, args);\r\n\t\t};\r\n\t}\r\n\telse\r\n\t{\r\n\t\tobject[functionName] = function (...args) {\r\n\t\t\toldFunction.apply (this, args);\r\n\t\t\treturn newFunction.apply (this, args);\r\n\t\t};\r\n\t}\r\n\r\n\treturn { \r\n\t\tunhook: function() {\r\n\t\t\tobject[functionName] = oldFunction;\r\n\t\t}\r\n\t};\r\n};\r\n\r\n\r\n/*\r\n**\tChains a new function to an existing one on some object, such that invoking the function on the object will cause\r\n**\tboth functions to run (order would be oldFunction then newFunction).\r\n**\r\n**\tIf the `conditional` flag is set to `true`, the second function will be run only if the first one returns non-false.\r\n**\tReturns an object with a single method 'unhook' which will revert the changes to leave only the original function.\r\n**\r\n**\t>> object{function unhook} hook (Object object, String functionName, function newFunction, bool conditional=false);\r\n*/\r\nRinn.hookPrepend = function (object, functionName, newFunction, conditional=true)\r\n{\r\n\tconst oldFunction = object[functionName];\r\n\r\n\tif (conditional)\r\n\t{\r\n\t\tobject[functionName] = function (...args) {\r\n\t\t\tif (newFunction.apply (this, args) !== false)\r\n\t\t\t\treturn oldFunction.apply (this, args);\r\n\t\t};\r\n\t}\r\n\telse\r\n\t{\r\n\t\tobject[functionName] = function (...args) {\r\n\t\t\tnewFunction.apply (this, args);\r\n\t\t\treturn oldFunction.apply (this, args);\r\n\t\t};\r\n\t}\r\n\r\n\treturn { \r\n\t\tunhook: function() {\r\n\t\t\tobject[functionName] = oldFunction;\r\n\t\t}\r\n\t};\r\n};\r\n","/*\n**\trinn/model-regex.js\n**\n**\tCopyright (c) 2013-2022, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\n/**\n**\tCommon regular expressions for pattern validation.\n*/\n\nexport default\n{\n\temail: /^[_a-z0-9-]+(\\.[_a-z0-9-]+)*@[a-z0-9-]+(\\.[a-z0-9-]+)+$/i,\n\turl: /^[\\w-]+:\\/\\/[\\w-]+(\\.\\w+)+.*$/,\n\turlNoProt: /^[\\w-]+(\\.\\w+)+.*$/,\n\tname: /^[-A-Za-z0-9_.]+$/,\n\tuname: /^['\\pL\\pN ]+$/,\n\ttext: /^[^&<>{}]*$/,\n\tutext: /^([\\r\\n\\pL\\pN\\pS &!@#$%*\\[\\]()_+=;',.\\/?:\"~-]+)$/\n};\n","/*\r\n**\trinn/class.js\r\n**\r\n**\tCopyright (c) 2013-2022, RedStar Technologies, All rights reserved.\r\n**\thttps://rsthn.com/\r\n**\r\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\r\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \r\n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\r\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \r\n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \r\n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \r\n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\r\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n*/\r\n\r\nimport Rinn from './alpha.js';\r\n\r\n/**\r\n * \tBase class used to create other classes with complex prototype based multiple inheritance while at the\r\n * \tsame time avoiding the prototype chain for faster access. Supports calling parent class methods.\r\n */\r\n\r\n//!class Class\r\nconst Class = function ()\r\n{\r\n};\r\n\r\n/**\r\n * \tReference to the class itself.\r\n */\r\nClass._class = Class;\r\n\r\n/**\r\n * \tContains the methods of each of the super classes.\r\n */\r\nClass._super = { };\r\n\r\n/**\r\n * \tName of the class, if none specified the class will be considered \"final\" and will not be inheritable.\r\n * \t@public @type {string}\r\n * \t!string className;\r\n */\r\nClass.prototype.className = 'Class';\r\n\r\n/**\r\n * \tClass constructor, should initialize the instance. Invoked when the `new` keyword is used with the class.\r\n * \t!__ctor() : Class;\r\n */\r\nClass.prototype.__ctor = function ()\r\n{\r\n};\r\n\r\n/**\r\n * \tClass destructor, should clear the instance and release any used resources, invoked when the global `dispose` function\r\n * \tis called with an instance as parameter.\r\n * \t!__dtor() : void;\r\n */\r\nClass.prototype.__dtor = function ()\r\n{\r\n};\r\n\r\n/**\r\n * \tReturns true if the object is an instance of the specified class, the parameter can be a class name (string), a constructor (function) or\r\n * \ta class instance (object), in any cases the appropriate checks will be done.\r\n *\r\n * \t@param {string|function|object} className\r\n * \t@returns {boolean}\r\n *\r\n * \t!isInstanceOf (className: string|function|object) : boolean;\r\n */\r\nClass.prototype.isInstanceOf = function (className)\r\n{\r\n\tif (className === null)\r\n\t\treturn false;\r\n\r\n\tif (typeof(className) === 'function')\r\n\t{\r\n\t\tclassName = className.prototype.className;\r\n\t}\r\n\telse if (typeof(className) !== 'string')\r\n\t{\r\n\t\tclassName = className.__proto__.className;\r\n\t}\r\n\r\n\treturn this.className === className ? true : this._super.hasOwnProperty(className);\r\n};\r\n\r\n/**\r\n * \tReturns true if the given object is an instance of the specified class, the parameter can be a class name (string), a constructor (function)\r\n * \tor a class instance (object), in any cases the appropriate checks will be done.\r\n *\r\n * \t@param {Object} object\r\n * \t@param {string|function|object} className\r\n *\r\n *\t!instanceOf (object: object, className: string|function|object) : boolean;\r\n */\r\nClass.instanceOf = function (object, className)\r\n{\r\n\tif (object === null || className === null)\r\n\t\treturn false;\r\n\r\n\treturn object.isInstanceOf(className);\r\n};\r\n\r\n/**\r\n * \tInternal method to ensure the _super field of an instance has all functions properly bound to the instance.\r\n */\r\nClass.prototype._initSuperRefs = function ()\r\n{\r\n\tlet _super = this.constructor._super;\r\n\tlet _newSuper = { };\r\n\r\n\tconst self = this;\r\n\r\n\tfor (let i in _super)\r\n\t{\r\n\t\tlet o = { };\r\n\r\n\t\tlet _prot = _super[i].prototype;\r\n\t\tfor (let j in _prot)\r\n\t\t{\r\n\t\t\tif (Rinn.typeOf(_prot[j]) !== 'function')\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\to[j] = (function(fn)\r\n\t\t\t{\r\n\t\t\t\treturn function (a00, a01, a02, a03, a04, a05, a06, a07, a08, a09, a0A) {\r\n\t\t\t\t\treturn fn.call(self, a00, a01, a02, a03, a04, a05, a06, a07, a08, a09, a0A);\r\n\t\t\t\t};\r\n\t\t\t})\r\n\t\t\t(_prot[j]);\r\n\t\t}\r\n\r\n\t\t_newSuper[i] = o;\r\n\t}\r\n\r\n\tthis._super = _newSuper;\r\n};\r\n\r\n\r\n/*\r\n**\tExtends the class with the specified prototype. The prototype can be a function (class constructor) or an object. Note that the\r\n**\tclass will be modified (and returned) instead of creating a new class. Must be called at the class-level (**not** instance level).\r\n**\tWhen a class is provided all fields starting with uppercase at the class-level will not be inherited, this is used to create constants\r\n**\ton classes without having them to be copied to derived classes.\r\n**\r\n**\t>> class inherit (constructor classConstructor);\r\n**\t>> class inherit (object obj);\r\n*/\r\nClass.inherit = function (proto)\r\n{\r\n\tlet self = this._class;\r\n\r\n\tlet _super = self._super;\r\n\tlet _class = self._class;\r\n\r\n\tif (Rinn.typeOf(proto) === 'function')\r\n\t{\r\n\t\t// Move constants (uppercased properties) to the class-level instead of prototype-level.\r\n\t\tfor (let i in proto._class)\r\n\t\t\tif (!/^[A-Z]/.test(i)) self[i] = proto._class[i];\r\n\r\n\t\t// Combine methods and properties.\r\n\t\tRinn.override (self.prototype, proto._class.prototype);\r\n\r\n\t\t// Combine super references.\r\n\t\tRinn.override (_super, proto._class._super);\r\n\r\n\t\t// Add new super reference if className specified in inherited prototypes.\r\n\t\tif (proto._class.prototype.className)\r\n\t\t\t_super[proto._class.prototype.className] = proto._class;\r\n\t}\r\n\telse\r\n\t{\r\n\t\tRinn.override (self.prototype, proto);\r\n\t}\r\n\r\n\tself._super = _super;\r\n\tself._class = _class;\r\n\r\n\treturn self;\r\n};\r\n\r\n\r\n/*\r\n**\tInternal method used to extend a class with one or more prototypes.\r\n**\r\n**\t>> class _extend (object base, object[] protos);\r\n*/\r\nClass.prototype._extend = function (base, protos)\r\n{\r\n\tif (protos.length === 0)\r\n\t\treturn base;\r\n\r\n\t//VIOLET OPTIMIZE\r\n\tconst _class = function (...args)\r\n\t{\r\n\t\tthis._initSuperRefs();\r\n\t\tthis.__ctor.apply(this, args);\r\n\t};\r\n\r\n\t_class._class = _class;\r\n\t_class._super = { };\r\n\r\n\tClass.inherit.call (_class, base);\r\n\tdelete _class.prototype.className;\r\n\r\n\tfor (let i = 0; i < protos.length; i++)\r\n\t\t_class.inherit (protos[i]);\r\n\r\n\tdelete _class._super.Class;\r\n\r\n\tif ('classInit' in _class.prototype)\r\n\t\t_class.prototype.classInit();\r\n\r\n\t_class.isInstance = function(value) {\r\n\t\treturn Rinn.isInstanceOf(value, _class);\r\n\t};\r\n\r\n\treturn _class;\r\n};\r\n\r\n\r\n/**\r\n * \tCreates a new class with the specified prototypes each of which can be a class constructor (function) or an object.\r\n */\r\nClass.extend = function (...protos)\r\n{\r\n\treturn this._class.prototype._extend (this, protos);\r\n};\r\n\r\n\r\n/*\r\n**\tCreates a new instance of a class resulting from extending the self class with the specified prototype.\r\n**\r\n**\t>> object create (object proto);\r\n*/\r\nClass.create = function (proto)\r\n{\r\n\treturn new (this.extend(proto)) ();\r\n};\r\n\r\nexport default Class;\r\n","/*\r\n**\trinn/event.js\r\n**\r\n**\tCopyright (c) 2013-2022, RedStar Technologies, All rights reserved.\r\n**\thttps://rsthn.com/\r\n**\r\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\r\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \r\n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\r\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \r\n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \r\n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \r\n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\r\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n*/\r\n\r\nimport Rinn from './alpha.js';\r\nimport Class from './class.js';\r\n\r\n/**\r\n**\tHolds the information about a triggered event. It also provides a mechanism to allow asynchronous\r\n**\tevent propagation to ensure the event chain order.\r\n*/\r\n\r\nexport default Class.extend\r\n({\r\n\t/**\r\n\t**\tName of the class.\r\n\t*/\r\n\tclassName: \"Event\",\r\n\r\n\t/**\r\n\t**\tSource of the event.\r\n\t*/\r\n\tsource: null,\r\n\r\n\t/**\r\n\t**\tName of the event.\r\n\t*/\r\n\tname: null,\r\n\r\n\t/**\r\n\t**\tArguments of the event.\r\n\t*/\r\n\targs: null,\r\n\r\n\t/**\r\n\t**\tIndicates if the last event handler wants to use async mode.\r\n\t*/\r\n\t_async: false,\r\n\r\n\t/**\r\n\t**\tQueue of all handlers to invoke.\r\n\t*/\r\n\tlist: null,\r\n\r\n\t/**\r\n\t**\tNext event to be executed in the event chain.\r\n\t*/\r\n\tnext: null,\r\n\r\n\t/**\r\n\t**\tReturn values from event handlers.\r\n\t*/\r\n\tret: null,\r\n\r\n\t/**\r\n\t**\tOriginal root event.\r\n\t*/\r\n\toriginal: null,\r\n\r\n\t/**\r\n\t**\tIndex of the current event handler.\r\n\t*/\r\n\ti: -1,\r\n\r\n\t/**\r\n\t**\tContructs an event object with the specified parameters. Source is the event-dispatcher object, list is\r\n\t**\tan array with all the listeners to invoke. The eventName and eventArgs are the event information to be\r\n\t**\tpassed to each handler and if a callback is specified (cbHandler+cbContext) it will be executed once all\r\n\t**\tthe event handlers have been processed.\r\n\t**\r\n\t**\tEvent __ctor (source: EventDispatcher, list: Array, eventName: string, eventArgs: map, cbHandler: function, cbContext: object);\r\n\t*/\r\n\t__ctor: function (source, list, eventName, eventArgs, cbHandler, cbContext)\r\n\t{\r\n\t\tthis.source = source;\r\n\r\n\t\tthis.name = eventName;\r\n\t\tthis.args = eventArgs;\r\n\r\n\t\tthis.cbHandler = cbHandler;\r\n\t\tthis.cbContext = cbContext;\r\n\r\n\t\tthis.list = list;\r\n\t\tthis.reset();\r\n\t},\r\n\r\n\t/**\r\n\t**\tResets the event to its initial state. An event object can be reused by resetting it and then\r\n\t**\tinvoking the resume event.\r\n\t**\r\n\t**\tEvent reset ();\r\n\t*/\r\n\treset: function ()\r\n\t{\r\n\t\tthis.next = null;\r\n\t\tthis.ret = [];\r\n\r\n\t\tthis._async = false;\r\n\t\tthis.i = -1;\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t/**\r\n\t**\tChanges the source of the event.\r\n\t**\r\n\t**\tEvent setSource (object value);\r\n\t*/\r\n\tsetSource: function (value)\r\n\t{\r\n\t\tthis.source = value;\r\n\t\treturn this;\r\n\t},\r\n\r\n\t/**\r\n\t**\tSets the internal asynchronous flag. Should be called before a handler returns. If a handler\r\n\t**\tcalls this method it should also call resume() when async operations are finished.\r\n\t**\r\n\t**\tEvent wait ();\r\n\t*/\r\n\twait: function ()\r\n\t{\r\n\t\tthis._async = true;\r\n\t\treturn this;\r\n\t},\r\n\r\n\t/**\r\n\t**\tResumes event propagation. Should be called manually by event handlers that also call wait().\r\n\t**\r\n\t**\tEvent resume ();\r\n\t*/\r\n\tresume: function ()\r\n\t{\r\n\t\tthis._async = false;\r\n\r\n\t\twhile (!this._async)\r\n\t\t{\r\n\t\t\tif (++this.i >= this.list.length)\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tif (this.list[this.i].silent)\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\tif (Rinn.typeOf(this.list[this.i].handler) == \"string\")\r\n\t\t\t{\r\n\t\t\t\tif (this.list[this.i].context)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (!this.list[this.i].context[this.list[this.i].handler])\r\n\t\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\t\tif (this.list[this.i].context[this.list[this.i].handler] (this, this.args, this.list[this.i].data) === false)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\tif (global[this.list[this.i].handler].call (null, this, this.args, this.list[this.i].data) === false)\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t{\r\n\t\t\t\tif (this.list[this.i].handler.call (this.list[this.i].context, this, this.args, this.list[this.i].data) === false)\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (this._async)\r\n\t\t\treturn this;\r\n\r\n\t\tif (this.i >= this.list.length && this.next) this.next.resume();\r\n\r\n\t\tif (this.cbHandler)\r\n\t\t\tthis.cbHandler.call (this.cbContext);\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t/**\r\n\t**\tSets the \"original\" property of the event to indicate where the original event comes from.\r\n\t**\r\n\t**\tEvent from (event: Event);\r\n\t*/\r\n\tfrom: function (event)\r\n\t{\r\n\t\tthis.original = event;\r\n\t\treturn this;\r\n\t},\r\n\r\n\t/**\r\n\t**\tEnqueues the specified event to be executed upon the current event process is finished. The \"original\"\r\n\t**\tproperty of the chained event will be set to the current event.\r\n\t**\r\n\t**\tEvent enqueueEvent (event: Event);\r\n\t*/\r\n\tenqueue: function (event)\r\n\t{\r\n\t\tif (!event) return this;\r\n\r\n\t\tvar evt;\r\n\t\tfor (evt = this; evt.next != null; evt = evt.next);\r\n\r\n\t\tevt.next = event;\r\n\t\tevent.from (this);\r\n\r\n\t\treturn this;\r\n\t}\r\n});\r\n","/*\r\n**\trinn/event-dispatcher.js\r\n**\r\n**\tCopyright (c) 2013-2022, RedStar Technologies, All rights reserved.\r\n**\thttps://rsthn.com/\r\n**\r\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\r\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \r\n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\r\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \r\n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \r\n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \r\n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\r\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n*/\r\n\r\nimport Class from './class.js';\r\nimport Event from './event.js';\r\n\r\n/**\r\n**\tEvent dispatcher allows several event listeners to be attached, these will be invoked whenever the\r\n**\tevent that is being listened to is triggered.\r\n*/\r\n\r\nexport default Class.extend\r\n({\r\n\t/**\r\n\t**\tName of the class.\r\n\t*/\r\n\tclassName: \"EventDispatcher\",\r\n\r\n\t/**\r\n\t**\tListeners attached to this event dispatcher. Grouped by event name.\r\n\t*/\r\n\tlisteners: null,\r\n\r\n\t/**\r\n\t**\tNamespace for event dispatching. Defaults to null. Can be modified using setNamespace().\r\n\t*/\r\n\tnamespace: null,\r\n\r\n\t/**\r\n\t**\tInitializes the event dispatcher.\r\n\t**\r\n\t**\tEventDispatcher __ctor ();\r\n\t*/\r\n\t__ctor: function ()\r\n\t{\r\n\t\tthis.listeners = { };\r\n\t},\r\n\r\n\t/**\r\n\t**\tSets the event dispatching namespace. Used to force all events dispatched to have the specified namespace.\r\n\t**\r\n\t**\tEventDispatcher setNamespace (value: string);\r\n\t*/\r\n\tsetNamespace: function (value)\r\n\t{\r\n\t\tthis.namespace = value;\r\n\t\treturn this;\r\n\t},\r\n\r\n\t/**\r\n\t**\tAdds an event listener for a specified event to the event dispatcher. The event name can have an optional\r\n\t**\tnamespace indicator which is added to the beginning of the event name and separated using a colon (:). This\r\n\t**\tindicator can be used to later trigger or remove all handlers of an specific namespace.\r\n\t**\r\n\t**\tEventDispatcher addEventListener (eventName: string, handler: function, context: object, data: object);\r\n\t*/\r\n\taddEventListener: function (eventName, handler, context, data)\r\n\t{\r\n\t\teventName = eventName.split(\":\");\r\n\t\tvar name = eventName[eventName.length-1];\r\n\t\tvar ns = eventName.length > 1 ? eventName[0] : null;\r\n\r\n\t\tif (!this.listeners[name])\r\n\t\t\tthis.listeners[name] = [];\r\n\r\n\t\tthis.listeners[name].push ({ ns: ns, handler: handler, context: context, data: data, silent: 0 });\r\n\t\treturn this;\r\n\t},\r\n\r\n\t/**\r\n\t**\tRemoves an event listener from the event dispatcher. If only the name is provided all handlers with the\r\n\t**\tspecified name will be removed. If a context is provided without a handler then any handler matching the\r\n\t**\tcontext will be removed. Special event name \"*\" can be used to match all event names.\r\n\t**\r\n\t**\tEventDispatcher removeEventListener (eventName: string, handler: function, context: object);\r\n\t*/\r\n\tremoveEventListener: function (eventName, handler, context)\r\n\t{\r\n\t\teventName = eventName.split(\":\");\r\n\t\tvar name = eventName[eventName.length-1];\r\n\t\tvar ns = eventName.length > 1 ? eventName[0] : null;\r\n\r\n\t\tif (name == \"*\")\r\n\t\t{\r\n\t\t\tfor (var j in this.listeners)\r\n\t\t\t{\r\n\t\t\t\tvar list = this.listeners[j];\r\n\r\n\t\t\t\tfor (var i = 0; i < list.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tvar k = true;\r\n\r\n\t\t\t\t\tif (handler)\r\n\t\t\t\t\t\tk = k && list[i].handler === handler;\r\n\r\n\t\t\t\t\tif (context)\r\n\t\t\t\t\t\tk = k && list[i].context === context;\r\n\r\n\t\t\t\t\tif (ns)\r\n\t\t\t\t\t\tk = k && list[i].ns == ns;\r\n\r\n\t\t\t\t\tif (k) list.splice(i--, 1);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tif (!this.listeners[name])\r\n\t\t\t\treturn this;\r\n\r\n\t\t\tvar list = this.listeners[name];\r\n\r\n\t\t\tfor (var i = 0; i < list.length; i++)\r\n\t\t\t{\r\n\t\t\t\tvar k = true;\r\n\r\n\t\t\t\tif (handler)\r\n\t\t\t\t\tk = k && list[i].handler === handler;\r\n\r\n\t\t\t\tif (context)\r\n\t\t\t\t\tk = k && list[i].context === context;\r\n\r\n\t\t\t\tif (ns)\r\n\t\t\t\t\tk = k && list[i].ns == ns;\r\n\r\n\t\t\t\tif (k) list.splice(i--, 1);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t/**\r\n\t**\tPrepares an event with the specified parameters for its later usage. The event is started when\r\n\t**\tthe resume() method is called. If a callback is specified it will be executed once all event\r\n\t**\thandlers have been processed.\r\n\t**\r\n\t**\tEvent prepareEvent (eventName: string, eventArgs: map, cbHandler: function, cbContext: object);\r\n\t**\tEvent prepareEvent (eventName: string, eventArgs: map);\r\n\t*/\r\n\tprepareEvent: function (eventName, eventArgs, cbHandler, cbContext)\r\n\t{\r\n\t\tvar list = [];\r\n\r\n\t\teventName = eventName.split(\":\");\r\n\t\tvar name = eventName[eventName.length-1];\r\n\t\tvar ns = eventName.length > 1 ? eventName[0] : null;\r\n\r\n\t\tif (this.listeners[name])\r\n\t\t\tlist = list.concat (this.listeners[name]);\r\n\r\n\t\tif (this.listeners[\"*\"])\r\n\t\t\tlist = list.concat (this.listeners[\"*\"]);\r\n\r\n\t\tfor (var i = 0; i < list.length; i++)\r\n\t\t\tif (list[i].silent) list.splice (i--, 1);\r\n\r\n\t\tif (ns)\r\n\t\t{\r\n\t\t\tfor (var i = 0; i < list.length; i++)\r\n\t\t\t\tif (list[i].ns != ns) list.splice (i--, 1);\r\n\t\t}\r\n\r\n\t\treturn new Event (this, list, name, eventArgs, cbHandler, cbContext);\r\n\t},\r\n\r\n\t/**\r\n\t**\tSilences or unsilences all handlers attached to an event such that if the event fires the handler(s) will\r\n\t**\tnot be invoked. It is recommended to use a namespace to ensure other handlers will continue to be run.\r\n\t**\r\n\t**\tEventDispatcher silence (eventName: string);\r\n\t*/\r\n\tsilence: function (eventName, value)\r\n\t{\r\n\t\teventName = eventName.split(\":\");\r\n\r\n\t\tvar name = eventName[eventName.length-1];\r\n\t\tvar ns = eventName.length > 1 ? eventName[0] : null;\r\n\r\n\t\tvalue = value === false ? -1 : 1;\r\n\r\n\t\tif (name == \"*\")\r\n\t\t{\r\n\t\t\tfor (var j in this.listeners)\r\n\t\t\t{\r\n\t\t\t\tvar list = this.listeners[j];\r\n\r\n\t\t\t\tfor (var i = 0; i < list.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (ns && list[i].ns != ns)\r\n\t\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\t\tlist[i].silent += value;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tif (!this.listeners[name])\r\n\t\t\t\treturn this;\r\n\r\n\t\t\tvar list = this.listeners[name];\r\n\r\n\t\t\tfor (var i = 0; i < list.length; i++)\r\n\t\t\t{\r\n\t\t\t\tif (ns && list[i].ns != ns)\r\n\t\t\t\t\tcontinue;\r\n\r\n\t\t\t\tlist[i].silent += value;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t/**\r\n\t**\tDispatches an event to the respective listeners. If a callback is specified it will be executed once\r\n\t**\tall event handlers have been processed.\r\n\t**\r\n\t**\tEvent dispatchEvent (eventName: string, eventArgs: map, cbHandler: function, cbContext: object);\r\n\t**\tEvent dispatchEvent (eventName: string, eventArgs: map);\r\n\t*/\r\n\tdispatchEvent: function (eventName, eventArgs, cbHandler, cbContext)\r\n\t{\r\n\t\treturn this.prepareEvent(this.namespace ? this.namespace+':'+eventName : eventName, eventArgs, cbHandler, cbContext).resume();\r\n\t}\r\n});\r\n","/*\n**\trinn/model.js\n**\n**\tCopyright (c) 2013-2022, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport Rinn from './alpha.js';\nimport EventDispatcher from './event-dispatcher.js';\n\n/**\n**\tA model is a high-integrity data object used to store properties and more importantly to provide event support to notify of any\n**\tkind of change that occurs to the model's properties. Integrity of the model is maintained by optionally using property constraints.\n*/\n\nlet _Model = EventDispatcher.extend\n({\n\t/**\n\t**\tName of the class.\n\t*/\n\tclassName: \"Model\",\n\n\t/**\n\t**\tDefault properties for the model. Can be a map with the property name and its default value or a function\n\t**\treturning a map with dynamic default values. This is used to reset the model to its initial state.\n\t*/\n\tdefaults: null,\n\n\t/**\n\t**\tModel property contraints. A map with the property name and an object specifying the constraints of the\n\t**\tproperty. This is used to determine the type, format and behavior of each property in the model.\n\t*/\n\tconstraints: null,\n\n\t/**\n\t**\tProperties of the model.\n\t*/\n\tdata: null,\n\n\t/**\n\t**\tArray with the name of the properties that have changed. Populated prior modelChanged event.\n\t*/\n\tchangedList: null,\n\n\t/**\n\t**\tSilent mode indicator. While in silent mode events will not be dispatched.\n\t*/\n\t_silent: 0,\n\n\t/**\n\t**\tCurrent nesting level of the set() method. This is used to determine when all the property\n\t**\tchanges are done.\n\t*/\n\t_level: 0,\n\n\t/**\n\t**\tInitializes the model and sets the properties to the specified data object.\n\t**\n\t**\t>> Model __ctor (object data);\n\t**\t>> Model __ctor (object data, object defaults);\n\t*/\n\t__ctor: function (data, defaults)\n\t{\n\t\tthis._super.EventDispatcher.__ctor();\n\n\t\tthis.data = { };\n\n\t\tif (defaults != null)\n\t\t{\n\t\t\tthis.reset (defaults, false);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tlet o = null;\n\n\t\t\tif (!this.defaults && this.constraints)\n\t\t\t{\n\t\t\t\to = { };\n\n\t\t\t\tfor (let i in this.constraints)\n\t\t\t\t{\n\t\t\t\t\tlet j = this.constraints[i];\n\t\t\t\t\tif (j.def === null || j.def === undefined)\n\t\t\t\t\t{\n\t\t\t\t\t\to[i] = null;\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (typeof(j.def) === 'function')\n\t\t\t\t\t\to[i] = j.def();\n\t\t\t\t\telse\n\t\t\t\t\t\to[i] = j.def;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tthis.reset(o);\n\t\t}\n\n\t\tthis.init();\n\n\t\tif (data != null)\n\t\t\tthis.set (data, true);\n\n\t\tif (this.constraints) this.update();\n\n\t\tthis.ready();\n\t},\n\n\t/**\n\t**\tResets the model to its default state and triggers update events. If a map is provided the defaults of\n\t**\tthe model will be set to the specified map.\n\t**\n\t**\t>> Model reset (object defaults, [bool nsilent=true]);\n\t**\t>> Model reset ([bool nsilent=true]);\n\t*/\n\treset: function (defaults, nsilent)\n\t{\n\t\tif (!this.defaults)\n\t\t{\n\t\t\tif (!defaults || (Rinn.typeOf(defaults) !== 'object' && Rinn.typeOf(defaults) !== 'function'))\n\t\t\t\treturn this;\n\n\t\t\tthis.defaults = defaults;\n\t\t}\n\n\t\tif (Rinn.typeOf(this.defaults) === 'function')\n\t\t\tthis.data = this.defaults();\n\t\telse\n\t\t\tthis.data = Rinn.clone(this.defaults);\n\n\t\treturn (nsilent === false || defaults === false) ? this : this.update(null, true);\n\t},\n\n\t/**\n\t**\tInitializes the model. Called before the model properties are set.\n\t**\n\t**\t>> void init ();\n\t*/\n\tinit: function ()\n\t{\n\t},\n\n\t/**\n\t**\tInitialization epilogue. Called after initialization and after model properties are set.\n\t**\n\t**\t>> void ready ();\n\t*/\n\tready: function ()\n\t{\n\t},\n\n\t/**\n\t**\tEnables or disables silent mode. When the model is in silent mode events will not be dispatched.\n\t**\n\t**\t>> Model silent (value: bool);\n\t*/\n\tsilent: function (value)\n\t{\n\t\tthis._silent += value ? 1 : -1;\n\t\treturn this;\n\t},\n\n\t/**\n\t**\tValidates a property name and value against the constraints defined in the model (if any). Returns the\n\t**\tfinal value if successful or throws an empty exception if errors occur.\n\t**\n\t**\t>> T _validate (string name, T value);\n\t*/\n\t_validate: function (name, value)\n\t{\n\t\tif (!this.constraints || !this.constraints[name])\n\t\t\treturn value;\n\n\t\tvar constraints = this.constraints[name];\n\n\t\tvar nvalue = value;\n\n\t\tfor (var ctname in constraints)\n\t\t{\n\t\t\tif (!_Model.Constraints[ctname])\n\t\t\t\tcontinue;\n\n\t\t\ttry {\n\t\t\t\tnvalue = _Model.Constraints[ctname] (this, constraints[ctname], name, nvalue);\n\t\t\t}\n\t\t\tcatch (e)\n\t\t\t{\n\t\t\t\tif (e.message == \"null\")\n\t\t\t\t\tbreak;\n\n\t\t\t\tthrow new Error (`Constraint [${ctname}:${constraints[ctname]}] failed on property '${name}'.`);\n\t\t\t}\n\t\t}\n\n\t\treturn nvalue;\n\t},\n\n\t/**\n\t**\tSets the value of a property and returns the value set. This method is internally used to set properties\n\t**\tone at a time. If constraints are present in the model for the specified property all constraints will be\n\t**\tverified. When constraint errors occur the constraintError event will be raised and the property value\n\t**\twill not be changed.\n\t**\n\t**\t>> T _set (string name, T value);\n\t*/\n\t_set: function (name, value)\n\t{\n\t\tif (!this.constraints || !this.constraints[name])\n\t\t{\n\t\t\tthis.data[name] = value;\n\t\t\treturn value;\n\t\t}\n\n\t\tvar constraints = this.constraints[name];\n\n\t\tvar cvalue = this.data[name];\n\t\tvar nvalue = value;\n\n\t\tfor (var ctname in constraints)\n\t\t{\n\t\t\tif (!_Model.Constraints[ctname])\n\t\t\t\tcontinue;\n\n\t\t\ttry {\n\t\t\t\tnvalue = _Model.Constraints[ctname] (this, constraints[ctname], name, nvalue);\n\t\t\t}\n\t\t\tcatch (e)\n\t\t\t{\n\t\t\t\tif (e.message == \"null\")\n\t\t\t\t\tbreak;\n\n\t\t\t\tif (!this._silent)\n\t\t\t\t\tthis.dispatchEvent (\"constraintError\", { constraint: ctname, message: e.message, name: name, value: value });\n\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn (this.data[name] = nvalue);\n\t},\n\n\t/**\n\t**\tTriggers property events to indicate a property is changing. First triggers \"propertyChanging\" and then\n\t**\t\"propertyChanged\". If the first event returns false the second event will not be triggered.\n\t**\n\t**\t>> void _propertyEvent (string name, T prev, T value, bool direct=false);\n\t*/\n\t_propertyEvent: function (name, prev, value, direct)\n\t{\n\t\tvar temp = { name: name, old: prev, value: value, level: this._level };\n\n\t\tvar evt = this.dispatchEvent (\"propertyChanging\", temp);\n\n\t\tif (!direct)\n\t\t\ttemp.value = this._set (name, temp.value);\n\t\telse\n\t\t\tthis.data[name] = temp.value;\n\n\t\tif (evt != null && evt.ret.length && evt.ret[0] === false)\n\t\t\treturn;\n\n\t\tthis.dispatchEvent (\"propertyChanged.\" + name, temp);\n\t\tthis.dispatchEvent (\"propertyChanged\", temp);\n\n\t\tthis.changedList.push (name);\n\t},\n\n\t/**\n\t**\tSets one or more properties of the model. Possible arguments can be two strings or a map.\n\t**\n\t**\t>> Model set (string name, T value, bool force=true);\n\t**\t>> Model set (string name, T value, bool silent=false);\n\t**\t>> Model set (string name, T value);\n\t**\t>> Model set (object data);\n\t*/\n\tset: function ()\n\t{\n\t\tvar n = arguments.length;\n\t\tvar force = false, silent = false;\n\n\t\tif ((n > 2 || (n == 2 && Rinn.typeOf(arguments[0]) == \"object\")) && Rinn.typeOf(arguments[n-1]) == \"boolean\")\n\t\t{\n\t\t\tforce = arguments[--n];\n\t\t\tif (force === false) silent = true;\n\t\t}\n\n\t\tif (this._level == 0)\n\t\t{\n\t\t\tthis.changedList = [];\n\t\t}\n\n\t\tthis._level++;\n\n\t\tif (n == 2)\n\t\t{\n\t\t\tif (this.data[arguments[0]] != arguments[1] || force)\n\t\t\t{\n\t\t\t\tif (!this._silent && !silent)\n\t\t\t\t\tthis._propertyEvent (arguments[0], this.data[arguments[0]], this._validate (arguments[0], arguments[1]));\n\t\t\t\telse\n\t\t\t\t\tthis._set (arguments[0], arguments[1]);\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tfor (var i in arguments[0])\n\t\t\t{\n\t\t\t\tif (this.data[i] != arguments[0][i] || force)\n\t\t\t\t{\n\t\t\t\t\tif (!this._silent && !silent)\n\t\t\t\t\t\tthis._propertyEvent (i, this.data[i], this._validate (i, arguments[0][i]));\n\t\t\t\t\telse\n\t\t\t\t\t\tthis._set (i, arguments[0][i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (!--this._level && this.changedList.length && !silent && !this._silent)\n\t\t\tthis.dispatchEvent (\"modelChanged\", { fields: this.changedList });\n\n\t\treturn this;\n\t},\n\n\t/**\n\t**\tReturns true if the given key exists in the model.\n\t**\n\t**\t>> boolean has (string name);\n\t*/\n\thas: function (name)\n\t{\n\t\treturn name in this.data;\n\t},\n\n\t/**\n\t**\tReturns the value of a property. If no name is specified the whole map of properties will be returned.\n\t**\tIf a boolean value of \"true\" is provided the properties map will be returned but first will be compacted\n\t**\tusing the default data to ensure only valid properties are present.\n\t**\n\t**\t>> T get (string name);\n\t**\t>> object get ();\n\t**\t>> object get (true);\n\t**\t>> object get (false);\n\t**\t\n\t*/\n\tget: function (name, def)\n\t{\n\t\tif (arguments.length == 0 || name === false)\n\t\t\treturn this.data;\n\n\t\tif (arguments.length == 1 && name === true)\n\t\t\treturn this.flatten ();\n\n\t\tif (arguments.length == 2)\n\t\t\treturn this.data[name] === undefined ? def : this.data[name];\n\n\t\treturn this.data[name];\n\t},\n\n\t/**\n\t**\tReturns the value of a property as an integer number.\n\t**\n\t**\t>> int getInt (string name, [int def]);\n\t*/\n\tgetInt: function (name, def)\n\t{\n\t\tif (arguments.length == 2)\n\t\t\treturn this.data[name] === undefined ? def : parseInt (this.data[name]);\n\n\t\treturn parseInt (this.data[name]);\n\t},\n\n\t/**\n\t**\tReturns the value of a property as a floating point number.\n\t**\n\t**\t>> float getFloat (string name, [float def]);\n\t*/\n\tgetFloat: function (name, def)\n\t{\n\t\tif (arguments.length == 2)\n\t\t\treturn this.data[name] === undefined ? def : parseFloat (this.data[name]);\n\n\t\treturn parseFloat (this.data[name]);\n\t},\n\n\t/**\n\t**\tReturns the value of a property as a boolean value (true or false).\n\t**\n\t**\t>> bool getBool (string name, [bool def]);\n\t**\t\n\t*/\n\tgetBool: function (name, def)\n\t{\n\t\tif (arguments.length == 2)\n\t\t\tname = this.data[name] === undefined ? def : this.data[name];\n\t\telse\n\t\t\tname = this.data[name];\n\n\t\tif (name === \"true\" || name === true)\n\t\t\treturn true;\n\n\t\tif (name === \"false\" || name === false)\n\t\t\treturn false;\n\n\t\treturn parseInt (name) ? true : false;\n\t},\n\n\t/**\n\t**\tReturns a reference object for a model property. The resulting object contains two methods\n\t**\tnamed \"get\" and \"set\" to modify the value of the property.\n\t**\n\t**\t>> object getReference (string name);\n\t*/\n\tgetReference: function (name)\n\t{\t\n\t\tvar m = this;\n\n\t\treturn {\n\t\t\tget: function() {\n\t\t\t\treturn m.get(name);\n\t\t\t},\n\n\t\t\tset: function(value) {\n\t\t\t\tm.set(name, value);\n\t\t\t}\n\t\t};\n\t},\n\n\t/**\n\t**\tSets or returns a constraint given the property name. \n\t**\n\t**\t>> Model constraint (string field, string constraint, T value);\n\t**\t>> Model constraint (string field, object constraint);\n\t**\t>> Model constraint (object constraints);\n\t**\t>> object constraint (string field);\n\t*/\n\tconstraint: function (field, constraint, value)\n\t{\n\t\tif (arguments.length == 3 || arguments.length == 2 || (arguments.length == 1 && Rinn.typeOf(field) == \"object\"))\n\t\t{\n\t\t\tif (this.constraints === this.constructor.prototype.constraints)\n\t\t\t\tthis.constraints = Rinn.clone (this.constraints);\n\n\t\t\tswitch (arguments.length)\n\t\t\t{\n\t\t\t\tcase 1:\n\t\t\t\t\tRinn.override (this.constraints, field);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 2:\n\t\t\t\t\tRinn.override (this.constraints[field], constraint);\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 3:\n\t\t\t\t\tthis.constraints[field][constraint] = value;\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\treturn !field ? this : this.constraints[field];\n\t},\n\n\t/**\n\t**\tReturns a compact version of the model properties. That is, a map only with validated properties that are\n\t**\talso present in the default data map. Returns null if the object is not compliant. If the \"safe\" parameter\n\t**\tis set one last property named \"class\" will be attached, this specifies the original classPath of the object.\n\t**\n\t**\t>> object flatten ([bool safe=false]);\n\t*/\n\tflatten: function (safe, rsafe)\n\t{\n\t\tif (safe)\n\t\t{\n\t\t\tvar data = this.flatten(false, true);\n\t\t\tif (data == null) return null;\n\n\t\t\tdata[\"class\"] = this.classPath;\n\t\t\treturn data;\n\t\t}\n\n\t\tif (!this.constraints && !this.defaults)\n\t\t\treturn this.data;\n\n\t\tif (!this.isCompliant())\n\t\t\treturn { };\n\n\t\tvar constraints = this.constraints;\n\t\tvar keys = this.defaults ? (Rinn.typeOf(this.defaults) == \"function\" ? this.defaults() : this.defaults) : this.constraints;\n\n\t\tvar data = { };\n\n\t\tfor (var i in this.data)\n\t\t{\n\t\t\tif (!(i in keys)) continue;\n\n\t\t\tif (constraints && constraints[i])\n\t\t\t{\n\t\t\t\tvar ct = constraints[i];\n\n\t\t\t\tif (ct.model)\n\t\t\t\t{\n\t\t\t\t\tdata[i] = this.data[i] ? this.data[i].flatten(rsafe) : null;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (ct.arrayof)\n\t\t\t\t{\n\t\t\t\t\tdata[i] = [];\n\n\t\t\t\t\tfor (var j = 0; j < this.data[i].length; j++)\n\t\t\t\t\t\tdata[i][j] = this.data[i][j] ? this.data[i][j].flatten(rsafe) : null;\n\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tif (ct.cls)\n\t\t\t\t{\n\t\t\t\t\tdata[i] = this.data[i] ? this.data[i].flatten() : null;\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tdata[i] = this.data[i];\n\t\t}\n\n\t\treturn data;\n\t},\n\n\t/**\n\t**\tRemoves a property or a list of properties.\n\t**\n\t**\t>> void remove (string name, [bool nsilent=true]);\n\t**\t>> void remove (array name, [bool nsilent=true]);\n\t*/\n\tremove: function (name, nsilent)\n\t{\n\t\tif (Rinn.typeOf(name) == \"array\")\n\t\t{\n\t\t\tfor (var i = 0; i < name.length; i++)\n\t\t\t\tdelete this.data[name[i]];\n\n\t\t\tif (nsilent !== false && !this._silent)\n\t\t\t\tthis.dispatchEvent (\"propertyRemoved\", { fields: name });\n\t\t}\n\t\telse\n\t\t{\n\t\t\tdelete this.data[name];\n\n\t\t\tif (nsilent !== false && !this._silent)\n\t\t\t\tthis.dispatchEvent (\"propertyRemoved\", { fields: [name] });\n\t\t}\n\t},\n\n\t/**\n\t**\tTriggers data change events for one or more properties. Ensure that silent mode is not enabled or else\n\t**\tthis method will have no effect. If no parameters are provided a full update will be triggered on all of\n\t**\tthe model properties.\n\t**\n\t**\t>> Model update (array fields);\n\t**\t>> Model update (string name);\n\t**\t>> Model update (bool forceModelChanged);\n\t**\t>> Model update ();\n\t*/\n\tupdate: function (fields, direct)\n\t{\n\t\tif (this._silent) return this;\n\n\t\tif (this._level == 0)\n\t\t{\n\t\t\tthis.changedList = [];\n\t\t}\n\n\t\tthis._level++;\n\n\t\tif (fields && Rinn.typeOf(fields) == 'string')\n\t\t{\n\t\t\tthis._propertyEvent (fields, this.data[fields], this.data[fields], direct);\n\t\t}\n\t\telse if (fields && Rinn.typeOf(fields) == 'array')\n\t\t{\n\t\t\tfor (var i of fields)\n\t\t\t\tthis._propertyEvent (i, this.data[i], this.data[i], direct);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tfor (var i in this.data)\n\t\t\t\tthis._propertyEvent (i, this.data[i], this.data[i], direct);\n\t\t}\n\n\t\tif (!--this._level && !this._silent && (this.changedList.length != 0 || fields === true))\n\t\t\tthis.dispatchEvent (\"modelChanged\", { fields: this.changedList });\n\n\t\treturn this;\n\t},\n\n\t/**\n\t**\tValidates one or mode model properties using the defined constraints. If no parameters are provided all of\n\t**\tthe properties in the model will be validated.\n\t**\n\t**\t>> Model validate (array fields);\n\t**\t>> Model validate (string name);\n\t**\t>> Model validate ();\n\t*/\n\tvalidate: function (fields)\n\t{\n\t\tif (!this.constraints) return this;\n\n\t\tif (fields && Rinn.typeOf(fields) == \"string\")\n\t\t{\n\t\t\tthis._set (fields, this.data[fields])\n\t\t}\n\t\telse\n\t\t{\n\t\t\tfor (var i in this.data)\n\t\t\t{\n\t\t\t\tif (fields && Rinn.indexOf(fields, i) == -1)\n\t\t\t\t\tcontinue;\n\n\t\t\t\tthis._set (i, this.data[i])\n\t\t\t}\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t/**\n\t**\tValidates all the properties in the model and returns a boolean indicating if all of them comply with the\n\t**\tconstraints defined in the model.\n\t**\n\t**\t>> bool isCompliant ();\n\t*/\n\tisCompliant: function ()\n\t{\n\t\tif (!this.constraints) return true;\n\n\t\ttry\n\t\t{\n\t\t\tfor (var i in this.data)\n\t\t\t\tthis._validate (i, this.data[i]);\n\n\t\t\treturn true;\n\t\t}\n\t\tcatch (e) {\n\t\t}\n\n\t\treturn false;\n\t},\n\n\t/**\n\t**\tRegisters an event handler for changes in a specific property of the model.\n\t**\n\t**\t>> void observe (string property, function handler, object context);\n\t*/\n\tobserve: function (property, handler, context)\n\t{\n\t\tthis.addEventListener (\"propertyChanged.\" + property, handler, context);\n\t},\n\n\t/**\n\t**\tUnregisters an event handler from changes in a specific property of the model.\n\t**\n\t**\t>> void unobserve (string property, function handler, object context);\n\t*/\n\tunobserve: function (property, handler, context)\n\t{\n\t\tthis.removeEventListener (\"propertyChanged.\" + property, handler, context);\n\t},\n\n\t/**\n\t**\tAdds a propertyChanged event handler for the given property. The property name can have an event namespace prepended and separated by colon.\n\t**\n\t**\t>> void watch (string property, function handler);\n\t*/\n\twatch: function (property, handler)\n\t{\n\t\tproperty = property.split(':');\n\n\t\tif (property.length == 1)\n\t\t{\n\t\t\tproperty[1] = property[0];\n\t\t\tproperty[0] = 'watch';\n\t\t}\n\n\t\tthis.addEventListener (property[0]+\":propertyChanged.\"+property[1], function (evt, args) {\n\t\t\thandler (args.value, args, evt);\n\t\t});\n\t},\n\n\t/**\n\t**\tRemoves propertyChanged handlers related to the specified property. The property name can have an event namespace prepended and separated by colon.\n\t**\n\t**\t>> void unwatch (string property);\n\t*/\n\tunwatch: function (property)\n\t{\n\t\tproperty = property.split(':');\n\t\tif (property.length == 1)\n\t\t{\n\t\t\tproperty[1] = property[0];\n\t\t\tproperty[0] = 'watch';\n\t\t}\n\n\t\tthis.removeEventListener (property[0]+\":propertyChanged.\"+property[1]);\n\t},\n\n\t/**\n\t**\tSerializes the model into a string.\n\t**\n\t**\tstring toString ();\n\t*/\n\ttoString: function ()\n\t{\n\t\treturn Rinn.serialize(this.get (true));\n\t}\n});\n\n\n/**\n**\tImport model constraints.\n*/\n\nimport Constraints from './model-constraints.js';\n_Model.Constraints = Constraints;\n\nexport default _Model;\n","/*\n**\trinn/model-list.js\n**\n**\tCopyright (c) 2013-2022, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport Rinn from './alpha.js';\nimport Model from './model.js';\n\n/**\n**\tGeneric list for models.\n*/\n\nexport default Model.extend\n({\n\t/**\n\t**\tName of the class.\n\t*/\n\tclassName: \"ModelList\",\n\n\t/**\n\t**\tClass of the items in the list, can be overriden by child classes to impose a more strict constraint.\n\t*/\n\titemt: Model,\n\n\t/**\n\t**\tMirror of data.contents\n\t*/\n\tcontents: null,\n\n\t/**\n\t**\tIDs of every item in the contents.\n\t*/\n\titemId: null,\n\n\t/**\n\t**\tAutoincremental ID for the next item to be added.\n\t*/\n\tnextId: null,\n\n\t/**\n\t**\tDefault properties of the model.\n\t*/\n\tdefaults:\n\t{\n\t\tcontents: null\n\t},\n\n\t/**\n\t**\tConstraints of the model to ensure integrity.\n\t*/\n\tconstraints:\n\t{\n\t\tcontents: {\n\t\t\ttype: \"array\",\n\t\t\tarrayof: \"@itemt\"\n\t\t}\n\t},\n\n\t/**\n\t**\tConstructor.\n\t*/\n\t__ctor: function (...args)\n\t{\n\t\tthis.itemId = [];\n\t\tthis.nextId = 0;\n\n\t\tthis._super.Model.__ctor(...args);\n\t},\n\n\t/**\n\t**\tInitialization epilogue. Called after initialization and after model properties are set.\n\t*/\n\tready: function ()\n\t{\n\t\tthis._eventGroup = \"ModelList_\" + Date.now() + \":modelChanged\";\n\n\t\tthis.contents = this.data.contents;\n\t},\n\n\t/**\n\t**\tConnects the event handlers to the item.\n\t**\n\t**\t>> Model _bind (int iid, Model item);\n\t*/\n\t_bind: function (iid, item)\n\t{\n\t\tif (item && item.addEventListener) item.addEventListener (this._eventGroup, this._onItemEvent, this, iid);\n\t\treturn item;\n\t},\n\n\t/**\n\t**\tDisconnects the event handlers from the item.\n\t**\n\t**\t>> Model _unbind (Model item);\n\t*/\n\t_unbind: function (item)\n\t{\n\t\tif (item && item.removeEventListener) item.removeEventListener (this._eventGroup);\n\t\treturn item;\n\t},\n\n\t/**\n\t**\tHandler for item events.\n\t**\n\t**\t>> Model _onItemEvent (Event evt, object args, int iid);\n\t*/\n\t_onItemEvent: function (evt, args, iid)\n\t{\n\t\tthis.prepareEvent (\"itemChanged\", { id: iid, item: evt.source }).from (evt)\n\t\t.enqueue (this.prepareEvent (\"modelChanged\", { fields: [\"contents\"] })).resume ();\n\t},\n\n\t/**\n\t**\tReturns the number of items in the list.\n\t**\n\t**\t>> int length ();\n\t*/\n\tlength: function ()\n\t{\n\t\treturn this.data.contents.length;\n\t},\n\n\t/**\n\t**\tClears the contents of the list.\n\t**\n\t**\t>> void clear ();\n\t*/\n\tclear: function ()\n\t{\n\t\tfor (var i = 0; i < this.data.contents; i++)\n\t\t\tthis._unbind (this.data.contents[i]);\n\n\t\tthis.itemId = [];\n\t\tthis.nextId = 0;\n\n\t\tthis.contents = this.data.contents = [];\n\n\t\tthis.prepareEvent (\"itemsCleared\")\n\t\t.enqueue (this.prepareEvent (\"modelChanged\", { fields: [\"contents\"] })).resume ();\n\n\t\treturn this;\n\t},\n\n\t/**\n\t**\tSets the contents of the list with the specified array. All items will be ensured to be of the same model\n\t**\ttype as the one specified in the list.\n\t**\n\t**\t>> ModelList setData (array data);\n\t*/\n\tsetData: function (data)\n\t{\n\t\tthis.clear();\n\t\tif (!data) return this;\n\n\t\tfor (var i = 0; i < data.length; i++)\n\t\t{\n\t\t\tvar item = Rinn.ensureTypeOf(this.itemt, data[i]);\n\n\t\t\tthis.itemId.push(this.nextId++);\n\t\t\tthis.data.contents.push(item);\n\n\t\t\tthis._bind(this.nextId-1, item);\n\t\t}\n\n\t\tthis.prepareEvent (\"itemsChanged\")\n\t\t.enqueue (this.prepareEvent (\"modelChanged\", { fields: [\"contents\"] })).resume ();\n\n\t\treturn this;\n\t},\n\n\t/**\n\t**\tReturns the raw array contents of the list.\n\t**\n\t**\t>> array getData ();\n\t*/\n\tgetData: function ()\n\t{\n\t\treturn this.data.contents;\n\t},\n\n\t/**\n\t**\tReturns the item at the specified index or null if the index is out of bounds.\n\t**\n\t**\t>> Model getAt (int index);\n\t*/\n\tgetAt: function (index)\n\t{\n\t\tif (index < 0 || index >= this.data.contents.length)\n\t\t\treturn null;\n\n\t\treturn this.data.contents[index];\n\t},\n\n\t/**\n\t**\tRemoves and returns the item at the specified index. Returns null if the index is out of bounds.\n\t**\n\t**\t>> Model removeAt (int index);\n\t*/\n\tremoveAt: function (index)\n\t{\n\t\tif (index < 0 || index >= this.data.contents.length)\n\t\t\treturn null;\n\n\t\tlet item = this.data.contents.splice(index, 1)[0];\n\t\tlet id = this.itemId.splice(index, 1)[0];\n\n\t\tthis._unbind (item);\n\n\t\tthis.prepareEvent (\"itemRemoved\", { id: id, item: item })\n\t\t.enqueue (this.prepareEvent (\"modelChanged\", { fields: [\"contents\"] })).resume();\n\n\t\treturn item;\n\t},\n\n\t/**\n\t**\tSets the item at the specified index. Returns false if the index is out of bounds, true otherwise. The\n\t**\titem will be ensured to be of the model defined in the list.\n\t**\n\t**\t>> bool setAt (int index, Model item);\n\t*/\n\tsetAt: function (index, item)\n\t{\n\t\tif (index < 0 || index >= this.data.contents.length)\n\t\t\treturn false;\n\n\t\titem = Rinn.ensureTypeOf(this.itemt, item);\n\n\t\tthis._unbind(this.data.contents[index]);\n\t\tthis.data.contents[index] = item;\n\t\tthis._bind(this.itemId[index], item);\n\n\t\tthis.prepareEvent (\"itemChanged\", { id: this.itemId[index], item: item })\n\t\t.enqueue (this.prepareEvent (\"modelChanged\", { fields: [\"contents\"] })).resume ();\n\n\t\treturn true;\n\t},\n\n\t/**\n\t**\tNotifies a change in the item at the specified index. Returns false if the index is out of bounds.\n\t**\n\t**\t>> bool updateAt (int index);\n\t*/\n\tupdateAt: function (index)\n\t{\n\t\tif (index < 0 || index >= this.data.contents.length)\n\t\t\treturn false;\n\n\t\tthis.prepareEvent (\"itemChanged\", { id: this.itemId[index], item: this.data.contents[index] })\n\t\t.enqueue (this.prepareEvent (\"modelChanged\", { fields: [\"contents\"] })).resume ();\n\n\t\treturn true;\n\t},\n\n\t/**\n\t**\tAdds an item to the bottom of the list. Returns null if the item is not an object or a model. The item\n\t**\twill be ensured to be of the model specified in the list.\n\t**\n\t**\t>> Model push (Model item);\n\t*/\n\tpush: function (item)\n\t{\n\t\tif (item && Rinn.typeOf(item) != \"object\")\n\t\t\treturn null;\n\n\t\titem = Rinn.ensureTypeOf(this.itemt, item);\n\n\t\tthis.itemId.push(this.nextId++);\n\t\tthis.data.contents.push (item);\n\t\tthis._bind(this.nextId-1, item);\n\n\t\tthis.prepareEvent (\"itemAdded\", { id: this.itemId[this.itemId.length-1], item: item, position: 'tail' })\n\t\t.enqueue (this.prepareEvent (\"modelChanged\", { fields: [\"contents\"] })).resume ();\n\n\t\treturn item;\n\t},\n\n\t/**\n\t**\tRemoves and returns an item from the bottom of the list.\n\t**\n\t**\t>> Model pop ();\n\t*/\n\tpop: function ()\n\t{\n\t\treturn this._unbind(this.data.contents.pop());\n\t},\n\n\t/**\n\t**\tAdds an item to the top of the list. Returns null if the item is not an object or a model. The item\n\t**\twill be ensured to be of the model specified in the list.\n\t**\n\t**\t>> Model unshift (Model item);\n\t*/\n\tunshift: function (item)\n\t{\n\t\tif (item && Rinn.typeOf(item) != \"object\")\n\t\t\treturn null;\n\n\t\titem = Rinn.ensureTypeOf(this.itemt, item);\n\n\t\tthis.itemId.unshift(this.nextId++);\n\t\tthis.data.contents.unshift (item);\n\t\tthis._bind(this.nextId-1, item);\n\n\t\tthis.prepareEvent (\"itemAdded\", { id: this.itemId[0], item: item, position: 'head' })\n\t\t.enqueue (this.prepareEvent (\"modelChanged\", { fields: [\"contents\"] })).resume ();\n\n\t\treturn item;\n\t},\n\n\t/**\n\t**\tRemoves and returns an item from the top of the list.\n\t**\n\t**\t>> Model shift ();\n\t*/\n\tshift: function ()\n\t{\n\t\treturn this._unbind(this.data.contents.shift());\n\t},\n\n\t/**\n\t**\tSearches for an item matching the specified partial definition and returns its index. Returns -1 if the\n\t**\titem was not found. If retObject is set to true the object will be returned instead of its index and null\n\t**\twill be returned when the item is not found.\n\t**\n\t**\tint|object find (object data, bool retObject=false);\n\t*/\n\tfind: function (data, retObject=false)\n\t{\n\t\tvar contents = this.data.contents;\n\n\t\tfor (var i = 0; i < contents.length; i++)\n\t\t{\n\t\t\tif (Rinn.partialCompare (contents[i].data, data))\n\t\t\t\treturn retObject ? contents[i] : i;\n\t\t}\n\n\t\treturn retObject ? null : -1;\n\t}\n});\n","/*\r\n**\trinn/schema\r\n**\r\n**\tCopyright (c) 2013-2022, RedStar Technologies, All rights reserved.\r\n**\thttps://rsthn.com/\r\n**\r\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\r\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \r\n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\r\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \r\n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \r\n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \r\n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\r\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n*/\r\n\r\nimport Rinn from './alpha.js';\r\n\r\n/**\r\n * The utility functions in this module allow to create a very strict serialization/deserialization schema\r\n * to ensure that all values are of the specific type when stored in string format.\r\n */\r\n\r\nlet Schema =\r\n{\r\n\tType: function (proto)\r\n    {\r\n\t\tlet tmp =\r\n\t\t{\r\n            flatten: function (value, context) {\r\n                return value;\r\n            },\r\n\r\n            unflatten: function (value, context) {\r\n                return value;\r\n            }\r\n        };\r\n\r\n        return proto ? Rinn.override(tmp, proto) : tmp;\r\n    },\r\n\r\n\tString: function()\r\n\t{\r\n\t\treturn Schema.Type\r\n\t\t({\r\n\t\t\tflatten: function (value, context) {\r\n\t\t\t\treturn value != null ? value.toString() : null;\r\n\t\t\t},\r\n\r\n\t\t\tunflatten: function (value, context) {\r\n\t\t\t\treturn value != null ? value.toString() : null;\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\tInteger: function()\r\n\t{\r\n\t\treturn Schema.Type\r\n\t\t({\r\n\t\t\tflatten: function (value, context) {\r\n\t\t\t\treturn ~~value;\r\n\t\t\t},\r\n\r\n\t\t\tunflatten: function (value, context) {\r\n\t\t\t\treturn ~~value;\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\tNumber: function (precision)\r\n\t{\r\n\t\treturn Schema.Type\r\n\t\t({\r\n\t\t\t_precision: precision,\r\n\t\t\t_round: false,\r\n\r\n\t\t\tprecision: function (value)\r\n\t\t\t{\r\n\t\t\t\tthis._precision = ~~value;\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\r\n\t\t\tflatten: function (value, context)\r\n\t\t\t{\r\n\t\t\t\tvalue = parseFloat(value);\r\n\r\n\t\t\t\tif (this._precision > 0)\r\n\t\t\t\t\tvalue = (~~(value*Math.pow(10, this._precision))) / Math.pow(10, this._precision);\r\n\r\n\t\t\t\treturn value;\r\n\t\t\t},\r\n\r\n\t\t\tunflatten: function (value, context) {\r\n\t\t\t\treturn parseFloat(value);\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\tBool: function (compact)\r\n\t{\r\n\t\treturn Schema.Type\r\n\t\t({\r\n\t\t\t_compact: compact,\r\n\r\n\t\t\tcompact: function(value)\r\n\t\t\t{\r\n\t\t\t\tthis._compact = value;\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\r\n\t\t\tflatten: function (value, context) {\r\n\t\t\t\tvalue = ~~value;\r\n\t\t\t\treturn this._compact ? (value > 0 ? 1 : 0) : (value > 0 ? true : false);\r\n\t\t\t},\r\n\r\n\t\t\tunflatten: function (value, context) {\r\n\t\t\t\treturn (~~value) ? true : false;\r\n\t\t\t}\r\n\t\t});\r\n\t},\r\n\r\n\tSharedString: function()\r\n\t{\r\n\t\treturn Schema.Type\r\n\t\t({\r\n\t\t\tflatten: function (value, context)\r\n\t\t\t{\r\n\t\t\t\tif (value == null) return 0;\r\n\r\n\t\t\t\tvalue = value.toString();\r\n\r\n                if (!(\"strings\" in context))\r\n                {\r\n                    context.index = { };\r\n                    context.strings = [ ];\r\n                }\r\n\r\n                if (!(value in context.index))\r\n                {\r\n                    context.strings.push(value);\r\n                    context.index[value] = context.strings.length;\r\n                }\r\n\r\n                return context.index[value];\r\n            },\r\n\r\n\t\t\tunflatten: function (value, context)\r\n\t\t\t{\r\n                return value == null || value == 0 ? null : context.strings[~~value - 1];\r\n            }\r\n        });\r\n    },\r\n\r\n\tArray: function (type)\r\n    {\r\n        return Schema.Type({\r\n\r\n\t\t\titemType: type,\r\n\t\t\t_debug: false,\r\n\t\t\t_filter: null,\r\n\r\n\t\t\tdebug: function(v) {\r\n\t\t\t\tthis._debug = v;\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\r\n            of: function (type) {\r\n                this.itemType = type;\r\n                return this;\r\n            },\r\n\r\n\t\t\tfilter: function (callback) {\r\n\t\t\t\tthis._filter = callback;\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\r\n\t\t\tflatten: function (value, context)\r\n\t\t\t{\r\n\t\t\t\tif (value == null) return null;\r\n\r\n                let o = [ ];\r\n\r\n                for (let i = 0; i < value.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (this._filter && !this._filter(value[i], i))\r\n\t\t\t\t\t\tcontinue;\r\n\r\n                    o.push(this.itemType.flatten(value[i], context));\r\n\t\t\t\t}\r\n\r\n                return o;\r\n            },\r\n\r\n\t\t\tunflatten: async function (value, context)\r\n\t\t\t{\r\n\t\t\t\tif (value == null) return null;\r\n\r\n                let o = [ ];\r\n\r\n\t\t\t\tfor (let i = 0; i < value.length; i++)\r\n\t\t\t\t{\r\n\t\t\t\t\to.push(await this.itemType.unflatten(value[i], context));\r\n\t\t\t\t}\r\n\r\n                return o;\r\n            }\r\n        });\r\n    },\r\n\r\n    Object: function()\r\n    {\r\n        return Schema.Type({\r\n\r\n            properties: [ ],\r\n\r\n            property: function (name, type, defvalue=null)\r\n            {\r\n                this.properties.push({ name: name, source: name, type: type, defvalue: defvalue });\r\n                return this;\r\n            },\r\n\r\n            propertyAlias: function (name, source, type, defvalue=null)\r\n            {\r\n                this.properties.push({ name: name, source: source, type: type, defvalue: defvalue });\r\n                return this;\r\n            },\r\n\r\n            flatten: function (value, context)\r\n            {\r\n\t\t\t\tif (value == null) return null;\r\n\r\n\t\t\t\tlet o;\r\n\r\n\t\t\t\tif (context.symbolic === true)\r\n\t\t\t\t{\r\n\t\t\t\t\to = { };\r\n\r\n\t\t\t\t\tfor (let i = 0; i < this.properties.length; i++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (this.properties[i].source in value)\r\n\t\t\t\t\t\t\to[this.properties[i].name] = this.properties[i].type.flatten(value[this.properties[i].source], context);\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\to[this.properties[i].name] = this.properties[i].type.flatten(this.properties[i].defvalue, context);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\to = [ ];\r\n\r\n\t\t\t\t\tfor (let i = 0; i < this.properties.length; i++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tif (this.properties[i].source in value)\r\n\t\t\t\t\t\t\to.push(this.properties[i].type.flatten(value[this.properties[i].source], context));\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\to.push(this.properties[i].type.flatten(this.properties[i].defvalue, context));\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n                return o;\r\n            },\r\n\r\n            unflatten: async function (value, context)\r\n            {\r\n\t\t\t\tif (value == null) return null;\r\n\r\n\t\t\t\tlet o = { };\r\n\r\n\t\t\t\tif (context.symbolic === true)\r\n\t\t\t\t{\r\n\t\t\t\t\tfor (let i = 0; i < this.properties.length; i++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\to[this.properties[i].name] = await this.properties[i].type.unflatten(this.properties[i].name in value ? value[this.properties[i].name] : this.properties[i].defvalue, context);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\r\n\t\t\t\t\tfor (let i = 0; i < this.properties.length; i++)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\to[this.properties[i].name] = await this.properties[i].type.unflatten(i in value ? value[i] : this.properties[i].defvalue, context);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n                return o;\r\n            }\r\n        });\r\n\t},\r\n\r\n    Class: function (classConstructor)\r\n    {\r\n\t\treturn Schema.Type\r\n\t\t({\r\n            _constructor: classConstructor,\r\n\r\n            constructor: function (classConstructor)\r\n            {\r\n                this._constructor = classConstructor;\r\n                return this;\r\n            },\r\n\r\n            flatten: function (value, context)\r\n            {\r\n                return value == null ? null : value.flatten(context);\r\n            },\r\n\r\n            unflatten: async function (value, context)\r\n            {\r\n\t\t\t\treturn value == null ? null : await (new this._constructor()).unflatten(value, context);\r\n            }\r\n        });\r\n\t},\r\n\r\n\t/*\r\n\t**\tUsed when you want to specify just a single property.\r\n\t*/\r\n    Property: function(name, type)\r\n    {\r\n        return Schema.Type({\r\n\r\n\t\t\tproperty: name,\r\n\t\t\ttype: type,\r\n\r\n\t\t\tname: function (name)\r\n\t\t\t{\r\n\t\t\t\tthis.property = name;\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\r\n\t\t\tis: function (type)\r\n\t\t\t{\r\n\t\t\t\tthis.type = type;\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\r\n            flatten: function (value, context)\r\n            {\r\n\t\t\t\tif (value == null) return null;\r\n\r\n\t\t\t\tlet o;\r\n\r\n\t\t\t\tif (context.symbolic === true)\r\n\t\t\t\t{\r\n\t\t\t\t\to = { };\r\n\t\t\t\t\to[this.property] = this.type.flatten(value[this.property], context);\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t{\r\n\t\t\t\t\to = this.type.flatten(value[this.property], context);\r\n\t\t\t\t}\r\n\r\n                return o;\r\n            },\r\n\r\n            unflatten: async function (value, context)\r\n            {\r\n\t\t\t\tif (value == null) return null;\r\n\r\n\t\t\t\tlet o = { };\r\n\r\n\t\t\t\tif (context.symbolic === true)\r\n\t\t\t\t\to[this.property] = await this.type.unflatten(value[this.property], context);\r\n\t\t\t\telse\r\n\t\t\t\t\to[this.property] = await this.type.unflatten(value, context);\r\n\r\n                return o;\r\n            }\r\n        });\r\n\t},\r\n\r\n    Map: function()\r\n    {\r\n        return Schema.Type({\r\n\r\n            flatten: function (value, context)\r\n            {\r\n\t\t\t\tif (value == null) return null;\r\n\r\n\t\t\t\tif (context.symbolic === true)\r\n\t\t\t\t\treturn value;\r\n\r\n\t\t\t\tlet o = [ ];\r\n\r\n\t\t\t\tfor (let i in value)\r\n\t\t\t\t{\r\n\t\t\t\t\to.push(i);\r\n\t\t\t\t\to.push(value[i]);\r\n\t\t\t\t}\r\n\r\n                return o;\r\n            },\r\n\r\n            unflatten: function (value, context)\r\n            {\r\n\t\t\t\tif (value == null) return null;\r\n\r\n\t\t\t\tif (context.symbolic === true)\r\n\t\t\t\t\treturn value;\r\n\r\n\t\t\t\tlet o = { };\r\n\r\n\t\t\t\tfor (let i = 0; i < value.length; i += 2)\r\n\t\t\t\t\to[value[i]] = value[i+1];\r\n\r\n                return o;\r\n            }\r\n        });\r\n\t},\r\n\r\n    Selector: function ()\r\n    {\r\n        return Schema.Type({\r\n\r\n\t\t\tconditions: [],\r\n\t\t\tvalue: null,\r\n\r\n\t\t\twhen: function (value, type)\r\n\t\t\t{\r\n\t\t\t\tthis.conditions.push([ (val) => val === value, type ]);\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\r\n\t\t\twith: function (value)\r\n\t\t\t{\r\n\t\t\t\tthis.value = value;\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\r\n            flatten: function (value, context)\r\n            {\r\n\t\t\t\tif (value == null) return null;\r\n\r\n\t\t\t\tfor (let i of this.conditions)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (i[0](this.value) === true)\r\n\t\t\t\t\t\treturn i[1].flatten(value, context);\r\n\t\t\t\t}\r\n\r\n                return null;\r\n            },\r\n\r\n            unflatten: async function (value, context)\r\n            {\r\n\t\t\t\tif (value == null) return null;\r\n\r\n\t\t\t\tfor (let i of this.conditions)\r\n\t\t\t\t{\r\n\t\t\t\t\tif (i[0](this.value) === true)\r\n\t\t\t\t\t\treturn await i[1].unflatten(value, context);\r\n\t\t\t\t}\r\n\r\n                return null;\r\n            }\r\n\r\n        });\r\n\t}\r\n};\r\n\r\nexport default Schema;\r\n","/*\r\n**\trinn/flattenable.js\r\n**\r\n**\tCopyright (c) 2013-2022, RedStar Technologies, All rights reserved.\r\n**\thttps://rsthn.com/\r\n**\r\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\r\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \r\n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\r\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \r\n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \r\n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \r\n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\r\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n*/\r\n\r\nimport Class from './class.js';\r\n\r\n/**\r\n**\tClass used to add flattening and unflattening capabilities to any object. A \"flat\" object is an object composed\r\n**\tonly of native types, that is: `null,` `boolean`, `integer`, `number`, `array` or `object`.\r\n*/\r\n\r\nexport default Class.extend\r\n({\r\n\t/**\r\n\t**\tName of the class.\r\n\t*/\r\n\tclassName: \"Flattenable\",\r\n\r\n\t/**\r\n\t**\tType schema used to flatten/unflatten the contents of this class. See Schema class for more information.\r\n\t*/\r\n\ttypeSchema: null,\r\n\r\n\t/**\r\n\t**\tReturns the flattened contents of the object.\r\n\t*/\r\n\tflatten: function (context)\r\n\t{\r\n\t\treturn this.typeSchema.flatten(this, context);\r\n\t},\r\n\r\n\t/**\r\n\t**\tUnflattens the given object and overrides the local contents.\r\n\t*/\r\n\tunflatten: async function (value, context)\r\n\t{\r\n\t\tObject.assign(this, await this.typeSchema.unflatten(value, context));\r\n\t\tawait this.onUnflattened();\r\n\t\treturn this;\r\n\t},\r\n\r\n\t/*\r\n\t**\tExecuted when the unflatten() method is called on the object.\r\n\t*/\r\n\tonUnflattened: async function ()\r\n\t{\r\n\t}\r\n});\r\n","/*\r\n**\trinn/collection.js\r\n**\r\n**\tCopyright (c) 2013-2022, RedStar Technologies, All rights reserved.\r\n**\thttps://rsthn.com/\r\n**\r\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\r\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \r\n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\r\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \r\n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \r\n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \r\n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\r\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n*/\r\n\r\nimport Flattenable from './flattenable.js';\r\nimport Schema from './schema.js';\r\nimport Rinn from './alpha.js';\r\n\r\n/**\r\n**\tFlattenable collection class, used to store items and manipulate them. The items should also be flattenable.\r\n*/\r\n\r\nexport default Flattenable.extend\r\n({\r\n\t/**\r\n\t**\tName of the class.\r\n\t*/\r\n\tclassName: \"Collection\",\r\n\r\n\t/**\r\n\t**\tDescribes the type schema of the underlying items.\r\n\t*/\r\n\titemTypeSchema: null,\r\n\r\n\t/**\r\n\t**\tArray of items.\r\n\t*/\r\n\titems: null, /* Array */\r\n\r\n\t/**\r\n\t**\tConstructs the collection.\r\n\t*/\r\n\t__ctor: function (itemTypeSchema)\r\n\t{\r\n\t\tif (!itemTypeSchema) itemTypeSchema = this.itemTypeSchema;\r\n\r\n\t\tif (itemTypeSchema)\r\n\t\t\tthis.typeSchema = Schema.Property('items').is(Schema.Array().of(itemTypeSchema));\r\n\r\n\t\tthis.reset();\r\n\t},\r\n\r\n\t/*\r\n\t**\tExecuted after the collection has been unflattened, re-adds the items to ensure onItemAdded() is called.\r\n\t*/\r\n\tonUnflattened: function()\r\n\t{\r\n\t\tlet items = this.items;\r\n\t\tthis.reset();\r\n\r\n\t\tfor (let i of items)\r\n\t\t\tthis.add(i);\r\n\t},\r\n\r\n\t/**\r\n\t * \tExecuted when the value in `items` is changed.\r\n\t */\r\n\titemsReferenceChanged: function()\r\n\t{\r\n\t},\r\n\r\n\t/*\r\n\t**\tResets the collection to empty. Note that onItemRemoved will not be called.\r\n\t*/\r\n\treset: function ()\r\n\t{\r\n\t\tthis.items = [];\r\n\t\tthis.itemsReferenceChanged();\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t/*\r\n\t**\tClears the contents of the collection (removes each item manually, onItemRemoved will be called).\r\n\t*/\r\n\tclear: function ()\r\n\t{\r\n\t\tvar items = this.items;\r\n\t\tthis.reset();\r\n\r\n\t\tfor (var i = 0; i < items.length; i++)\r\n\t\t\tthis.onItemRemoved (items[i], 0);\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t/*\r\n\t**\tSorts the collection. A comparison function should be provided, or the name of a property to sort by.\r\n\t**\r\n\t**\tObject sort (fn: Function)\r\n\t**\tObject sort (prop: string, [desc:bool=false])\r\n\t*/\r\n\tsort: function (fn, desc)\r\n\t{\r\n\t\tif (typeof(fn) != \"function\")\r\n\t\t{\r\n\t\t\tthis.items.sort(function(a, b)\r\n\t\t\t{\r\n\t\t\t\treturn (a[fn] <= b[fn] ? -1 : 1) * (desc === true ? -1 : 1);\r\n\t\t\t});\r\n\t\t}\r\n\t\telse\r\n\t\t\tthis.items.sort(fn);\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t/*\r\n\t**\tSearches for an item with the specified fields and returns it. The \"inc\" object is the \"inclusive\" map, meaning all fields must match\r\n\t**\tand the optional \"exc\" is the exclusive map, meaning not even one field should match.\r\n\t**\r\n\t**\tObject findItem (inc: Object, exc: Object);\r\n\t*/\t\r\n\tfindItem: function (inc, exc)\r\n\t{\r\n\t\tif (!this.items) return null;\r\n\r\n\t\tfor (var i = 0; i < this.items.length; i++)\r\n\t\t{\r\n\t\t\tif (exc && Rinn.partialCompare(this.items[i], exc))\r\n\t\t\t\tcontinue;\r\n\r\n\t\t\tif (Rinn.partialCompare(this.items[i], inc))\r\n\t\t\t\treturn this.items[i];\r\n\t\t}\r\n\r\n\t\treturn null;\r\n\t},\r\n\r\n\t/*\r\n\t**\tReturns the container array.\r\n\t*/\r\n\tgetItems: function ()\r\n\t{\r\n\t\treturn this.items;\r\n\t},\r\n\r\n\t/*\r\n\t**\tReturns the number of items in the collection.\r\n\t*/\r\n\tlength: function ()\r\n\t{\r\n\t\treturn this.items.length;\r\n\t},\r\n\r\n\t/*\r\n\t**\tReturns true if the collection is empty.\r\n\t*/\r\n\tisEmpty: function ()\r\n\t{\r\n\t\treturn !this.items.length;\r\n\t},\r\n\r\n\t/*\r\n\t**\tReturns the index of the specified item, or -1 if not found.\r\n\t*/\r\n\tindexOf: function (item)\r\n\t{\r\n\t\treturn this.items.indexOf(item);\r\n\t},\r\n\r\n\t/*\r\n\t**\tReturns the item at the specified index, or null if not found. When `relative` is true, negative offsets are allowed such that -1 refers to the last item.\r\n\t*/\r\n\tgetAt: function (index, relative=false)\r\n\t{\r\n\t\tif (index < 0 && relative == true)\r\n\t\t\tindex += this.items.length;\r\n\r\n\t\treturn index >= 0 && index < this.items.length ? this.items[index] : null;\r\n\t},\r\n\r\n\t/*\r\n\t**\tReturns the first item in the collection.\r\n\t*/\r\n\tfirst: function ()\r\n\t{\r\n\t\treturn this.getAt(0);\r\n\t},\r\n\r\n\t/*\r\n\t**\tReturns the last item in the collection.\r\n\t*/\r\n\tlast: function ()\r\n\t{\r\n\t\treturn this.getAt(-1, true);\r\n\t},\r\n\r\n\t/*\r\n\t**\tAdds an item at the specified index, effectively moving the remaining items to the right.\r\n\t*/\r\n\taddAt: function (index, item)\r\n\t{\r\n\t\tif (!item || !this.onBeforeItemAdded (item))\r\n\t\t\treturn this;\r\n\r\n\t\tif (index < 0) index = 0;\r\n\t\tif (index > this.items.length) index = this.items.length;\r\n\r\n\t\tif (index == 0)\r\n\t\t{\r\n\t\t\tthis.items.unshift(item);\r\n\t\t}\r\n\t\telse if (index == this.items.length)\r\n\t\t{\r\n\t\t\tthis.items.push(item);\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tvar tmp = this.items.splice(0, index);\r\n\t\t\ttmp.push(item);\r\n\r\n\t\t\tthis.items = tmp.concat(this.items);\r\n\t\t\tthis.itemsReferenceChanged();\r\n\t\t}\r\n\r\n\t\tthis.onItemAdded (item);\r\n\t\treturn this;\r\n\t},\r\n\r\n\t/*\r\n\t**\tAdds an item to the start of the collection, onBeforeItemAdded and onItemAdded will be triggered.\r\n\t*/\r\n\tunshift: function (item)\r\n\t{\r\n\t\treturn this.addAt(0, item);\r\n\t},\r\n\r\n\t/*\r\n\t**\tAdds an item to the end of the collection, onBeforeItemAdded and onItemAdded will be triggered.\r\n\t*/\r\n\tpush: function (item)\r\n\t{\r\n\t\treturn this.addAt(this.items.length, item);\r\n\t},\r\n\r\n\t/*\r\n\t**\tAdds an item to the end of the collection, onBeforeItemAdded and onItemAdded will be triggered.\r\n\t*/\r\n\tadd: function (item)\r\n\t{\r\n\t\treturn this.push(item);\r\n\t},\r\n\r\n\t/*\r\n\t**\tRemoves the item at the specified index. When `relative` is true, negative offsets are allowed such that -1 refers to the last item.\r\n\t*/\r\n\tremoveAt: function (index, relative=false)\r\n\t{\r\n\t\tif (index < 0 && relative == true)\r\n\t\t\tindex += this.items.length;\r\n\r\n\t\tif (index < 0 || index >= this.items.length)\r\n\t\t\treturn null;\r\n\r\n\t\tvar item = this.items[index];\r\n\t\tthis.items.splice (index, 1);\r\n\t\tthis.onItemRemoved (item, index);\r\n\r\n\t\treturn item;\r\n\t},\r\n\r\n\t/*\r\n\t**\tRemoves an item from the end of the collection.\r\n\t*/\r\n\tpop: function (item)\r\n\t{\r\n\t\treturn this.removeAt(-1, true);\r\n\t},\r\n\r\n\t/*\r\n\t**\tRemoves an item from the start of the collection.\r\n\t*/\r\n\tshift: function (item)\r\n\t{\r\n\t\treturn this.removeAt(0);\r\n\t},\r\n\r\n\t/*\r\n\t**\tRemoves the specified item from the collection.\r\n\t*/\r\n\tremove: function (item)\r\n\t{\r\n\t\treturn this.removeAt (this.indexOf(item));\r\n\t},\r\n\r\n\t/*\r\n\t**\tRuns the specified callback for each of the items in the collection, if false is returned by the callback this function\r\n\t**\twill exit immediately. Parameters to the callback are: (item, index, collection).\r\n\t*/\r\n\tforEach: function (callback)\r\n\t{\r\n\t\tif (this.isEmpty())\r\n\t\t\treturn this;\r\n\r\n\t\tfor (var i = 0; i < this.items.length; i++)\r\n\t\t\tif (callback (this.items[i], i, this) === false) break;\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t/*\r\n\t**\tExecutes a method call with the specified parameters on each of the items in the collection, if false is returned by the\r\n\t**\titem's method this function will exit immediately.\r\n\t*/\r\n\tforEachCall: function (method, ...args)\r\n\t{\r\n\t\tif (this.isEmpty())\r\n\t\t\treturn this;\r\n\r\n\t\tfor (var i = 0; i < this.items.length; i++)\r\n\t\t\tif (this.items[i][method] (...args) === false) break;\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t/*\r\n\t**\tExactly the same as forEach but in reverse order.\r\n\t*/\r\n\tforEachRev: function (callback)\r\n\t{\r\n\t\tif (this.isEmpty())\r\n\t\t\treturn this;\r\n\r\n\t\tfor (var i = this.items.length-1; i >= 0; i--)\r\n\t\t\tif (callback (this.items[i], i, this) === false) break;\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t/*\r\n\t**\tExactly the same as forEachCall but in reverse order.\r\n\t*/\r\n\tforEachRevCall: function (method, ...args)\r\n\t{\r\n\t\tif (this.isEmpty())\r\n\t\t\treturn this;\r\n\r\n\t\tfor (var i = this.items.length-1; i >= 0; i--)\r\n\t\t\tif (this.items[i][method] (...args) === false) break;\r\n\r\n\t\treturn this;\r\n\t},\r\n\r\n\t/*\r\n\t**\tHandler for the beforeItemAdded event. If returns false the item will not be added.\r\n\t*/\r\n\tonBeforeItemAdded: function (item)\r\n\t{\r\n\t\treturn true;\r\n\t},\r\n\r\n\t/*\r\n\t**\tHandler for the itemAdded event.\r\n\t*/\r\n\tonItemAdded: function (item)\r\n\t{\r\n\t},\r\n\r\n\t/*\r\n\t**\tHandler for the itemRemoved event.\r\n\t*/\r\n\tonItemRemoved: function (item)\r\n\t{\r\n\t}\r\n});\r\n","/*\n**\trinn/template\n**\n**\tCopyright (c) 2013-2022, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport Rinn from './alpha.js';\n\n/**\n**\tTemplating module. The template formats available are shown below, note that the sym-open and sym-close symbols are by\n**\tdefault the square brackets, however those can be modified since are just parameters.\n**\n**\tHTML Escaped Output:\t\t\t[data.value]\t\t\t\t\tEscapes HTML characters from the output.\n**\tRaw Output:\t\t\t\t\t\t[!data.value]\t\t\t\t\tDoes not escape HTML characters from the output (used to output direct HTML).\n**\tDouble-Quoted Escaped Output:\t[data.value]\t\t\t\t\tEscapes HTML characters and surrounds with double quotes.\n**\tImmediate Reparse:\t\t\t\t[<....] [@....] \"...\" '...'\t\tReparses the contents as if parseTemplate() was called again.\n**\tImmediate Output:\t\t\t\t[:...]\t\t\t\t\t\t\tTakes the contents and outputs exactly as-is without format and optionally surrounded by the\n**\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsym-open and sym-close symbols when the first character is not '<', sym_open or space.\n**\tFiltered Output:\t\t\t\t[functionName ... <expr> ...]\tRuns a function call, 'expr' can be any of the allowed formats shown here (nested if desired),\n**\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfunctionName should map to one of the available expression functions registered in the\n**\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tRinn.Template.functions map, each of which have their own parameters.\n*/\n\nlet Template =\n{\n\t/*\n\t**\tStrict mode flag. When set, any undefined expression function will trigger an exception.\n\t*/\n\tstrict: false,\n\n\t/**\n\t**\tParses a template and returns the compiled 'parts' structure to be used by the 'expand' method.\n\t**\n\t**\t>> array parseTemplate (string template, char sym_open, char sym_close, bool is_tpl=false);\n\t*/\n\tparseTemplate: function (template, sym_open, sym_close, is_tpl=false, root=1)\n\t{\n\t\tlet nflush = 'string', flush = null, state = 0, count = 0;\n\t\tlet str = '', parts = [], mparts = parts, nparts = false;\n\n\t\tif (is_tpl === true)\n\t\t{\n\t\t\ttemplate = template.trim();\n\t\t\tnflush = 'identifier';\n\t\t\tstate = 10;\n\n\t\t\tmparts.push(parts = []);\n\t\t}\n\n\t\ttemplate += \"\\0\";\n\n\t\tfunction unescape (value)\n\t\t{\n\t\t\tif (typeof(value) == 'object')\n\t\t\t{\n\t\t\t\tif (value instanceof Array)\n\t\t\t\t{\n\t\t\t\t\tfor (let i = 0; i < value.length; i++)\n\t\t\t\t\t\tunescape(value[i]);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tvalue.data = unescape(value.data);\n\t\t\t\t}\n\n\t\t\t\treturn value;\n\t\t\t}\n\n\t\t\tfor (let i = 0; i < value.length; i++)\n\t\t\t{\n\t\t\t\tif (value[i] == '\\\\')\n\t\t\t\t{\n\t\t\t\t\tlet r = value[i+1];\n\n\t\t\t\t\tswitch (r)\n\t\t\t\t\t{\n\t\t\t\t\t\tcase 'n': r = \"\\n\"; break;\n\t\t\t\t\t\tcase 'r': r = \"\\r\"; break;\n\t\t\t\t\t\tcase 'f': r = \"\\f\"; break;\n\t\t\t\t\t\tcase 'v': r = \"\\v\"; break;\n\t\t\t\t\t\tcase 't': r = \"\\t\"; break;\n\t\t\t\t\t\tcase 's': r = \"\\s\"; break;\n\t\t\t\t\t\tcase '\"': r = \"\\\"\"; break;\n\t\t\t\t\t\tcase \"'\": r = \"\\'\"; break;\n\t\t\t\t\t}\n\n\t\t\t\t\tvalue = value.substr(0, i) + r + value.substr(i+2);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn value;\n\t\t}\n\n\t\tfunction emit (type, data)\n\t\t{\n\t\t\tif (type == 'template')\n\t\t\t{\n\t\t\t\tdata = Template.parseTemplate (data, sym_open, sym_close, true, 0);\n\t\t\t}\n\t\t\telse if (type == 'parse')\n\t\t\t{\n\t\t\t\tdata = Template.parseTemplate (data, sym_open, sym_close, false, 0);\n\t\t\t\ttype = 'base-string';\n\n\t\t\t\tif (Rinn.typeOf(data) == 'array')\n\t\t\t\t{\n\t\t\t\t\ttype = data[0].type;\n\t\t\t\t\tdata = data[0].data;\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (type == 'parse-trim-merge')\n\t\t\t{\n\t\t\t\tdata = Template.parseTemplate (data.trim().split('\\n').map(i => i.trim()).join(\"\\n\"), sym_open, sym_close, false, 0);\n\t\t\t}\n\t\t\telse if (type == 'parse-merge')\n\t\t\t{\n\t\t\t\tdata = Template.parseTemplate (data, sym_open, sym_close, false, 0);\n\t\t\t}\n\t\t\telse if (type == 'parse-merge-alt')\n\t\t\t{\n\t\t\t\tdata = Template.parseTemplate (data, '{', '}', false, 0);\n\t\t\t}\n\n\t\t\tif (type == 'parse-merge' || type == 'parse-merge-alt' || type == 'parse-trim-merge')\n\t\t\t{\n\t\t\t\tfor (let i = 0; i < data.length; i++)\n\t\t\t\t{\n\t\t\t\t\tparts.push(data[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t\tparts.push({ type: type, data: data });\n\n\t\t\tif (nparts)\n\t\t\t{\n\t\t\t\tmparts.push(parts = []);\n\t\t\t\tnparts = false;\n\t\t\t}\n\t\t}\n\n\t\tfor (let i = 0; i < template.length; i++)\n\t\t{\n\t\t\tif (template[i] == '\\\\')\n\t\t\t{\n\t\t\t\tstr += '\\\\';\n\t\t\t\tstr += template[++i];\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tswitch (state)\n\t\t\t{\n\t\t\t\tcase 0:\n\t\t\t\t\tif (template[i] == '\\0')\n\t\t\t\t\t{\n\t\t\t\t\t\tflush = 'string';\n\t\t\t\t\t}\n\t\t\t\t\telse if (template[i] == sym_open && template[i+1] == '<')\n\t\t\t\t\t{\n\t\t\t\t\t\tstate = 1; count = 1;\n\t\t\t\t\t\tflush = 'string';\n\t\t\t\t\t\tnflush = 'parse-merge';\n\t\t\t\t\t}\n\t\t\t\t\telse if (template[i] == sym_open && template[i+1] == '@')\n\t\t\t\t\t{\n\t\t\t\t\t\tstate = 1; count = 1;\n\t\t\t\t\t\tflush = 'string';\n\t\t\t\t\t\tnflush = 'parse-trim-merge';\n\t\t\t\t\t\ti++;\n\t\t\t\t\t}\n\t\t\t\t\telse if (template[i] == sym_open && template[i+1] == ':')\n\t\t\t\t\t{\n\t\t\t\t\t\tstate = 12; count = 1;\n\t\t\t\t\t\tflush = 'string';\n\t\t\t\t\t\tnflush = 'string';\n\t\t\t\t\t\ti++;\n\t\t\t\t\t}\n\t\t\t\t\telse if (template[i] == sym_open)\n\t\t\t\t\t{\n\t\t\t\t\t\tstate = 1; count = 1;\n\t\t\t\t\t\tflush = 'string';\n\t\t\t\t\t\tnflush = 'template';\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tstr += template[i];\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\t\n\t\t\t\tcase 1:\n\t\t\t\t\tif (template[i] == '\\0')\n\t\t\t\t\t{\n\t\t\t\t\t\tthrow new Error (\"Parse error: Unexpected end of template\");\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (template[i] == sym_close)\n\t\t\t\t\t{\n\t\t\t\t\t\tcount--;\n\t\n\t\t\t\t\t\tif (count < 0)\n\t\t\t\t\t\t\tthrow new Error (\"Parse error: Unmatched \" + sym_close);\n\n\t\t\t\t\t\tif (count == 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tstate = 0;\n\t\t\t\t\t\t\tflush = nflush;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse if (template[i] == sym_open)\n\t\t\t\t\t{\n\t\t\t\t\t\tcount++;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tstr += template[i];\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 10:\n\t\t\t\t\tif (template[i] == '\\0')\n\t\t\t\t\t{\n\t\t\t\t\t\tflush = nflush;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\telse if (template[i] == '.')\n\t\t\t\t\t{\n\t\t\t\t\t\temit (nflush, str);\n\t\t\t\t\t\temit ('access', '.');\n\n\t\t\t\t\t\tnflush = 'identifier';\n\t\t\t\t\t\tstr = '';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\telse if (template[i].match(/[\\t\\n\\r\\f\\v ]/) != null)\n\t\t\t\t\t{\n\t\t\t\t\t\tflush = nflush;\n\t\t\t\t\t\tnflush = 'identifier';\n\t\t\t\t\t\tnparts = true;\n\n\t\t\t\t\t\twhile (template[i].match(/[\\t\\n\\r\\f\\v ]/) != null) i++;\n\t\t\t\t\t\ti--;\n\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\telse if (template[i] == sym_open && template[i+1] == '<')\n\t\t\t\t\t{\n\t\t\t\t\t\tif (str) flush = nflush;\n\t\t\t\t\t\tstate = 11; count = 1; nflush = 'parse-merge';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\telse if (template[i] == sym_open && template[i+1] == '@')\n\t\t\t\t\t{\n\t\t\t\t\t\tif (str) flush = nflush;\n\t\t\t\t\t\tstate = 11; count = 1; nflush = 'parse-trim-merge';\n\t\t\t\t\t\ti++;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\telse if (template[i] == '\"')\n\t\t\t\t\t{\n\t\t\t\t\t\tif (str) flush = nflush;\n\t\t\t\t\t\tstate = 14; count = 1; nflush = 'parse-merge';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\telse if (template[i] == '\\'')\n\t\t\t\t\t{\n\t\t\t\t\t\tif (str) flush = nflush;\n\t\t\t\t\t\tstate = 15; count = 1; nflush = 'parse-merge';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\telse if (template[i] == '`')\n\t\t\t\t\t{\n\t\t\t\t\t\tif (str) flush = nflush;\n\t\t\t\t\t\tstate = 16; count = 1; nflush = 'parse-merge-alt';\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\telse if (template[i] == sym_open && template[i+1] == ':')\n\t\t\t\t\t{\n\t\t\t\t\t\tif (str) flush = nflush;\n\t\t\t\t\t\tstate = 13; count = 1; nflush = 'string';\n\t\t\t\t\t\ti++;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\telse if (template[i] == sym_open)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (str) emit (nflush, str);\n\t\t\t\t\t\tstate = 11; count = 1; str = ''; nflush = 'parse';\n\t\t\t\t\t\tstr += template[i];\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (nflush != 'identifier')\n\t\t\t\t\t{\n\t\t\t\t\t\temit (nflush, str);\n\t\t\t\t\t\tstr = '';\n\t\t\t\t\t\tnflush = 'identifier';\n\t\t\t\t\t}\n\n\t\t\t\t\tstr += template[i];\n\t\t\t\t\tbreak;\n\t\n\t\t\t\tcase 11:\n\t\t\t\t\tif (template[i] == '\\0')\n\t\t\t\t\t\tthrow new Error (\"Parse error: Unexpected end of template\");\n\t\n\t\t\t\t\tif (template[i] == sym_close)\n\t\t\t\t\t{\n\t\t\t\t\t\tcount--;\n\t\n\t\t\t\t\t\tif (count < 0)\n\t\t\t\t\t\t\tthrow new Error (\"Parse error: Unmatched \" + sym_close);\n\n\t\t\t\t\t\tif (count == 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tstate = 10;\n\t\n\t\t\t\t\t\t\tif (nflush == 'parse-merge' || nflush == 'parse-merge-alt' || nflush == 'parse-trim-merge')\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse if (template[i] == sym_open)\n\t\t\t\t\t{\n\t\t\t\t\t\tcount++;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tstr += template[i];\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 12:\n\t\t\t\t\tif (template[i] == '\\0')\n\t\t\t\t\t\tthrow new Error (\"Parse error: Unexpected end of template\");\n\t\n\t\t\t\t\tif (template[i] == sym_close)\n\t\t\t\t\t{\n\t\t\t\t\t\tcount--;\n\t\n\t\t\t\t\t\tif (count < 0)\n\t\t\t\t\t\t\tthrow new Error (\"Parse error: Unmatched \" + sym_close);\n\n\t\t\t\t\t\tif (count == 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (str.length != 0)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tif (!(str[0] == '<' || str[0] == '[' || str[0] == ' '))\n\t\t\t\t\t\t\t\t\tstr = sym_open + str + sym_close;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tstate = 0;\n\t\t\t\t\t\t\tflush = nflush;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse if (template[i] == sym_open)\n\t\t\t\t\t{\n\t\t\t\t\t\tcount++;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tstr += template[i];\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 13:\n\t\t\t\t\tif (template[i] == '\\0')\n\t\t\t\t\t\tthrow new Error (\"Parse error: Unexpected end of template\");\n\n\t\t\t\t\tif (template[i] == sym_close)\n\t\t\t\t\t{\n\t\t\t\t\t\tcount--;\n\t\n\t\t\t\t\t\tif (count < 0)\n\t\t\t\t\t\t\tthrow new Error (\"Parse error: Unmatched \" + sym_close);\n\n\t\t\t\t\t\tif (count == 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (!(str[0] == '<' || str[0] == '[' || str[0] == ' '))\n\t\t\t\t\t\t\t\tstr = sym_open + str + sym_close;\n\n\t\t\t\t\t\t\tstate = 10;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse if (template[i] == sym_open)\n\t\t\t\t\t{\n\t\t\t\t\t\tcount++;\n\t\t\t\t\t}\n\t\n\t\t\t\t\tstr += template[i];\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 14:\n\t\t\t\t\tif (template[i] == '\\0')\n\t\t\t\t\t{\n\t\t\t\t\t\tthrow new Error (\"Parse error: Unexpected end of template\");\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (template[i] == '\"')\n\t\t\t\t\t{\n\t\t\t\t\t\tcount--;\n\t\n\t\t\t\t\t\tif (count < 0)\n\t\t\t\t\t\t\tthrow new Error (\"Parse error: Unmatched \" + '\"');\n\n\t\t\t\t\t\tif (count == 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tstate = 10;\n\t\n\t\t\t\t\t\t\tif (nflush == 'parse-merge' || nflush == 'parse-merge-alt' || nflush == 'parse-trim-merge')\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tstr += template[i];\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 15:\n\t\t\t\t\tif (template[i] == '\\0')\n\t\t\t\t\t{\n\t\t\t\t\t\tthrow new Error (\"Parse error: Unexpected end of template\");\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (template[i] == '\\'')\n\t\t\t\t\t{\n\t\t\t\t\t\tcount--;\n\t\n\t\t\t\t\t\tif (count < 0)\n\t\t\t\t\t\t\tthrow new Error (\"Parse error: Unmatched \" + '\\'');\n\n\t\t\t\t\t\tif (count == 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tstate = 10;\n\t\n\t\t\t\t\t\t\tif (nflush == 'parse-merge' || nflush == 'parse-merge-alt' || nflush == 'parse-trim-merge')\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tstr += template[i];\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 16:\n\t\t\t\t\tif (template[i] == '\\0')\n\t\t\t\t\t{\n\t\t\t\t\t\tthrow new Error (\"Parse error: Unexpected end of template\");\n\t\t\t\t\t}\n\t\n\t\t\t\t\tif (template[i] == '`')\n\t\t\t\t\t{\n\t\t\t\t\t\tcount--;\n\t\n\t\t\t\t\t\tif (count < 0)\n\t\t\t\t\t\t\tthrow new Error (\"Parse error: Unmatched \" + '`');\n\n\t\t\t\t\t\tif (count == 0)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tstate = 10;\n\t\n\t\t\t\t\t\t\tif (nflush == 'parse-merge' || nflush == 'parse-merge-alt' || nflush == 'parse-trim-merge')\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tstr += template[i];\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (flush)\n\t\t\t{\n\t\t\t\temit (flush, str);\n\t\t\t\tflush = str = '';\n\t\t\t}\n\t\t}\n\n\t\tif (!is_tpl)\n\t\t{\n\t\t\tlet i = 0;\n\t\t\twhile (i < mparts.length)\n\t\t\t{\n\t\t\t\tif (mparts[i].type == 'string' && mparts[i].data == '')\n\t\t\t\t\tmparts.splice(i, 1);\n\t\t\t\telse\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\ti = mparts.length-1;\n\t\t\twhile (i > 0)\n\t\t\t{\n\t\t\t\tif (mparts[i].type == 'string' && mparts[i].data == '')\n\t\t\t\t\tmparts.splice(i--, 1);\n\t\t\t\telse\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (mparts.length == 0)\n\t\t\t\tmparts.push({ type: 'string', data: '' });\n\t\t}\n\n\t\tif (root)\n\t\t\tunescape(mparts);\n\n\t\treturn mparts;\n\t},\n\n\t/**\n\t**\tParses a template and returns the compiled 'parts' structure to be used by the 'expand' method. This\n\t**\tversion assumes the sym_open and sym_close chars are [ and ] respectively.\n\t**\n\t**\t>> array parse (string template);\n\t*/\n\tparse: function (template)\n\t{\n\t\treturn this.parseTemplate(template.trim(), '[', ']', false);\n\t},\n\n\t/**\n\t**\tRemoves all static parts from a parsed template.\n\t**\n\t**\t>> array clean (array parts);\n\t*/\n\tclean: function (parts)\n\t{\n\t\tfor (let i = 0; i < parts.length; i++)\n\t\t{\n\t\t\tif (parts[i].type != 'template')\n\t\t\t{\n\t\t\t\tparts.splice(i, 1);\n\t\t\t\ti--;\n\t\t\t}\n\t\t}\n\n\t\treturn parts;\n\t},\n\n\t/**\n\t**\tExpands a template using the given data object, ret can be set to 'text' or 'obj' allowing to expand the template as\n\t**\ta string (text) or an array of objects (obj) respectively. If none provided it will be expanded as text.\n\t**\n\t**\t>> string/array expand (array parts, object data, string ret='text', string mode='base-string');\n\t*/\n\texpand: function (parts, data, ret='text', mode='base-string')\n\t{\n\t\tlet s = [];\n\n\t\t// Expand variable parts.\n\t\tif (mode == 'var')\n\t\t{\n\t\t\tlet escape = true;\n\t\t\tlet quote = false;\n\n\t\t\tlet root = data;\n\t\t\tlet last = null;\n\t\t\tlet first = true;\n\t\t\tlet str = '';\n\n\t\t\tfor (let i = 0; i < parts.length && data != null; i++)\n\t\t\t{\n\t\t\t\tswitch (parts[i].type)\n\t\t\t\t{\n\t\t\t\t\tcase 'identifier':\n\t\t\t\t\tcase 'string':\n\t\t\t\t\t\tstr += parts[i].data;\n\t\t\t\t\t\tlast = null;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'template':\n\t\t\t\t\t\tlast = this.expand(parts[i].data, root, 'arg', 'template');\n\t\t\t\t\t\tstr += typeof(last) != 'object' ? last : '';\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'base-string':\n\t\t\t\t\t\tstr += this.expand(parts[i].data, root, 'arg', 'base-string');\n\t\t\t\t\t\tlast = null;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'access':\n\t\t\t\t\t\tif (!last || typeof(last) != 'object')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (str == '') str = 'this';\n\n\t\t\t\t\t\t\twhile (true)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tif (str[0] == '!')\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tstr = str.substr(1);\n\t\t\t\t\t\t\t\t\tescape = false;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse if (str[0] == '$')\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tstr = str.substr(1);\n\t\t\t\t\t\t\t\t\tquote = true;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (str != 'this' && data != null)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlet tmp = data;\n\t\t\t\t\t\t\t\tdata = (str in data) ? data[str] : null;\n\n\t\t\t\t\t\t\t\tif (data === null && first)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tif (str in Template.functions)\n\t\t\t\t\t\t\t\t\t\tdata = Template.functions[str] (null, null, tmp);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tfirst = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tdata = last;\n\n\t\t\t\t\t\tstr = '';\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\twhile (str != '')\n\t\t\t{\n\t\t\t\tif (str[0] == '!')\n\t\t\t\t{\n\t\t\t\t\tstr = str.substr(1);\n\t\t\t\t\tescape = false;\n\t\t\t\t}\n\t\t\t\telse if (str[0] == '$')\n\t\t\t\t{\n\t\t\t\t\tstr = str.substr(1);\n\t\t\t\t\tquote = true;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (str != 'this')\n\t\t\t{\n\t\t\t\tlet failed = false;\n\n\t\t\t\tif (data != null)\n\t\t\t\t{\n\t\t\t\t\tif (!(str in data))\n\t\t\t\t\t{\n\t\t\t\t\t\tfailed = true;\n\t\t\t\t\t\tdata = null;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\tdata = data[str];\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\tfailed = true;\n\n\t\t\t\tif (failed && parts.length == 1)\n\t\t\t\t{\n\t\t\t\t\tif (Template.strict == true)\n\t\t\t\t\t\tthrow new Error ('Expression function `'+str+'` not found.');\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (typeof(data) == 'string')\n\t\t\t{\n\t\t\t\tif (escape)\n\t\t\t\t\tdata = data.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\");\n\n\t\t\t\tif (quote)\n\t\t\t\t\tdata = '\"' + data + '\"';\n\t\t\t}\n\n\t\t\ts.push(data);\n\t\t}\n\n\t\t// Expand variable parts and returns a reference to it.\n\t\tif (ret == 'varref')\n\t\t{\n\t\t\tlet root = data;\n\t\t\tlet last = null;\n\t\t\tlet first = true;\n\t\t\tlet str = '';\n\n\t\t\tfor (let i = 0; i < parts.length && data != null; i++)\n\t\t\t{\n\t\t\t\tswitch (parts[i].type)\n\t\t\t\t{\n\t\t\t\t\tcase 'identifier':\n\t\t\t\t\tcase 'string':\n\t\t\t\t\t\tstr += parts[i].data;\n\t\t\t\t\t\tlast = null;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'template':\n\t\t\t\t\t\tlast = this.expand(parts[i].data, root, 'arg', 'template');\n\t\t\t\t\t\tstr += typeof(last) != 'object' ? last : '';\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'base-string':\n\t\t\t\t\t\tstr += this.expand(parts[i].data, root, 'arg', 'base-string');\n\t\t\t\t\t\tlast = null;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'access':\n\t\t\t\t\t\tif (!last || typeof(last) != 'object')\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (str == '') str = 'this';\n\n\t\t\t\t\t\t\twhile (true)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tif (str[0] == '!')\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tstr = str.substr(1);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse if (str[0] == '$')\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tstr = str.substr(1);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif (str != 'this' && data != null)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tlet tmp = data;\n\t\t\t\t\t\t\t\tdata = (str in data) ? data[str] : null;\n\n\t\t\t\t\t\t\t\tif (data === null && first)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tif (str in Template.functions)\n\t\t\t\t\t\t\t\t\t\tdata = Template.functions[str] (null, null, tmp);\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t\tfirst = false;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t\tdata = last;\n\n\t\t\t\t\t\tstr = '';\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\twhile (str != '')\n\t\t\t{\n\t\t\t\tif (str[0] == '!')\n\t\t\t\t{\n\t\t\t\t\tstr = str.substr(1);\n\t\t\t\t}\n\t\t\t\telse if (str[0] == '$')\n\t\t\t\t{\n\t\t\t\t\tstr = str.substr(1);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\treturn str != 'this' ? [data, str] : null;\n\t\t}\n\n\t\t// Expand function parts.\n\t\tif (mode == 'fn')\n\t\t{\n\t\t\tvar args = [];\n\n\t\t\targs.push(Template.expand(parts[0], data, 'text', 'base-string'));\n\n\t\t\tif ('_'+args[0] in Template.functions)\n\t\t\t\targs[0] = '_'+args[0];\n\n\t\t\tif (!(args[0] in Template.functions))\n\t\t\t{\n\t\t\t\tif (Template.strict == true)\n\t\t\t\t\tthrow new Error ('Expression function `'+args[0]+'` not found.');\n\n\t\t\t\treturn `(Unknown: ${args[0]})`;\n\t\t\t}\n\n\t\t\tif (args[0][0] == '_')\n\t\t\t\treturn Template.functions[args[0]] (parts, data);\n\n\t\t\tfor (let i = 1; i < parts.length; i++)\n\t\t\t\targs.push(Template.expand(parts[i], data, 'arg', 'base-string'));\n\n\t\t\ts.push(Template.functions[args[0]] (args, parts, data));\n\t\t}\n\n\t\t// Template mode.\n\t\tif (mode == 'template')\n\t\t{\n\t\t\tif (parts.length == 1)\n\t\t\t{\n\t\t\t\tif (parts[0].length == 1 && parts[0][0].type == 'string')\n\t\t\t\t\treturn parts[0][0].data;\n\n\t\t\t\tif (parts[0].length == 1 && parts[0][0].type == 'identifier')\n\t\t\t\t{\n\t\t\t\t\tlet name = parts[0][0].data;\n\n\t\t\t\t\tif (name in Template.functions || '_'+name in Template.functions)\n\t\t\t\t\t\treturn Template.expand(parts, data, ret, 'fn');\n\t\t\t\t}\n\t\n\t\t\t\treturn Template.expand(parts[0], data, ret, 'var');\n\t\t\t}\n\n\t\t\treturn Template.expand(parts, data, ret, 'fn');\n\t\t}\n\n\t\t// Expand parts.\n\t\tif (mode == 'base-string')\n\t\t{\n\t\t\tlet index = -1;\n\n\t\t\tfor (let i of parts)\n\t\t\t{\n\t\t\t\tlet tmp = null;\n\t\t\t\tindex++;\n\n\t\t\t\tswitch (i.type)\n\t\t\t\t{\n\t\t\t\t\tcase 'template':\n\t\t\t\t\t\ttmp = Template.expand(i.data, data, ret, 'template');\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'string': case 'identifier':\n\t\t\t\t\t\ttmp = i.data;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'base-string':\n\t\t\t\t\t\ttmp = Template.expand(i.data, data, ret, 'base-string');\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (ret == 'void')\n\t\t\t\t\tcontinue;\n\n\t\t\t\tif (ret == 'last' && index != parts.length-1)\n\t\t\t\t\tcontinue;\n\n\t\t\t\ts.push(tmp);\n\t\t\t}\n\t\t}\n\n\t\t// Return types for direct objects.\n\t\tif (ret == 'obj') return s;\n\n\t\tif (ret == 'last')\n\t\t{\n\t\t\tif (typeOf(s) == 'Rose\\\\Arry')\n\t\t\t\ts = s[0];\n\n\t\t\treturn s;\n\t\t}\n\n\t\t// When the output is not really needed.\n\t\tif (ret == 'void') return null;\n\n\t\t// Return as argument ('object' if only one, or string if more than one), that is, the first item in the result.\n\t\tif (ret == 'arg')\n\t\t{\n\t\t\tif (Rinn.typeOf(s) == 'array')\n\t\t\t{\n\t\t\t\tif (s.length != 1)\n\t\t\t\t\treturn s.join('');\n\n\t\t\t\treturn s[0];\n\t\t\t}\n\n\t\t\treturn s;\n\t\t}\n\n\t\tif (ret == 'text' && Rinn.typeOf(s) == 'array')\n\t\t{\n\t\t\tlet f = (e => e != null && typeof(e) == 'object' ? ('map' in e ? e.map(f).join('') : ('join' in e ? e.join('') : e.toString())) : e);\n\t\t\ts = s.map(f).join('');\n\t\t}\n\n\t\treturn s;\n\t},\n\n\t/**\n\t**\tParses the given template and returns a function that when called with an object will expand the template.\n\t**\n\t**\t>> object compile (string template);\n\t*/\n\tcompile: function (template)\n\t{\n\t\ttemplate = Template.parse(template);\n\n\t\treturn function (data=null, mode='text') {\n\t\t\treturn Template.expand(template, data ? data : { }, mode);\n\t\t};\n\t},\n\n\t/**\n\t**\tParses and expands the given template immediately.\n\t**\n\t**\t>> object eval (string template, object data, string mode='text');\n\t*/\n\teval: function (template, data=null, mode='text')\n\t{\n\t\ttemplate = Template.parse(template);\n\t\treturn Template.expand(template, data ? data : { }, mode);\n\t},\n\n\t/**\n\t**\tExpands the template as 'arg' and returns the result.\n\t**\n\t**\t>> object value (string parts, object data);\n\t*/\n\tvalue: function (parts, data=null)\n\t{\n\t\treturn Rinn.typeOf(parts) != 'array' ? parts : Template.expand(parts, data ? data : { }, 'arg');\n\t},\n\n\t/**\n\t**\tRegisters an expression function.\n\t**\n\t**\t>> object register (string name, function fn);\n\t*/\n\tregister: function (name, fn)\n\t{\n\t\tTemplate.functions[name] = fn;\n\t},\n\n\t/**\n\t**\tCalls an expression function.\n\t**\n\t**\t>> object call (string name, object args, object data);\n\t*/\n\t'call': function (name, args, data=null)\n\t{\n\t\tif (name in Template.functions)\n\t\t\treturn Template.functions[name] (args, null, data);\n\n\t\treturn null;\n\t},\n\n\t/**\n\t**\tReturns a map given a 'parts' array having values of the form \"name: value\" or \":name value\".\n\t**\n\t**\t>> Map getNamedValues (array parts, object data, int i=1, bool expanded=true);\n\t*/\n\tgetNamedValues: function (parts, data, i=1, expanded=true)\n\t{\n\t\tlet s = { };\n\t\tlet mode = 0;\n\t\n\t\tfor (; i < parts.length; i += 2)\n\t\t{\n\t\t\tlet key = Template.expand(parts[i], data, 'arg');\n\n\t\t\tif (!mode) {\n\t\t\t\tif (key.startsWith(':')) mode = 1; else mode = key.endsWith(':') ? 2 : 3;\n\t\t\t}\n\n\t\t\tif (mode == 1)\n\t\t\t\tkey = key.substr(1);\n\t\t\telse if (mode == 2)\n\t\t\t\tkey = key.substr(0, key.length-1);\n\n\t\t\tif (expanded)\n\t\t\t\ts[key] = Template.expand(parts[i+1], data, 'arg');\n\t\t\telse\n\t\t\t\ts[key] = parts[i+1];\n\t\t}\n\n\t\treturn s;\n\t}\n};\n\n\n/**\n**\tTemplate functions, functions that are used to format data. Each function takes three parameters (args, parts and data). By default the function arguments\n**\tare expanded and passed via 'args' for convenience, however if the function name starts with '_' the 'args' parameter will be skipped and only (parts, data)\n**\twill be available, each 'part' must be expanded manually by calling Template.expand.\n*/\n\nTemplate.functions =\n{\n\t/**\n\t**\tExpression functions.\n\t*/\n\t'global': function(args) { return globalThis; },\n\t'null': function(args) { return null; },\n\t'true': function(args) { return true; },\n\t'false': function(args) { return false; },\n\n\t'len': function(args) { return args[1].toString().length; },\n\t'int': function(args) { return ~~args[1]; },\n\t'str': function(args) { return args[1].toString(); },\n\t'float': function(args) { return parseFloat(args[1]); },\n\t'chr': function(args) { return String.fromCharCode(args[1]); },\n\t'ord': function(args) { return args[1].toString().charCodeAt(0); },\n\n\t'not': function(args) { return !args[1]; },\n\t'neg': function(args) { return -args[1]; },\n\t'abs': function(args) { return Math.abs(args[1]); },\n\n\t'and': function(args) { for (let i = 1; i < args.length; i++) if (!args[i]) return false; return true; },\n\t'or': function(args) { for (let i = 1; i < args.length; i++) if (~~args[i]) return true; return false; },\n\n\t'eq': function(args) { return args[1] == args[2]; },\n\t'ne': function(args) { return args[1] != args[2]; },\n\t'lt': function(args) { return args[1] < args[2]; },\n\t'le': function(args) { return args[1] <= args[2]; },\n\t'gt': function(args) { return args[1] > args[2]; },\n\t'ge': function(args) { return args[1] >= args[2]; },\n\t'isnotnull': function(args) { return !!args[1]; },\n\t'isnull': function(args) { return !args[1]; },\n\t'iszero': function(args) { return parseInt(args[1]) == 0; },\n\n\t'eq?': function(args) { return args[1] == args[2]; },\n\t'ne?': function(args) { return args[1] != args[2]; },\n\t'lt?': function(args) { return args[1] < args[2]; },\n\t'le?': function(args) { return args[1] <= args[2]; },\n\t'gt?': function(args) { return args[1] > args[2]; },\n\t'ge?': function(args) { return args[1] >= args[2]; },\n\t'notnull?': function(args) { return !!args[1]; },\n\t'null?': function(args) { return !args[1]; },\n\t'zero?': function(args) { return parseInt(args[1]) == 0; },\n\n\t'typeof': function(args) { return Rinn.typeOf(args[1]); },\n\n\t'*': function(args) { let x = args[1]; for (let i = 2; i < args.length; i++) x *= args[i]; return x; },\n\t'/': function(args) { let x = args[1]; for (let i = 2; i < args.length; i++) x /= args[i]; return x; },\n\t'+': function(args) { let x = args[1]; for (let i = 2; i < args.length; i++) x -= -args[i]; return x; },\n\t'-': function(args) { let x = args[1]; for (let i = 2; i < args.length; i++) x -= args[i]; return x; },\n\t'mul': function(args) { let x = args[1]; for (let i = 2; i < args.length; i++) x *= args[i]; return x; },\n\t'div': function(args) { let x = args[1]; for (let i = 2; i < args.length; i++) x /= args[i]; return x; },\n\t'sum': function(args) { let x = args[1]; for (let i = 2; i < args.length; i++) x -= -args[i]; return x; },\n\t'sub': function(args) { let x = args[1]; for (let i = 2; i < args.length; i++) x -= args[i]; return x; },\n\t'mod': function(args) { let x = args[1]; for (let i = 2; i < args.length; i++) x %= args[i]; return x; },\n\t'pow': function(args) { let x = args[1]; for (let i = 2; i < args.length; i++) x = Math.pow(x, args[i]); return x; },\n\n\t/**\n\t**\tReturns the JSON representation of the expression.\n\t**\n\t**\tdump <expr>\n\t*/\n\t'dump': function (args)\n\t{\n\t\treturn JSON.stringify(args[1]);\n\t},\n\n\t/**\n\t**\tSets one or more variables in the data context.\n\t**\n\t**\tset <var-name> <expr> [<var-name> <expr>]*\n\t*/\n\t'_set': function (parts, data)\n\t{\n\t\tfor (let i = 1; i+1 < parts.length; i += 2)\n\t\t{\n\t\t\tlet value = Template.value(parts[i+1], data);\n\n\t\t\tif (parts[i].length > 1)\n\t\t\t{\n\t\t\t\tlet ref = Template.expand(parts[i], data, 'varref');\n\t\t\t\tif (ref != null) ref[0][ref[1]] = value;\n\t\t\t}\n\t\t\telse\n\t\t\t\tdata[Template.value(parts[i], data)] = value;\n\t\t}\n\n\t\treturn '';\n\t},\n\n\t/**\n\t**\tRemoves one or more variables from the data context.\n\t**\n\t**\tunset <var-name> [<var-name>]*\n\t*/\n\t'_unset': function (parts, data)\n\t{\n\t\tfor (let i = 1; i < parts.length; i++)\n\t\t{\n\t\t\tif (parts[i].length > 1)\n\t\t\t{\n\t\t\t\tlet ref = Template.expand(parts[i], data, 'varref');\n\t\t\t\tif (ref != null) delete ref[0][ref[1]];\n\t\t\t}\n\t\t\telse\n\t\t\t\tdelete data[Template.value(parts[i], data)];\n\t\t}\n\n\t\treturn null;\n\t},\n\n\n\t/**\n\t**\tReturns the expression without white-space on the left or right. The expression can be a string or an array.\n\t**\n\t**\ttrim <expr>\n\t*/\n\t'trim': function (args)\n\t{\n\t\treturn args[1] ? (typeof(args[1]) == \"object\" ? args[1].map(e => e.trim()) : args[1].trim()) : '';\n\t},\n\n\t/**\n\t**\tReturns the expression in uppercase. The expression can be a string or an array.\n\t**\n\t**\tupper <expr>\n\t*/\n\t'upper': function (args)\n\t{\n\t\treturn args[1] ? (typeof(args[1]) == \"object\" ? args[1].map(e => e.toUpperCase()) : args[1].toUpperCase()) : '';\n\t},\n\n\t/**\n\t**\tReturns the expression in lower. The expression can be a string or an array.\n\t**\n\t**\tlower <expr>\n\t*/\n\t'lower': function (args)\n\t{\n\t\treturn args[1] ? (typeof(args[1]) == \"object\" ? args[1].map(e => e.toLowerCase()) : args[1].toLowerCase()) : '';\n\t},\n\n\t/**\n\t**\tReturns a sub-string of the given string.\n\t**\n\t**\tsubstr <start> <count> <string>\n\t**\tsubstr <start> <string>\n\t*/\n\t'substr': function (args)\n\t{\n\t\tlet s = args[args.length-1].toString();\n\n\t\tlet start = 0;\n\t\tlet count = null;\n\n\t\tif (args.length == 4)\n\t\t{\n\t\t\tstart = ~~(args[1]);\n\t\t\tcount = ~~(args[2]);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tstart = ~~(args[1]);\n\t\t\tcount = null;\n\t\t}\n\n\t\tif (start < 0) start += s.length;\n\t\tif (count < 0) count += s.length;\n\n\t\tif (count === null)\n\t\t\tcount = s.length - start;\n\n\t\treturn s.substr(start, count);\n\t},\n\n\t/**\n\t**\tReplaces a matching string with the given replacement string in a given text.\n\t**\n\t**\treplace <search> <replacement> <text>\n\t*/\n\t'replace': function (args)\n\t{\n\t\treturn args[3].split(args[1]).join(args[2]);\n\t},\n\n\t/**\n\t**\tConverts all new-line chars in the expression to <br/>, the expression can be a string or an array.\n\t**\n\t**\tnl2br <expr>\n\t*/\n\t'nl2br': function (args)\n\t{\n\t\treturn args[1] ? (typeof(args[1]) == \"object\" ? args[1].map(e => e.replace(/\\n/g, \"<br/>\")) : args[1].replace(/\\n/g, \"<br/>\")) : '';\n\t},\n\n\t/**\n\t**\tReturns the expression inside an XML tag named 'tag-name', the expression can be a string or an array.\n\t**\n\t**\t% <tag-name> <expr>\n\t*/\n\t'%': function (args)\n\t{\n\t\targs.shift();\n\t\tvar name = args.shift();\n\n\t\tlet s = '';\n\n\t\tfor (let i = 0; i < args.length; i++)\n\t\t{\n\t\t\tif (Rinn.typeOf(args[i]) == 'array')\n\t\t\t{\n\t\t\t\ts += `<${name}>`;\n\t\t\t\t\n\t\t\t\tfor (let j = 0; j < args[i].length; j++)\n\t\t\t\t\ts += args[i][j];\n\n\t\t\t\ts += `</${name}>`;\n\t\t\t}\n\t\t\telse\n\t\t\t\ts += `<${name}>${args[i]}</${name}>`;\n\t\t}\n\n\t\treturn s;\n\t},\n\n\t/**\n\t**\tReturns the expression inside an XML tag named 'tag-name', attributes are supported.\n\t**\n\t**\t%% <tag-name> [<attr> <value>]* [<content>]\n\t*/\n\t'%%': function (args)\n\t{\n\t\targs.shift();\n\t\tvar name = args.shift();\n\n\t\tlet attr = '';\n\t\tlet text = '';\n\n\t\tfor (let i = 0; i < args.length; i += 2)\n\t\t{\n\t\t\tif (i+1 < args.length)\n\t\t\t\tattr += ` ${args[i]}=\"${args[i+1]}\"`;\n\t\t\telse\n\t\t\t\ttext = args[i];\n\t\t}\n\n\t\treturn text ? `<${name}${attr}>${text}</${name}>` : `<${name}${attr}/>`;\n\t},\n\n\t/**\n\t**\tJoins the given array expression into a string. The provided string-expr will be used as separator.\n\t**\n\t**\tjoin <string-expr> <array-expr>\n\t*/\n\t'join': function (args)\n\t{\n\t\tif (args[2] && Rinn.typeOf(args[2]) == 'array')\n\t\t\treturn args[2].join(args[1]);\n\n\t\treturn '';\n\t},\n\n\t/**\n\t**\tSplits the given expression by the specified string. Returns an array.\n\t**\n\t**\tsplit <string-expr> <expr>\n\t*/\n\t'split': function (args)\n\t{\n\t\tif (args[2] && typeof(args[2]) == \"string\")\n\t\t\treturn args[2].split(args[1]);\n\n\t\treturn [];\n\t},\n\n\t/**\n\t**\tReturns an array with the keys of the given object-expr.\n\t**\n\t**\tkeys <object-expr>\n\t*/\n\t'keys': function (args)\n\t{\n\t\tif (args[1] && typeof(args[1]) == \"object\")\n\t\t\treturn Object.keys(args[1]);\n\n\t\treturn [];\n\t},\n\n\t/**\n\t**\tReturns an array with the values of the given object-expr.\n\t**\n\t**\tvalues <object-expr>\n\t*/\n\t'values': function (args)\n\t{\n\t\tif (args[1] && typeof(args[1]) == \"object\")\n\t\t\treturn Object.values(args[1]);\n\n\t\treturn [];\n\t},\n\n\t/**\n\t**\tConstructs a string obtained by concatenating the expanded template for each of the items in the list-expr, the mandatory varname\n\t**\tparameter (namely 'i') indicates the name of the variable that will contain the data of each item as the list-expr is\n\t**\ttraversed. Extra variables i# and i## (suffix '#' and '##') are introduced to denote the index/key and numeric index\n\t**\tof the current item respectively, note that the later will always have a numeric value.\n\t**\n\t**\teach <varname> <list-expr> <template>\n\t*/\n\t'_each': function (parts, data)\n\t{\n\t\tlet var_name = Template.expand(parts[1], data, 'arg');\n\t\tlet list = Template.expand(parts[2], data, 'arg');\n\n\t\tlet s = '';\n\t\tlet j = 0;\n\n\t\tif (!list) return s;\n\n\t\tfor (let i in list)\n\t\t{\n\t\t\tdata[var_name] = list[i];\n\t\t\tdata[var_name + '##'] = j++;\n\t\t\tdata[var_name + '#'] = i;\n\n\t\t\ts += Template.expand(parts[3], data, 'text');\n\t\t}\n\n\t\tdelete data[var_name];\n\t\tdelete data[var_name + '##'];\n\t\tdelete data[var_name + '#'];\n\n\t\treturn s;\n\t},\n\n\t/**\n\t**\tExpands the given template for each of the items in the list-expr, the mandatory varname parameter (namely 'i') indicates the name of the variable\n\t**\tthat will contain the data of each item as the list-expr is traversed. Extra variables i# and i## (suffix '#' and '##') are introduced to denote\n\t**\tthe index/key and numeric index of the current item respectively, note that the later will always have a numeric value.\n\t**\n\t**\tDoes not produce any output (returns null).\n\t**\n\t**\tforeach <varname> <list-expr> <template>\n\t*/\n\t'_foreach': function (parts, data)\n\t{\n\t\tlet var_name = Template.expand(parts[1], data, 'arg');\n\t\tlet list = Template.expand(parts[2], data, 'arg');\n\n\t\tlet j = 0;\n\n\t\tif (!list) return null;\n\n\t\tfor (let i in list)\n\t\t{\n\t\t\tdata[var_name] = list[i];\n\t\t\tdata[var_name + '##'] = j++;\n\t\t\tdata[var_name + '#'] = i;\n\n\t\t\tTemplate.expand(parts[3], data, 'text');\n\t\t}\n\n\t\tdelete data[var_name];\n\t\tdelete data[var_name + '##'];\n\t\tdelete data[var_name + '#'];\n\n\t\treturn null;\n\t},\n\n\t/**\n\t**\tReturns the valueA if the expression is true otherwise valueB, this is a short version of the 'if' function with the\n\t**\tdifference that the result is 'obj' instead of text.\n\t**\n\t**\t? <expr> <valueA> [<valueB>]\n\t*/\n\t'_?': function (parts, data)\n\t{\n\t\tif (Template.expand(parts[1], data, 'arg'))\n\t\t\treturn Template.expand(parts[2], data, 'arg');\n\n\t\tif (parts.length > 3)\n\t\t\treturn Template.expand(parts[3], data, 'arg');\n\n\t\treturn '';\n\t},\n\n\t/**\n\t**\tReturns the valueA if it is not null (or empty or zero), otherwise returns valueB.\n\t**\n\t**\t?? <valueA> <valueB>\n\t*/\n\t'_??': function (parts, data)\n\t{\n\t\tlet value = Template.expand(parts[1], data, 'arg');\n\t\tif (value) return value;\n\t\n\t\treturn Template.expand(parts[2], data, 'arg');\n\t},\n\n\t/**\n\t**\tReturns the value if the expression is true, supports 'elif' and 'else' as well. The result of this function is always text.\n\t**\n\t**\tif <expr> <value> [elif <expr> <value>] [else <value>]\n\t*/\n\t'_if': function (parts, data)\n\t{\n\t\tfor (let i = 0; i < parts.length; i += 3)\n\t\t{\n\t\t\tif (Template.expand(parts[i], data, 'arg') == 'else')\n\t\t\t\treturn Template.expand(parts[i+1], data, 'text');\n\n\t\t\tif (Template.expand(parts[i+1], data, 'arg'))\n\t\t\t\treturn Template.expand(parts[i+2], data, 'text');\n\t\t}\n\n\t\treturn '';\n\t},\n\n\t/**\n\t**\tLoads the expression value and attempts to match one case.\n\t**\n\t**\tswitch <expr> <case1> <value1> ... <caseN> <valueN> default <defvalue> \n\t*/\n\t'_switch': function (parts, data)\n\t{\n\t\tlet value = Template.expand(parts[1], data, 'arg');\n\n\t\tfor (let i = 2; i < parts.length; i += 2)\n\t\t{\n\t\t\tlet case_value = Template.expand(parts[i], data, 'arg');\n\t\t\tif (case_value == value || case_value == 'default')\n\t\t\t\treturn Template.expand(parts[i+1], data, 'text');\n\t\t}\n\n\t\treturn '';\n\t},\n\n\t/**\n\t**\tExits the current inner most loop.\n\t**\n\t**\tbreak\n\t*/\n\t'_break': function (parts, data)\n\t{\n\t\tthrow new Error('EXC_BREAK');\n\t},\n\n\t/**\n\t**\tSkips execution and continues the next cycle of the current inner most loop.\n\t**\n\t**\tcontinue\n\t*/\n\t'_continue': function (parts, data)\n\t{\n\t\tthrow new Error('EXC_CONTINUE');\n\t},\n\n\t/**\n\t**\tConstructs an array with the results of repeating the specified template for a number of times.\n\t**\n\t**\trepeat <varname:i> [from <number>] [to <number>] [count <number>] [step <number>] <template>\n\t*/\n\t'_repeat': function (parts, data)\n\t{\n\t\tif (parts.length < 3 || (parts.length & 1) != 1)\n\t\t\treturn '(`repeat`: Wrong number of parameters)';\n\n\t\tlet var_name = Template.value(parts[1], data);\n\t\tlet count = null;\n\t\tlet from = 0, to = null;\n\t\tlet step = null;\n\n\t\tfor (let i = 2; i < parts.length-1; i+=2)\n\t\t{\n\t\t\tlet value = Template.value(parts[i], data);\n\n\t\t\tswitch (value.toLowerCase())\n\t\t\t{\n\t\t\t\tcase 'from':\n\t\t\t\t\tfrom = parseFloat(Template.value(parts[i+1], data));\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'to':\n\t\t\t\t\tto = parseFloat(Template.value(parts[i+1], data));\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'count':\n\t\t\t\t\tcount = parseFloat(Template.value(parts[i+1], data));\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'step':\n\t\t\t\t\tstep = parseFloat(Template.value(parts[i+1], data));\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tlet tpl = parts[parts.length-1];\n\t\tlet arr = [];\n\n\t\tif (to !== null)\n\t\t{\n\t\t\tif (step === null)\n\t\t\t\tstep = from > to ? -1 : 1;\n\n\t\t\tif (step < 0)\n\t\t\t{\n\t\t\t\tfor (let i = from; i >= to; i += step)\n\t\t\t\t{\n\t\t\t\t\ttry {\n\t\t\t\t\t\tdata[var_name] = i;\n\t\t\t\t\t\tarr.push(Template.value(tpl, data));\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tlet name = e.message;\n\t\t\t\t\t\tif (name == 'EXC_BREAK') break;\n\t\t\t\t\t\tif (name == 'EXC_CONTINUE') continue;\n\t\t\t\t\t\tthrow e;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tfor (let i = from; i <= to; i += step)\n\t\t\t\t{\n\t\t\t\t\ttry {\n\t\t\t\t\t\tdata[var_name] = i;\n\t\t\t\t\t\tarr.push(Template.value(tpl, data));\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tlet name = e.message;\n\t\t\t\t\t\tif (name == 'EXC_BREAK') break;\n\t\t\t\t\t\tif (name == 'EXC_CONTINUE') continue;\n\t\t\t\t\t\tthrow e;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse if (count !== null)\n\t\t{\n\t\t\tif (step === null)\n\t\t\t\tstep = 1;\n\n\t\t\tfor (let i = from; count > 0; count--, i += step)\n\t\t\t{\n\t\t\t\ttry {\n\t\t\t\t\tdata[var_name] = i;\n\t\t\t\t\tarr.push(Template.value(tpl, data));\n\t\t\t\t} catch (e) {\n\t\t\t\t\tlet name = e.message;\n\t\t\t\t\tif (name == 'EXC_BREAK') break;\n\t\t\t\t\tif (name == 'EXC_CONTINUE') continue;\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (step === null)\n\t\t\t\tstep = 1;\n\t\n\t\t\tfor (let i = from; ; i += step)\n\t\t\t{\n\t\t\t\ttry {\n\t\t\t\t\tdata[var_name] = i;\n\t\t\t\t\tarr.push(Template.value(tpl, data));\n\t\t\t\t}\n\t\t\t\tcatch (e) {\n\t\t\t\t\tlet name = e.message;\n\t\t\t\t\tif (name == 'EXC_BREAK') break;\n\t\t\t\t\tif (name == 'EXC_CONTINUE') continue;\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdelete data[var_name];\n\t\treturn arr;\n\t},\n\n\t/**\n\t**\tRepeats the specified template for a number of times.\n\t**\n\t**\tfor <varname:i> [from <number>] [to <number>] [count <number>] [step <number>] <template>\n\t*/\n\t'_for': function (parts, data)\n\t{\n\t\tif (parts.length < 3 || (parts.length & 1) != 1)\n\t\t\treturn '(`for`: Wrong number of parameters)';\n\n\t\tlet var_name = Template.value(parts[1], data);\n\t\tlet count = null;\n\t\tlet from = 0; to = null;\n\t\tlet step = null;\n\n\t\tfor (let i = 2; i < parts.length-1; i+=2)\n\t\t{\n\t\t\tvalue = Template.value(parts[i], data);\n\n\t\t\tswitch (value.toLowerCase())\n\t\t\t{\n\t\t\t\tcase 'from':\n\t\t\t\t\tfrom = parseFloat(Template.value(parts[i+1], data));\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'to':\n\t\t\t\t\tto = parseFloat(Template.value(parts[i+1], data));\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'count':\n\t\t\t\t\tcount = parseFloat(Template.value(parts[i+1], data));\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'step':\n\t\t\t\t\tstep = parseFloat(Template.value(parts[i+1], data));\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\tlet tpl = parts[parts.length-1];\n\n\t\tif (to !== null)\n\t\t{\n\t\t\tif (step === null)\n\t\t\t\tstep = from > to ? -1 : 1;\n\n\t\t\tif (step < 0)\n\t\t\t{\n\t\t\t\tfor (let i = from; i >= to; i += step)\n\t\t\t\t{\n\t\t\t\t\ttry {\n\t\t\t\t\t\tdata[var_name] = i;\n\t\t\t\t\t\tTemplate.value(tpl, data);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tlet name = e.message;\n\t\t\t\t\t\tif (name == 'EXC_BREAK') break;\n\t\t\t\t\t\tif (name == 'EXC_CONTINUE') continue;\n\t\t\t\t\t\tthrow e;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tfor (let i = from; i <= to; i += step)\n\t\t\t\t{\n\t\t\t\t\ttry {\n\t\t\t\t\t\tdata[var_name] = i;\n\t\t\t\t\t\tTemplate.value(tpl, data);\n\t\t\t\t\t} catch (e) {\n\t\t\t\t\t\tlet name = e.message;\n\t\t\t\t\t\tif (name == 'EXC_BREAK') break;\n\t\t\t\t\t\tif (name == 'EXC_CONTINUE') continue;\n\t\t\t\t\t\tthrow e;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse if (count !== null)\n\t\t{\n\t\t\tif (step === null)\n\t\t\t\tstep = 1;\n\n\t\t\tfor (let i = from; count > 0; count--, i += step)\n\t\t\t{\n\t\t\t\ttry {\n\t\t\t\t\tdata[var_name] = i;\n\t\t\t\t\tTemplate.value(tpl, data);\n\t\t\t\t} catch (e) {\n\t\t\t\t\tlet name = e.message;\n\t\t\t\t\tif (name == 'EXC_BREAK') break;\n\t\t\t\t\tif (name == 'EXC_CONTINUE') continue;\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (step === null)\n\t\t\t\tstep = 1;\n\t\n\t\t\tfor (let i = from; ; i += step)\n\t\t\t{\n\t\t\t\ttry {\n\t\t\t\t\tdata[var_name] = i;\n\t\t\t\t\tTemplate.value(tpl, data);\n\t\t\t\t}\n\t\t\t\tcatch (e) {\n\t\t\t\t\tlet name = e.message;\n\t\t\t\t\tif (name == 'EXC_BREAK') break;\n\t\t\t\t\tif (name == 'EXC_CONTINUE') continue;\n\t\t\t\t\tthrow e;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdelete data[var_name];\n\t\treturn null;\n\t},\n\n\t/**\n\t**\tRepeats the specified template infinitely until a \"break\" is found.\n\t**\n\t**\tloop <template>\n\t*/\n\t'_loop': function (parts, data)\n\t{\n\t\tif (parts.length < 2)\n\t\t\treturn '(`loop`: Wrong number of parameters)';\n\n\t\tlet tpl = parts[1];\n\n\t\twhile (true)\n\t\t{\n\t\t\ttry {\n\t\t\t\tTemplate.value(tpl, data);\n\t\t\t}\n\t\t\tcatch (e) {\n\t\t\t\tlet name = e.message;\n\t\t\t\tif (name == 'EXC_BREAK') break;\n\t\t\t\tif (name == 'EXC_CONTINUE') continue;\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t},\n\n\t/**\n\t**\tWrites the specified arguments to the console.\n\t**\n\t**\techo <expr> [<expr>...]\n\t*/\n\t'_echo': function (parts, data)\n\t{\n\t\tlet s = '';\n\n\t\tfor (let i = 1; i < parts.length; i++)\n\t\t\ts += Template.expand(parts[i], data, 'arg');\n\n\t\tconsole.log(s);\n\t\treturn '';\n\t},\n\n\t/**\n\t**\tConstructs a list from the given arguments and returns it.\n\t**\n\t**\t# <expr> [<expr>...]\n\t*/\n\t'_#': function (parts, data)\n\t{\n\t\tlet s = [];\n\n\t\tfor (let i = 1; i < parts.length; i++)\n\t\t\ts.push(Template.expand(parts[i], data, 'arg'));\n\n\t\treturn s;\n\t},\n\n\t/**\n\t**\tConstructs a non-expanded list from the given arguments and returns it.\n\t**\n\t**\t## <expr> [<expr>...]\n\t*/\n\t'_##': function (parts, data)\n\t{\n\t\tlet s = [];\n\n\t\tfor (let i = 1; i < parts.length; i++)\n\t\t\ts.push(parts[i]);\n\n\t\treturn s;\n\t},\n\n\t/**\n\t**\tConstructs an associative array (dictionary) and returns it.\n\t**\n\t**\t& <name>: <expr> [<name>: <expr>...]\n\t**\t& :<name> <expr> [:<name> <expr>...]\n\t*/\n\t'_&': function (parts, data)\n\t{\n\t\treturn Template.getNamedValues (parts, data, 1, true);\n\t},\n\n\t/**\n\t**\tConstructs a non-expanded associative array (dictionary) and returns it.\n\t**\n\t**\t&& <name>: <expr> [<name>: <expr>...]\n\t**\t&& :<name> <expr> [:<name> <expr>...]\n\t*/\n\t'_&&': function (parts, data)\n\t{\n\t\treturn Template.getNamedValues (parts, data, 1, false);\n\t},\n\n\t/**\n\t**\tReturns true if the specified map contains all the specified keys. If it fails the global variable `err` will contain an error message.\n\t**\n\t**\tcontains <expr> <name> [<name>...]\n\t*/\n\t'contains': function (args, parts, data)\n\t{\n\t\tlet value = args[1];\n\n\t\tif (typeof(value) != 'object')\n\t\t{\n\t\t\tdata.err = 'Argument is not a Map';\n\t\t\treturn false;\n\t\t}\n\n\t\tlet s = '';\n\n\t\tfor (let i = 2; i < args.length; i++)\n\t\t{\n\t\t\tif (!(args[i] in value))\n\t\t\t\ts += ', '+args[i];\n\t\t}\n\n\t\tif (s != '')\n\t\t{\n\t\t\tdata.err = s.substr(1);\n\t\t\treturn false;\n\t\t}\n\n\t\treturn true;\n\t},\n\n\t/**\n\t**\tReturns true if the specified map has the specified key. Returns boolean.\n\t**\n\t**\thas <name> <expr>\n\t*/\n\t'has': function (args, parts, data)\n\t{\n\t\tlet value = args[2];\n\n\t\tif (Rinn.typeOf(value) != 'object')\n\t\t\treturn false;\n\n\t\treturn args[1] in value;\n\t},\n\n\t/**\n\t**\tReturns a new array/map contaning the transformed values of the array/map (evaluating the template). And just as in 'each', the i# and i## variables be available.\n\t**\n\t**\tmap <varname> <list-expr> <template>\n\t*/\n\t'_map': function (parts, data)\n\t{\n\t\tlet var_name = Template.expand(parts[1], data, 'arg');\n\n\t\tlet list = Template.expand(parts[2], data, 'arg');\n\t\tif (!list) return list;\n\n\t\tlet arrayMode = Rinn.typeOf(list) == 'array' ? true : false;\n\t\tlet output = arrayMode ? [] : {};\n\t\tlet j = 0;\n\n\t\tfor (let i in list)\n\t\t{\n\t\t\tdata[var_name] = list[i];\n\t\t\tdata[var_name + '##'] = j++;\n\t\t\tdata[var_name + '#'] = i;\n\n\t\t\tif (arrayMode)\n\t\t\t\toutput.push(Template.expand(parts[3], data, 'arg'));\n\t\t\telse\n\t\t\t\toutput[i] = Template.expand(parts[3], data, 'arg');\n\t\t}\n\n\t\tdelete data[var_name];\n\t\tdelete data[var_name + '##'];\n\t\tdelete data[var_name + '#'];\n\n\t\treturn output;\n\t},\n\n\t/**\n\t**\tReturns a new array/map contaning the elements where the template evaluates to non-zero. Just as in 'each', the i# and i## variables be available.\n\t**\n\t**\tfilter <varname> <list-expr> <template>\n\t*/\n\t'_filter': function (parts, data)\n\t{\n\t\tlet var_name = Template.expand(parts[1], data, 'arg');\n\n\t\tlet list = Template.expand(parts[2], data, 'arg');\n\t\tif (!list) return list;\n\n\t\tlet arrayMode = Rinn.typeOf(list) == 'array' ? true : false;\n\t\tlet output = arrayMode ? [] : {};\n\t\tlet j = 0;\n\n\t\tfor (let i in list)\n\t\t{\n\t\t\tdata[var_name] = list[i];\n\t\t\tdata[var_name + '##'] = j++;\n\t\t\tdata[var_name + '#'] = i;\n\n\t\t\tif (~~Template.expand(parts[3], data, 'arg'))\n\t\t\t{\n\t\t\t\tif (arrayMode)\n\t\t\t\t\toutput.push(list[i]);\n\t\t\t\telse\n\t\t\t\t\toutput[i] = list[i];\n\t\t\t}\n\t\t}\n\n\t\tdelete data[var_name];\n\t\tdelete data[var_name + '##'];\n\t\tdelete data[var_name + '#'];\n\n\t\treturn output;\n\t},\n\n\t/**\n\t**\tExpands the specified template string with the given data. The sym_open and sym_close will be '{' and '}' respectively.\n\t**\tIf no data is provided, current data parameter will be used.\n\t**\n\t**\texpand <template> <data>\n\t*/\n\t'expand': function (args, parts, data)\n\t{\n\t\treturn Template.expand (Template.parseTemplate (args[1], '{', '}'), args.length == 3 ? args[2] : data);\n\t},\n\n\t/**\n\t**\tCalls a function described by the given parameter.\n\t**\n\t**\tcall <function> <args...>\n\t*/\n\t'_call': function (parts, data)\n\t{\n\t\tlet ref = Template.expand(parts[1], data, 'varref');\n\n\t\tif (!ref || typeof(ref[0][ref[1]]) != 'function')\n\t\t\tthrow new Error ('Expression is not a function: ' + Template.expand(parts[1], data, 'obj').map(i => i == null ? '.' : i).join(''));\n\n\t\tlet args = [];\n\n\t\tfor (let i = 2; i < parts.length; i++)\n\t\t\targs.push(Template.value(parts[i], data));\n\n\t\treturn ref[0][ref[1]] (...args);\n\t},\n};\n\nexport default Template;\n","/*\r\n**\trinn/main.js\r\n**\r\n**\tCopyright (c) 2013-2022, RedStar Technologies, All rights reserved.\r\n**\thttps://rsthn.com/\r\n**\r\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\r\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \r\n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\r\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \r\n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \r\n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \r\n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\r\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n*/\r\n\r\nimport _Rinn from './alpha.js';\r\nimport _Class from './class.js';\r\nimport _Event from './event.js';\r\nimport _EventDispatcher from './event-dispatcher.js';\r\nimport _Model from './model.js';\r\nimport _ModelList from './model-list.js';\r\nimport _Schema from './schema.js';\r\nimport _Flattenable from './flattenable.js';\r\nimport _Collection from './collection.js';\r\nimport _Template from './template.js';\r\n\r\nexport const Rinn = _Rinn;\r\nexport const Class = _Class;\r\nexport const Event = _Event;\r\nexport const EventDispatcher = _EventDispatcher;\r\nexport const Model = _Model;\r\nexport const ModelList = _ModelList;\r\nexport const Schema = _Schema;\r\nexport const Flattenable = _Flattenable;\r\nexport const Collection = _Collection;\r\nexport const Template = _Template;\r\n","/*\n**\tfroxel\n**\n**\tCopyright (c) 2013-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n//!//@ts-check\n\n// *********************************************\n// rinn\n\nimport * as rinn from 'rinn';\nexport const Class = rinn.Class;\nexport const Schema = rinn.Schema;\nexport const Template = rinn.Template;\n\n// *********************************************\n// system\n\n//![import \"system/globals\"]\nimport _globals from './system/globals.js'; export const globals = _globals;\n\n//![import \"system/glx\"]\nimport _glx from './system/glx.js'; export const glx = _glx;\n\n//![import \"system/glsl\"]\nimport _glsl from './system/glsl.js'; export const glsl = _glsl;\n\n//![import \"system/system\"]\nimport _System from './system/system.js'; export const System = _System;\n\n//![import \"system/timer\"]\nimport _Timer from './system/timer.js'; export const Timer = _Timer;\n\n//![import \"system/random\"]\nimport _Random from './system/random.js'; export const Random = _Random;\n\n//![import \"system/keycode\"]\nimport _KeyCode from './system/keycode.js'; export const KeyCode = _KeyCode;\n\n//![import \"system/canvas\"]\nimport _Canvas from './system/canvas.js'; export const Canvas = _Canvas;\n\n//![import \"system/perf\"]\nimport _Perf from './system/perf.js'; export const Perf = _Perf;\n\n//![import \"system/log\"]\nimport _Log from './system/log.js'; export const Log = _Log;\n\n//![import \"system/shader\"]\nimport _Shader from './system/shader.js'; export const Shader = _Shader;\n\n//![import \"system/shader-program\"]\nimport _ShaderProgram from './system/shader-program.js'; export const ShaderProgram = _ShaderProgram;\n\n//![import \"system/framebuffer\"]\nimport _Framebuffer from './system/framebuffer.js'; export const Framebuffer = _Framebuffer;\n\n\n// *********************************************\n// resources\n\n//![import \"resources/wrappers\"]\nimport * as _Wrappers from './resources/wrappers.js'; export const Wrappers = _Wrappers;\n\n//![import \"resources/resources\"]\nimport _Resources from './resources/resources.js'; export const Resources = _Resources;\nimport _Sound from './resources/sound.js'; export const Sound = _Sound;\n\n\n// *********************************************\n// utils\n\n//![import \"utils/recycler\"]\nimport _Recycler from './utils/recycler.js'; export const Recycler = _Recycler;\n\n//![import \"utils/linkable\"]\nimport _Linkable from './utils/linkable.js'; export const Linkable = _Linkable;\n\n//![import \"utils/list\"]\nimport _List from './utils/list.js'; export const List = _List;\n\n//![import \"utils/priority-queue\"]\nimport _PriorityQueue from './utils/priority-queue.js'; export const PriorityQueue = _PriorityQueue;\n\n//![import \"utils/handler\"]\nimport _Handler from './utils/handler.js'; export const Handler = _Handler;\n\n\n// *********************************************\n// math\n\n//![import \"math/matrix\"]\nimport _Matrix from './math/matrix.js'; export const Matrix = _Matrix;\n\n//![import \"math/rect\"]\nimport _Rect from './math/rect.js'; export const Rect = _Rect;\n\n//![import \"math/vec2\"]\nimport _Vec2 from './math/vec2.js'; export const Vec2 = _Vec2;\n\n//![import \"math/tfunction\"]\nimport _TFunction from './math/tfunction.js'; export const TFunction = _TFunction;\n\n//![import \"math/bounds2\"]\nimport _Bounds2 from './math/bounds2.js'; export const Bounds2 = _Bounds2;\n\n//![import \"math/point2\"]\nimport _Point2 from './math/point2.js'; export const Point2 = _Point2;\n\n\n// *********************************************\n// anim\n\n//![import \"anim/easing\"]\nimport _Easing from './anim/easing.js'; export const Easing = _Easing;\n\n//![import \"anim/anim\"]\nimport _Anim from './anim/anim.js'; export const Anim = _Anim;\n\n\n// *********************************************\n// flow\n\n//![import \"flow/boot\"]\nimport _Boot from './flow/boot.js'; export const Boot = _Boot;\n\n//![import \"flow/grid-element\"]\nimport _GridElement from './flow/grid-element.js'; export const GridElement = _GridElement;\n\n//![import \"flow/grid\"]\nimport _Grid from './flow/grid.js'; export const Grid = _Grid;\n\n//![import \"flow/scene\"]\nimport _Scene from './flow/scene.js'; export const Scene = _Scene;\n\n//![import \"flow/viewport\"]\nimport _Viewport from './flow/viewport.js'; export const Viewport = _Viewport;\n\n//![import \"flow/updater\"]\nimport _Updater from './flow/updater.js'; export const Updater = _Updater;\n\n//![import \"flow/container\"]\nimport _Container from './flow/container.js'; export const Container = _Container;\n\n//![import \"flow/simple-container\"]\nimport _SimpleContainer from './flow/simple-container.js'; export const SimpleContainer = _SimpleContainer;\n\n//![import \"flow/grid-container\"]\nimport _GridContainer from './flow/grid-container.js'; export const GridContainer = _GridContainer;\n\n//![import \"flow/group\"]\nimport _Group from './flow/group.js'; export const Group = _Group;\n\n//![import \"flow/drawable\"]\nimport _Drawable from './flow/drawable.js'; export const Drawable = _Drawable;\n\n//![import \"flow/element\"]\nimport _Element from './flow/element.js'; export const Element = _Element;\n\n//![import \"flow/mask\"]\nimport _Mask from './flow/mask.js'; export const Mask = _Mask;\n\n//![import \"flow/label\"]\nimport _Label from './flow/label.js'; export const Label = _Label;\n\n//![import \"flow/keyboard-handler\"]\nimport _KeyboardHandler from './flow/keyboard-handler.js'; export const KeyboardHandler = _KeyboardHandler;\n\n//![import \"flow/pointer-handler\"]\nimport _PointerHandler from './flow/pointer-handler.js'; export const PointerHandler = _PointerHandler;\n\n//![import \"flow/screen-controls\"]\nimport _ScreenControls from './flow/screen-controls.js'; export const ScreenControls = _ScreenControls;\n\n//![import \"flow/button\"]\nimport _Button from './flow/button.js'; export const Button = _Button;\n\n//![import \"flow/stick\"]\nimport _Stick from './flow/stick.js'; export const Stick = _Stick;\n\n\n// *********************************************\n// fxl\n\n//![import \"fxl/fxl\"]\nimport * as fxl from './fxl/fxl.js';\nexport default fxl;\n\n//!export default fxl;\n","/*\n**\tsystem/globals.js\n**\n**\tCopyright (c) 2016-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport Random from './random.js';\nimport Log from './log.js';\n\n//![import \"./random\"]\n//![import \"./log\"]\n//![import \"../flow/viewport\"]\n\n//:/**\n//: * \tGlobal functions and definitions.\n//: */\n\n//!namespace globals\n\n/*\n**\tVariables and behavior flags, can be extended as needed from other modules.\n*/\nconst globals =\n{\n\t/**\n\t * Renderer's GL context.\n\t * !let gl: WebGL2RenderingContext;\n\t */\n\tgl: null,\n\n\t/**\n\t * Currently active shader program.\n\t * !let shaderProgram: ShaderProgram;\n\t */\n\tshaderProgram: null,\n\n\t/**\n\t * Global system time, updated once per frame. Mirrors the `System.frameTime` property.\n\t * !let time: number;\n\t */\n\ttime: 0,\n\n\t/**\n\t * Active viewport (if any). Set by the `draw` method of the `Scene` class.\n\t * !let viewport: Viewport;\n\t */\n\tviewport: null,\n\n\t/**\n\t * Indicates if the element bounds should be drawn. Used by the `Element` class.\n\t * !let debugBounds: boolean;\n\t */\n\tdebugBounds: false,\n\n\t/**\n\t * Indicates if the mask bounds should be drawn. Used by the `Mask` class.\n\t * !let debugMasks: boolean;\n\t */\n\tdebugMasks: false,\n\n\t/**\n\t * Global random generators. Only `rand0` is used by the global random functions. The `rand1` and `rand2` can be used manually if desired.\n\t *\n\t * !const rand0: Random;\n\t * !const rand1: Random;\n\t * !const rand2: Random;\n\t */\n\trand0: new Random(),\n\trand1: new Random(),\n\trand2: new Random()\n}\n\nexport default globals;\n\n//!/namespace\n\n//!declare global\n\n/**\n * Converts the given pixel-value to actual screen pixels taking into account the current scale.\n * !function px (value: number) : number;\n */\nglobal.px = function(value)\n{\n\treturn value*C.SCALE;\n}\n\n/**\n * Disposes an object by running the first method that is found in the following order: `free`, `dispose` and finally `__dtor`.\n * !function dispose (obj: object) : void;\n */\nglobal.dispose = function (obj)\n{\n\tif (obj === null || typeof(obj) !== 'object')\n\t\treturn;\n\n\tif ('free' in obj)\n\t\treturn obj.free();\n\n\tif ('dispose' in obj)\n\t\treturn obj.dispose();\n\n\tif ('__dtor' in obj)\n\t\tobj.__dtor();\n}\n\n/**\n * Global audio context obtained when the system is initialized.\n * !let audioContext: AudioContext;\n */\nif ('AudioContext' in global)\n{\n\tglobal.audioContext = new AudioContext({ latencyHint: 'interactive', sampleRate: 44100 });\n\tLog.write('AudioContext: baseLatency=' + ~~(global.audioContext.baseLatency*1000) + ' ms' );\n}\nelse\n\tglobal.audioContext = null;\n\n/**\n * Similar to `fetch` but uses XMLHttpRequest because in some mobile browsers regular mode does not work well with ArrayBuffers.\n * !function fetchd (url: string, options?: object) : Promise<object>;\n */\nglobal.fetchd = function (url, options)\n{\n\treturn new Promise ((resolve, reject) =>\n\t{\n\t\tif (!options) options = { };\n\t\tif (!('responseType' in options)) options.responseType = 'arraybuffer';\n\n\t\tvar request = new XMLHttpRequest();\n\t\trequest.open('GET', url, true);\n\n\t\tfor (let i in options) request[i] = options[i];\n\n\t\trequest.onload = function() {\n\t\t\tresolve (request.response);\n\t\t};\n\n\t\trequest.onerror = function() {\n\t\t\treject ('Unable to fetch specified resource.');\n\t\t};\n\n\t\trequest.send();\n\t});\n}\n\n/**\n * Loads an arraybuffer from the specified URL and converts it to a AudioBuffer using the global audioContext.\n * !function fetchAudioBuffer (url: string) : Promise<AudioBuffer>;\n */\nglobal.fetchAudioBuffer = function (url)\n{\n\treturn new Promise((resolve, reject) =>\n\t{\n\t\tif (!global.audioContext)\n\t\t{\n\t\t\treject ('AudioContext is not available.');\n\t\t\treturn;\n\t\t}\n\n\t\tfetchd(url)\n\t\t.then(arrayBuffer => audioContext.decodeAudioData(arrayBuffer))\n\t\t.then(audioBuffer => resolve(audioBuffer))\n\t\t.catch(err => reject(err));\n\t});\n}\n\n/**\n * Returns the value as an integer.\n * !function int (value: number|string) : number;\n */\nglobal.int = function (value)\n{\n\treturn value >> 0;\n}\n\n/**\n * Returns the value as a boolean.\n * !function bool (value: number|string|boolean) : number;\n */\nglobal.bool = function (value)\n{\n\tif (value === true || value === false)\n\t\treturn value;\n\n\tif (value == 'true')\n\t\treturn true;\n\n\tif (value == 'false')\n\t\treturn false;\n\n\treturn !(!value);\n}\n\n/**\n * Returns the value as a floating point number.\n * !function float (value: number|string) : number;\n */\nglobal.float = function (value)\n{\n\treturn parseFloat(value);\n}\n\n/**\n * Returns the value truncated to 2 digits of precision.\n * !function float2 (value: number) : number;\n */\nglobal.float2 = function (value)\n{\n\treturn (int(value*100))/100;\n}\n\n/**\n * Returns the value truncated to 3 digits of precision.\n * !function float3 (value: number) : number;\n */\nglobal.float3 = function (value)\n{\n\treturn (int(value*1000))/1000;\n}\n\n/**\n * Returns the value truncated to 4 digits of precision.\n * !function float4 (value: number) : number;\n */\nglobal.float4 = function (value)\n{\n\treturn (int(value*10000))/10000;\n}\n\n/**\n * Converts the given value from degrees to radians.\n * !function rad (degrees: number) : number;\n */\nglobal.rad = function (degrees)\n{\n\treturn degrees*Math.PI/180.0;\n}\n\n/**\n * Converts the given value from radians to degrees.\n * !function deg (radians: number) : number;\n */\nglobal.deg = function (radians)\n{\n\treturn (radians/Math.PI)*180;\n}\n\n/**\n * Returns a random integer value from 0 to 0xFFFF (inclusive).\n * !function rand() : number;\n */\nglobal.rand = function ()\n{\n\treturn globals.rand0.nextInt16();\n}\n\n/**\n * Returns a random float from 0 to 1 (inclusive).\n * !function randf() : number;\n */\nglobal.randf = function ()\n{\n\treturn globals.rand0.nextFloat();\n}\n\n/**\n * Returns a random float within the given (inclusive) range.\n * !function randrf (startValue: number, endValue: number) : number;\n */\nglobal.randrf = function (a, b)\n{\n\tlet t = globals.rand0.nextFloat();\n\treturn t*b + (1-t)*a;\n}\n\n/**\n * Returns a random integer within the given range (inclusive).\n * !function randr (startValue: number, endValue: number) : number;\n */\nglobal.randr = function (a, b)\n{\n\tlet t = globals.rand0.nextFloat();\n\treturn Math.round(t*b + (1-t)*a);\n}\n\n/**\n * Returns a table (array) of N random float numbers within the given range (inclusive).\n * !function randtf (startValue: number, endValue: number, n: number) : Array<number>;\n */\nglobal.randtf = function (a, b, n)\n{\n\tvar list = [ ];\n\n\tfor (var i = 0; i < n; i++)\n\t\tlist.push(randrf(a, b));\n\n\treturn list;\n}\n\n/**\n * Returns the high-resolution `now` counter in milliseconds (includes possibly microseconds in fractional part).\n * !function hrnow () : number;\n */\nglobal.hrnow = function ()\n{\n\treturn performance.now();\n}\n\n/**\n * Returns a function that when called produces a random integer value within the given (inclusive) range.\n * !function randvar (startValue: number, endValue: number) : () => number;\n */\nglobal.randvar = function (a, b)\n{\n\treturn function() { return randr(a, b); };\n}\n\n/**\n * Returns a function that when called returns an item from the specified array at some random index within the (inclusive) range.\n * !function randitem (arr: Array<any>, startValue?: number, endValue?: number) : () => any;\n */\nglobal.randitem = function (arr, a=null, b=null)\n{\n\tif (a === null) a = 0;\n\tif (b === null) b = arr.length - 1;\n\n\treturn function() { return arr[randr(a, b)]; };\n}\n\n/**\n * Returns the parameter 't' where two line segments intersect.\n * !function getLineSegmentIntersection (ls1_x1: number, ls1_y1: number, ls1_x2: number, ls1_y2: number, ls2_x1: number, ls2_y1: number, ls2_x2: number, ls2_y2: number) : number;\n */\nglobal.getLineSegmentIntersection = function (ls1_x1, ls1_y1, ls1_x2, ls1_y2, ls2_x1, ls2_y1, ls2_x2, ls2_y2)\n{\n\t// Case #1: Identical segments.\n\tif (ls1_x1 == ls2_x1 && ls1_y1 == ls2_y1 && ls1_x2 == ls2_x2 && ls1_y2 == ls2_y2)\n\t\treturn 0;\n\n\tlet inf = 2.0;\n\n\tvar dyA = ls1_y2 - ls1_y1;\n\tvar dxA = ls1_x2 - ls1_x1;\n\tvar dyB = ls2_y2 - ls2_y1;\n\tvar dxB = ls2_x2 - ls2_x1;\n\n\t// Case #2: Horizontal vs. Horizontal\n\tif (dyA == 0 && dyB == 0)\n\t{\n\t\tif (ls1_y1 != ls2_y1) return inf;\n\n\t\tvar x1 = Math.max(ls1_x1, ls2_x1);\n\t\tvar x2 = Math.min(ls1_x2, ls2_x2);\n\n\t\tif (x1 > x2) return inf;\n\n\t\treturn (x1 - ls1_x1) / dxA;\n\t}\n\n\t// Case #3: Vertical vs. Vertical\n\tif (dxA == 0 && dxB == 0)\n\t{\n\t\tif (ls1_x1 != ls2_x1) return inf;\n\n\t\tvar y1 = Math.max(ls1_y1, ls2_y1);\n\t\tvar y2 = Math.min(ls1_y2, ls2_y2);\n\n\t\tif (y1 > y2) return inf;\n\n\t\treturn (y1 - ls1_y1) / dyA;\n\t}\n\n\t// Case #4: Vertical vs. Horizontal or Sloped\n\tif (dxA == 0)\n\t{\n\t\tvar tA = (dyB*(ls1_x1 - ls2_x1) + dxB*(ls2_y1 - ls1_y1)) / (dxB * dyA);\n\t\tif (0 > tA || tA > 1) return inf;\n\n\t\tvar tB = (ls1_x1 - ls2_x1) / dxB; \n\t\tif (0 > tB || tB > 1) return inf;\n\n\t\treturn tA;\n\t}\n\n\t// Case #5: Regular line segments.\n\tvar a = dyA*(ls2_x1 - ls1_x1) + dxA*(ls1_y1 - ls2_y1);\n\tvar b = dyB*dxA - dxB*dyA;\n\n\tif (b == 0) return inf;\n\n\tvar tB = a / b;\n\tif (0 > tB || tB > 1) return inf;\n\n\tvar tA = (dxB*tB + ls2_x1 - ls1_x1) / dxA;\n\tif (0 > tA || tA > 1) return inf;\n\n\treturn tA;\n}\n\n/**\n * Returns boolean indicating if the line segments intersect.\n * !function lineSegmentIntersects (ls1_x1: number, ls1_y1: number, ls1_x2: number, ls1_y2: number, ls2_x1: number, ls2_y1: number, ls2_x2: number, ls2_y2: number) : boolean;\n */\nglobal.lineSegmentIntersects = function (ls1_x1, ls1_y1, ls1_x2, ls1_y2, ls2_x1, ls2_y1, ls2_x2, ls2_y2)\n{\n\tlet t = getLineSegmentIntersection (ls1_x1, ls1_y1, ls1_x2, ls1_y2, ls2_x1, ls2_y1, ls2_x2, ls2_y2);\n\treturn t >= 0 && t <= 1.0;\n}\n\n/**\n * Rotates a point (2d) by the given angle and returns an object having x and y properties.\n * !function rotatePoint (angle: number, x: number, y: number) : { x: number, y: number };\n */\nglobal.rotatePoint = function (angle, x, y)\n{\n\treturn { x: x*Math.cos(angle) + y*Math.sin(angle), y: y*Math.cos(angle) - x*Math.sin(angle) };\n}\n\n/**\n * Returns a value snapped to a step within the given range.\n * !function stepValue (value: number, minValue: number, maxValue: number, numSteps: number) : number;\n */\nglobal.stepValue = function (value, minValue, maxValue, numSteps)\n{\n\treturn ((Math.round(numSteps * (value - minValue) / (maxValue - minValue))) / numSteps) * (maxValue - minValue) + minValue;\n}\n\n/**\n * Returns a value that is a factor of the specified step.\n * !function alignValue (value: number, step: number) : number;\n */\nglobal.alignValue = function (value, step)\n{\n\treturn Math.round(value/step)*step;\n}\n\n/**\n * Number of bits for fixed-point number (default is 8).\n * !let FIXED_POINT_BITS : number;\n*/\nglobal.FIXED_POINT_BITS = 8;\n\n/**\n * Returns a fixed-point upscaled value.\n * !function upscale (value: number) : number;\n */\nglobal.upscale = function (value)\n{\n\treturn (value * (1 << FIXED_POINT_BITS)) >> 0;\n}\n\n/**\n * Downscales a fixed-point value to its integer part.\n * !function downscale (value: number) : number;\n */\nglobal.downscale = function (value)\n{\n\treturn value >> FIXED_POINT_BITS;\n}\n\n/**\n * Downscales a fixed-point value to floating point.\n * !function downscalef (value: number) : number;\n */\nglobal.downscalef = function (value)\n{\n\treturn value / (1 << FIXED_POINT_BITS);\n}\n\n/**\n * Aligns a value to its fixed point floating point representation such that downscaling results in an integer.\n * !function falign (value: number) : number;\n */\nglobal.falign = function (value)\n{\n\treturn downscalef(upscale(value));\n}\n\n/**\n * Returns the value having the minimum absolute value.\n * !function absmin (a: number, b: number) : number;\n */\nglobal.absmin = function(a, b)\n{\n\treturn Math.abs(a) < Math.abs(b) ? a : b;\n}\n\n/**\n * Returns the value having the maximum absolute value.\n * !function absmax (a: number, b: number) : number;\n */\nglobal.absmax = function(a, b)\n{\n\treturn Math.abs(a) > Math.abs(b) ? a : b;\n}\n\n/**\n * Repeats a string a number of times.\n * !function repeat (str: string, count: number) : string;\n */\nglobal.repeat = function (str, count)\n{\n\tlet out = '';\n\n\twhile (count-- > 0)\n\t\tout += str;\n\n\treturn out;\n}\n\n/**\n * Pads the given value with a character (added to the left) until the specified size is reached.\n * !function lpad (val: any, size: number, char?: string) : string;\n */\nglobal.lpad = function (val, size, char='0')\n{\n\tval = val.toString();\n\treturn repeat(char.charAt(0), size-val.length) + val;\n}\n\n/**\n * Pads the given value with a character (added to the right) until the specified size is reached.\n * !function rpad (val: any, size: number, char?: string) : string;\n */\nglobal.rpad = function (val, size, char='0')\n{\n\tval = val.toString();\n\treturn val + repeat(char.charAt(0), size-val.length);\n}\n\n/**\n * Returns the normalized (0 to 1) value for the given signed-normalized (-1 to 1) value.\n * !function norm (value: number) : number;\n */\nglobal.norm = function (value)\n{\n\treturn (value + 1.0) * 0.5;\n}\n\n/**\n * Returns the signed-normalized (-1 to 1) value for the given normalized (0 to 1) value.\n * !function snorm (value: number) : number;\n */\nglobal.snorm = function (value)\n{\n\treturn value * 2.0 - 1.0;\n}\n\n/**\n * Clamps the specified value to the [x0, x1] range.\n * !function clamp (value: number, x0?: number, x1?: number) : number;\n */\nglobal.clamp = function (value, x0=0.0, x1=1.0)\n{\n\treturn value < x0 ? x0 : (value > x1 ? x1 : value);\n}\n\n/**\n * Maps the given value from [a0, a1] to [b0, b1].\n * !function map (value: number, a0: number, a1: number, b0: number, b1: number) : number;\n */\nglobal.map = function (value, a0, a1, b0, b1)\n{\n\treturn ((value - a0)*(b1 - b0) / (a1 - a0)) + b0;\n}\n","/*\n**\tsystem/random.js\n**\n**\tCopyright (c) 2016-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport { Class } from 'rinn';\n\nconst XOR = (value, x) => (value ^ x) & 0x7FFFFFFF;\nconst SHR = (value, x) => (value >>> x)  & 0x7FFFFFFF;\nconst SHL = (value, x) => (value << x) & 0x7FFFFFFF;\n\n/**\n * Random number generator based on the WELL algorithm family.\n */\n\n//!class Random\n\nconst Random = Class.extend\n({\n\t/**\n\t * State of the generator.\n\t */\n\tstate: null,\n\n\t/**\n\t * Index of the next state value.\n\t */\n\tindex: 0,\n\n\t/**\n\t * \tSeed value of the generator. Remains constant throughout the life of the generator.\n\t * \t!readonly seed: number;\n\t */\n\tseed: 0,\n\n\t/**\n\t * \tInitializes the instance of the pseudo-random number generator.\n\t * \t@param seed - Value to seed the random number generator. If none provided, default one (0xDAE7A5D3) will be used.\n\t *\n\t *\t!constructor (seed?: number);\n\t */\n\t__ctor: function(seed=0xDAE7A5D3)\n\t{\n\t\tthis.state = [\n\t\t\t0xA5F7310C, 0xEF731CF3, 0xFA784322, 0x7834FC31,\n\t\t\t0xD9AF7813, 0xDE78AD13, 0x783F3418, 0xAA123176,\n\t\t\t0x871CF4D1, 0x73412FAB, 0xBAE6C710, 0x06F73481,\n\t\t\t0x8910CF15, 0x927CF813, 0xBCF7834F, 0x73F61193\n\t\t];\n\n\t\tthis.index = 0;\n\n\t\tthis.setSeed(seed);\n\t},\n\n\t/**\n\t * \tSets the seed of the pseudo-random number generator.\n\t * \t@param value - Seed value to use (32-bit unsigned integer).\n\t *\n\t *\t!setSeed (value: number) : Random;\n\t */\n\tsetSeed: function(value)\n\t{\n\t\tthis.seed = value;\n\n\t\tthis.state = [\n\t\t\t0xA5F7310C, 0xEF731CF3, 0xFA784322, 0x7834FC31,\n\t\t\t0xD9AF7813, 0xDE78AD13, 0x783F3418, 0xAA123176,\n\t\t\t0x871CF4D1, 0x73412FAB, 0xBAE6C710, 0x06F73481,\n\t\t\t0x8910CF15, 0x927CF813, 0xBCF7834F, 0x73F61193\n\t\t];\n\n\t\tfor (let i = 0; i < this.state.length; i++)\n\t\t\tthis.state[i] = XOR(this.state[i], this.seed);\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tGenerates a 32-bit unsigned integer.\n\t *\t!nextInt32 () : number;\n\t */\n\tnextInt32: function ()\n\t{\n\t\tlet a, b, c, d;\n\n\t\ta = this.state[this.index];\n\t\tc = this.state[(this.index + 13) & 15];\n\t\tb = XOR(XOR(XOR(a, c), SHL(a, 16)), SHL(c, 15));\n\t\tc = this.state[(this.index + 9) & 15];\n\t\tc = XOR(c, SHR(c, 11));\n\t\ta = this.state[this.index] = XOR(b, c);\n\t\td = XOR(a, SHL(a, 5) & 0xDA442D24);\n\n\t\tthis.index = (this.index + 15) & 15;\n\t\ta = this.state[this.index];\n\n\t\tthis.state[this.index] = XOR(XOR(XOR(XOR(XOR(a, b), d), SHL(a, 2)), SHL(b, 18)), SHL(c, 28));\n\t\treturn this.state[this.index] & 0x7FFFFFFFF;\n\t},\n\n\t/**\n\t * \tGenerates a 16-bit unsigned integer.\n\t *\t!nextInt16 () : number;\n\t */\n\tnextInt16: function ()\n\t{\n\t\treturn this.nextInt32() & 0xFFFF;\n\t},\n\n\t/**\n\t * \tGenerates an 8-bit unsigned integer.\n\t * \t!nextInt8 () : number;\n\t */\n\tnextInt8: function ()\n\t{\n\t\treturn this.nextInt32() & 0xFF;\n\t},\n\n\t/**\n\t * \tGenerates a floating point number between 0 an 1 (inclusive).\n\t * \t!nextFloat () : number;\n\t */\n\tnextFloat: function ()\n\t{\n\t\treturn this.nextInt32() / 0x7FFFFFFF;\n\t}\n});\n\nexport default Random;\n","/*\n**\tsystem/log.js\n**\n**\tCopyright (c) 2016-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport System from './system.js';\nimport List from '../utils/list.js';\n\n//![import \"./system\"]\n//![import \"../utils/list\"]\n\n//:/**\n//: * \tLogging module to show logs on the system display buffer.\n//: */\n\n//!namespace Log\n\nconst Log =\n{\n\t/**\n\t * \tIndicates if the log module is enabled.\n\t *\t!let enabled: boolean;\n\t */\n\tenabled: false,\n\n\t/**\n\t * \tIndicates if the log module is paused.\n\t * \t!let paused: boolean;\n\t */\n\tpaused: false,\n\n\t/**\n\t * \tMaximum number of entries to show in the screen.\n\t * \t!let maxsize: number;\n\t */\n\tmaxsize: 30,\n\n\tdata: List.Pool.alloc(),\n\tcount: 0,\n\n\t/**\n\t * \tIndicates if output showuld also be passed to `console.debug` as secondary echo.\n\t * \t!let debugEcho: boolean;\n\t */\n\tdebugEcho: false,\n\n\t/**\n\t * \tForeground (text) color.\n\t * \t!let color: string;\n\t */\n\tcolor: '#fff',\n\n\t/**\n\t * \tBackground color.\n\t * \t!let background: string;\n\t */\n\tbackground: '#cf266a',\n\n\t/**\n\t * \tDebugging variables to show continuously at the top of the log output.\n\t * \t!let vars: object;\n\t */\n\tvars: { },\n\n\t/**\n\t * \tWrites a message to the log buffer, ensure logging has been enabled by calling `enable` first or any messages will be ignored.\n\t * \t!function write (msg: string) : void;\n\t */\n\twrite: function (msg)\n\t{\n\t\tthis.data.push(msg);\n\t\tthis.count++;\n\n\t\twhile (this.data.length > this.maxsize)\n\t\t\tthis.data.shift();\n\n\t\tif (this.debugEcho)\n\t\t\tconsole.debug(this.count + \": \" + msg);\n\t},\n\n\t/**\n\t * \tClears the current log buffer.\n\t * \t!function clear () : void;\n\t */\n\tclear: function ()\n\t{\n\t\tthis.data.reset();\n\t\tthis.count = 0;\n\t},\n\n\t/**\n\t * \tEnables on-screen logging for cool stuff.\n\t *\n\t * \t@param x - X-coordinate of the top-left corner.\n\t * \t@param y - Y-coordinate of the top-left corner.\n\t * \t@param fontSize - Desired font size in `pt` units.\n\t * \t@param showFps - Set to `true` to show FPS.\n\t * \t@param showIndex - Set to `true to show the message index.\n\t *\n\t * \t!function enable (x?: number, y?: number, fontSize?: number, showFps?: boolean, showIndex?: boolean) : void;\n\t */\n\tenable: function (x=0, y=0, fontSize=9.5, showFps=true, showIndex=true)\n\t{\n\t\tif (this.enabled) return;\n\t\tthis.enabled = true;\n\n\t\tif (!showFps) y -= 16;\n\t\tlet _y = y;\n\n\t\tSystem.drawQueueAdd ({ draw: function ()\n\t\t{\n\t\t\tif (Log.paused) return;\n\n\t\t\tlet tmp = hrnow();\n\n\t\t\tconst g = System.displayBuffer3;\n\n\t\t\tg.font('bold '+fontSize+'pt Monospace');\n\t\t\tg.textBaseline('top');\n\n\t\t\tlet s = '';\n\n\t\t\ty = _y;\n\n\t\t\tif (showFps !== false && System.perf.fps != 0)\n\t\t\t{\n\t\t\t\ts = 'fps: ' + System.perf.fps + '/' + System.perf.averageFps + ', update: ' + System.perf.averageUpdateTime + ', draw: ' + System.perf.averageDrawTime + ', extra: ' + System.perf.averageExtraTime;\n\n\t\t\t\tif (Log.background) {\n\t\t\t\t\tg.fillStyle(Log.background);\n\t\t\t\t\tg.fillRect (x-3, y-1, g.measureText(s)+6, fontSize+5);\n\t\t\t\t}\n\n\t\t\t\tg.fillStyle(Log.color);\n\t\t\t\tg.fillText(s, x, y);\n\t\t\t}\n\n\t\t\ts = '';\n\n\t\t\tfor (let i in Log.vars)\n\t\t\t\ts += i + ': ' + Log.vars[i] + '  ';\n\n\t\t\tif (s !== '')\n\t\t\t{\n\t\t\t\ty += 24;\n\n\t\t\t\tif (Log.background) {\n\t\t\t\t\tg.fillStyle(Log.background);\n\t\t\t\t\tg.fillRect (x-3, y-1, g.measureText(s)+6, fontSize+5);\n\t\t\t\t}\n\n\t\t\t\tg.fillStyle(Log.color);\n\t\t\t\tg.fillText(s, x, y);\n\t\t\t}\n\n\t\t\tlet i = 0;\n\t\t\tfor (let ii = Log.data.top; ii; ii = ii.next, i++)\n\t\t\t{\n\t\t\t\ts = (showIndex ? \"#\" + (Log.count-Log.data.length+i+1) + \": \" : \"> \") + ii.value;\n\n\t\t\t\tif (Log.background) {\n\t\t\t\t\tg.fillStyle(Log.background);\n\t\t\t\t\tg.fillRect (x-3, y-1+7 + (fontSize+5)*(i+1) - 1, g.measureText(s)+6, fontSize+5);\n\t\t\t\t}\n\n\t\t\t\tg.fillStyle(Log.color);\n\t\t\t\tg.fillText(s, x, y-1+7 + (fontSize+5)*(i+1));\n\t\t\t}\n\n\t\t\ttmp = (hrnow() - tmp);\n\t\t\tSystem.perf.drawTimeTotal -= tmp;\n\t\t\tSystem.perf.extraTimeTotal += tmp;\n\t\t}});\n\t},\n\n\t/**\n\t * \tPauses log rendering.\n\t * \t!function pause () : void;\n\t */\n\tpause: function ()\n\t{\n\t\tthis.paused = true;\n\t\treturn;\n\t},\n\n\t/**\n\t * \tResumes log rendering.\n\t * \t!function resume () : void;\n\t */\n\tresume: function ()\n\t{\n\t\tthis.paused = false;\n\t\treturn;\n\t}\n};\n\nexport default Log;\n","/*\n**\tsystem/system.js\n**\n**\tCopyright (c) 2016-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport KeyCode from './keycode.js';\nimport List from '../utils/list.js';\nimport Linkable from '../utils/linkable.js';\nimport Timer from './timer.js';\nimport Canvas from './canvas.js';\nimport Log from './log.js';\nimport globals from './globals.js';\nimport Recycler from '../utils/recycler.js';\n\n//![import \"./keycode\"]\n//![import \"../utils/list\"]\n//![import \"../utils/linkable\"]\n//![import \"./timer\"]\n//![import \"./canvas\"]\n//![import \"./globals\"]\n\n//!namespace System\n\n\t//:type DisplayOrientation = 'default'|'landscape'|'portrait'|'automatic'|'strict';\n\n\t//!type Options =\n\n\t\t/**\n\t\t *\tBackground of the system canvas. Should be a full 7-digit HEX RGB color.\n\t\t *\t@default \"#000000\"\n\t\t *\t!background?: string;\n\t\t */\n\n\t\t/**\n\t\t * \tSet to `false` to disable WebGL mode.\n\t\t * \t@default true\n\t\t * \t!gl?: boolean;\n\t\t */\n\n\t\t/**\n\t\t *\tSet to `true` t o enable on-screen logging.\n\t\t *\t@default false\n\t\t *\t!log?: boolean,\n\t\t */\n\n\t\t/**\n\t\t *\tWhen `true` the renderer will not clear the buffer on each frame draw, thus allowing overdrawing on the previous frame.\n\t\t *\t@default false\n\t\t *\t!overdraw?: boolean,\n\t\t */\n\n\t\t/**\n\t\t *\tEnables or disables antialised canvas. Set to `false` when pixel-perfect is desired.\n\t\t *\t@default false\n\t\t *\t!antialias?: boolean;\n\t\t */\n\n\t\t/**\n\t\t *\tDesired orientaton of the display.\n\t\t *\t@default \"automatic\"\n\t\t *\t!orientation?: System.DisplayOrientation;\n\t\t */\n\n\t\t/**\n\t\t *\tDesired display width. When not specified (null) the maximum screen width to maintain the aspect ratio will be used.\n\t\t *\t@default null\n\t\t *\t!screenWidth?: number;\n\t\t */\n\n\t\t/**\n\t\t *\tDesired display height. When not specified (null) the maximum screen height to maintain the aspect ratio will be used.\n\t\t *\t@default null\n\t\t *\t!screenHeight?: number;\n\t\t */\n\n\t\t/**\n\t\t *\tTarget frames per second (FPS). Used to determine delay between frames.\n\t\t *\t@default 144\n\t\t *\t!fps?: number;\n\t\t */\n\n\t\t/**\n\t\t *\tMinimum allowed frames per second (FPS). If system FPS drops below this value, the `frameDelta` property of System will be truncated to 1/minFps.\n\t\t *\t@default 10\n\t\t *\t!minFps?: number;\n\t\t */\n\n\t\t/**\n\t\t *\tSelects which rendering mechanism to use either requestAnimationFrame when `true` or setTimeout when `false`.\n\t\t *\t@default true\n\t\t *\t!vsync?: boolean;\n\t\t */\n\n\t\t/**\n\t\t *\tExtra scale factor used to resize images. Use only when you want to render higher resolution images possibly for a very high DPI display.\n\t\t *\t@default 1\n\t\t *\t!extraScaleFactor?: number;\n\t\t */\n\n\t\t/**\n\t\t *\tMaximum scale factor that should be used in the system. A value of `null` will cause no limit.\n\t\t *\t@default null\n\t\t *\t!maxScaleFactor?: number;\n\t\t */\n\n\t\t/**\n\t\t *\tIndicates which method to use to find the target resolution, using `fullscreen` object when `true`, or the `window` object when `false`.\n\t\t *\t@default false\n\t\t *\t!fullscreen?: boolean;\n\t\t */\n\n\t\t/**\n\t\t * \tIndicates if recycler pool preallocation should be automatically executed. Additionally if this value is a number, it will be used as\n\t\t * \tmaximum preallocation parameter for the recycler.\n\t\t * \t@default false\n\t\t * \t!preallocate?: boolean|number;\n\t\t */\n\n\t//!/type\n\n//!/namespace\n\n//!class System\n\nconst System =\n{\n\t/**\n\t * \tRenderer status flags.\n\t */\n\tflags:\n\t{\n\t\trenderingEnabled: false,\n\t\trenderingPaused: false\n\t},\n\n\t/**\n\t * \tDefault options of the rendering system.\n\t */\n\tdefaultOptions:\n\t{\n\t\tbackground: \"#000000\",\n\t\tgl: true,\n\t\tlog: false,\n\n\t\toverdraw: false,\n\t\tantialias: true,\n\t\torientation: 0,\n\n\t\tfps: 144,\n\t\tminFps: 15,\n\t\tvsync: true,\n\n\t\tscreenWidth: null,\n\t\tscreenHeight: null,\n\n\t\textraScaleFactor: 1,\n\t\tmaxScaleFactor: null,\n\n\t\tfullscreen: false\n\t},\n\n\t/**\n\t * \tScreen width, available only after the system has been initialized.\n\t * \t!static readonly screenWidth: number;\n\t */\n\tscreenWidth: 0,\n\n\t/**\n\t * \tScreen height, available only after the system has been initialized.\n\t * \t!static readonly screenHeight: number;\n\t */\n\tscreenHeight: 0,\n\n\t/**\n\t * \tCurrent display orientation.\n\t * \t!static readonly orientation: System.DisplayOrientation;\n\t */\n\torientation: 0,\n\n\t/**\n\t * \tCoordinates of the screen's offset (for letter-box effect when the screen does not fit tightly).\n\t */\n\toffsX: 0, offsY: 0,\n\n\t/**\n\t * \tDevice pixel ratio, canvas backing store ratio and resulting canvas ratio (devicePixelRatio / backingStoreRatio).\n\t */\n\tdevicePixelRatio: 1, backingStoreRatio: 1, canvasPixelRatio: 1, canvasScaleFactor: 1, scaleFactor: 1,\n\n\t/**\n\t * \tInitial transformation matrix. Should be used (if needed) instead of `loadIdentity` since the System does some transformations first.\n\t * \t!static readonly initialMatrix: Matrix;\n\t */\n\tinitialMatrix: null,\n\n\t/**\n\t * \tPrimary renderer.\n\t * \t!static readonly renderer: Canvas;\n\t */\n\trenderer: null,\n\n\t/**\n\t * \tSecondary display buffer (always 2D). Has the same initial transformation matrix as the primary display buffer.\n\t * \t!static readonly displayBuffer2: Canvas;\n\t */\n\tdisplayBuffer2: null,\n\n\t/**\n\t * \tTerciary display buffer (always 2D). Is assured to have 1:1 with the screen size, initial transformation matrix not applied.\n\t * \t!static readonly displayBuffer3: Canvas;\n\t */\n\tdisplayBuffer3: null,\n\n\t/**\n\t * \tTemporal display buffer (640x480). Used to preload images.\n\t */\n\ttempDisplayBuffer: null,\n\n\t/**\n\t * \tMap with the status of all keys (along with other flags).\n\t */\n\tkeyState: { time: 0, shift: false, ctrl: false, alt: false, keyCode: 0 },\n\n\t/**\n\t * \tCurrent status of all pointers. The related object is known as the Pointer State, and has the following fields: id, isActive, isDragging, sx, sy, x, y, dx, dy, button, wheelDelta and wheelAccum.\n\t */\n\tpointerState: { },\n\n\t/**\n\t * \tThe update method of all objects will be executed when the system update() method is called.\n\t */\n\tupdateQueue: null,\n\n\t/**\n\t * \tThe draw method of all objects will be executed when the system draw() method is called.\n\t */\n\tdrawQueue: null, /*List*/\n\n\t/**\n\t * \tThe frame delta is multiplied by this value before each system cycle (defaults to 1).\n\t * \t!static timeScale: number;\n\t */\n\ttimeScale: 1,\n\n\t/**\n\t * \tFrame interval in milliseconds.\n\t * \t!static readonly frameInterval: number;\n\t */\n\tframeInterval: 0,\n\n\t/**\n\t * \tFixed frame interval in milliseconds, when set to non-zero value the frame delta will always be set to this value.\n\t * \t!static fixedFrameInterval: number;\n\t */\n\tfixedFrameInterval: 0,\n\n\t/**\n\t * \tMaximum frame interval in milliseconds, if the `frameDelta` exceeds this, it will be truncated to this value. Controlled by the `minFps` value\n\t * \tof the system initialization options.\n\t * \t!static readonly maxFrameInterval: number;\n\t */\n\tmaxFrameInterval: 0,\n\n\t/**\n\t * \tLast frame delta in seconds.\n\t * \t!static readonly frameDelta: number;\n\t */\n\tframeDelta: 0,\n\n\t/**\n\t * \tLogical system time in seconds. Updated on each cycle by the calculated `frameDelta`.\n\t * \t!static readonly frameTime: number;\n\t */\n\tframeTime: 0,\n\n\t/**\n\t * \tCurrent frame number.\n\t * \t!static readonly frameNumber: number;\n\t */\n\tframeNumber: 0,\n\n\t/**\n\t * \tRendering performance data.\n\t */\n\tperf:\n\t{\n\t\t/**\n\t\t * \tCurrent time range.\n\t\t */\n\t\tstartTime: 0,\n\t\tlastTime: 0,\n\n\t\t/**\n\t\t * \tNumber of frames drawn in the current time range.\n\t\t */\n\t\tnumFrames: 0,\n\n\t\t/**\n\t\t * \tNumber of update and draw samples averaged in total.\n\t\t */\n\t\tnumSamples: 0,\n\n\t\t/**\n\t\t * \tTotal time spent in update, draw and extra respectively in the current time range.\n\t\t */\n\t\tupdateTimeTotal: 0,\n\t\tdrawTimeTotal: 0,\n\t\textraTimeTotal: 0,\n\n\t\t/**\n\t\t * \tCalculated values for the last time range. The updateTime and drawTime are in microseconds.\n\t\t */\n\t\tfps: 0,\n\t\taverageFps: 0,\n\t\taverageUpdateTime: 0,\n\t\taverageDrawTime: 0,\n\t\taverageExtraTime: 0\n\t},\n\n\t/**\n\t * \tInitializes the system with the specified configuration options.\n\t * \t!static init (options: System.Options) : void;\n\t */\n\tinit: function (options=null)\n\t{\n\t\tlet self = this;\n\n\t\tlet o = { ...this.defaultOptions, ...options };\n\t\tthis.options = o;\n\n\t\t// Execute recycler pool data preallocation.\n\t\tif (this.options.preallocate !== false)\n\t\t{\n\t\t\tif (this.options.preallocate === true)\n\t\t\t\tRecycler.preallocate();\n\t\t\telse\n\t\t\t\tRecycler.preallocate(this.options.preallocate);\n\t\t}\n\n\t\t// Set default orientation if both target sizes were specified.\n\t\tif (o.screenWidth && o.screenHeight && o.orientation == 'default')\n\t\t\to.orientation = o.screenWidth > o.screenHeight ? 'landscape' : 'portrait';\n\n\t\tthis.orientation = o.orientation;\n\n\t\tthis.updateQueue = List.Pool.alloc();\n\t\tthis.drawQueue = List.Pool.alloc();\n\n\t\t// Attach frame event handlers.\n\t\tthis.frameInterval = 1000 / o.fps;\n\t\tthis.maxFrameInterval = 1000 / o.minFps;\n\n\t\tglobal.onresize = function() { self.onWindowResized(); };\n\n\t\tthis.frameTimer = new Timer (o.vsync, this.frameInterval, (delta) => this.onFrame(delta));\n\n\t\t// Setup canvas buffer.\n\t\tthis.renderer = new Canvas ({ gl: o.gl, elem: null, absolute: true, hidden: false, antialias: o.antialias, background: o.background });\n\n\t\tthis.displayBuffer2 = new Canvas ({ gl: false, elem: null, absolute: true, hidden: false, antialias: o.antialias, background: 'none' });\n\t\tthis.displayBuffer2.elem.style.pointerEvents = 'none';\n\n\t\tthis.displayBuffer3 = new Canvas ({ gl: false, elem: null, absolute: true, hidden: false, antialias: o.antialias, background: 'none' });\n\t\tthis.displayBuffer3.elem.style.pointerEvents = 'none';\n\n\t\tthis.tempDisplayBuffer = new Canvas ({ hidden: true, antialias: o.antialias }).resize(640, 480);\n\n\t\tlet display0 = this.renderer.elem;\n\n\t\t// Obtain device display ratios.\n\t\tthis.devicePixelRatio = global.devicePixelRatio || 1;\n\n\t\tthis.backingStoreRatio = o.gl === true ? 1 : (this.renderer.context.webkitBackingStorePixelRatio ||\n\t\t\t\t\t\t\t\t\tthis.renderer.context.mozBackingStorePixelRatio ||\n\t\t\t\t\t\t\t\t\tthis.renderer.context.msBackingStorePixelRatio ||\n\t\t\t\t\t\t\t\t\tthis.renderer.context.oBackingStorePixelRatio ||\n\t\t\t\t\t\t\t\t\tthis.renderer.context.backingStorePixelRatio || 1);\n\n\t\tthis.canvasPixelRatio = this.devicePixelRatio / this.backingStoreRatio;\n\n\t\tSystem.onWindowResized(true);\n\n\t\t// Attach keyboard event handlers.\n\t\tglobal.onkeydown = function (evt)\n\t\t{\n\t\t\tif (evt.target !== global.document.body)\n\t\t\t\treturn;\n\n\t\t\tif (self.keyState[evt.keyCode])\n\t\t\t\treturn false;\n\n\t\t\tself.keyState[evt.keyCode] = true;\n\n\t\t\tself.keyState.keyCode = evt.keyCode;\n\t\t\tself.keyState.startTime = hrnow();\n\n\t\t\tswitch (evt.keyCode)\n\t\t\t{\n\t\t\t\tcase 16: // SHIFT\n\t\t\t\t\tself.keyState.shift = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 17: // CTRL\n\t\t\t\t\tself.keyState.ctrl = true;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 18: // ALT\n\t\t\t\t\tself.keyState.alt = true;\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\t// CTRL+TAB should always be handled by the browser.\n\t\t\tif (self.keyState.ctrl && evt.keyCode == KeyCode.TAB)\n\t\t\t{\n\t\t\t\tself.keyState[evt.keyCode] = false;\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\tif (self.onKeyboardEvent (self.KeyboardEventType.KEY_DOWN, evt.keyCode, self.keyState) === false)\n\t\t\t\treturn false;\n\t\t};\n\n\t\tglobal.onkeyup = function (evt)\n\t\t{\n\t\t\tif (evt.target !== global.document.body)\n\t\t\t\treturn;\n\n\t\t\tif (!self.keyState[evt.keyCode])\n\t\t\t\treturn false;\n\n\t\t\tself.keyState[evt.keyCode] = false;\n\t\t\tself.keyState.endTime = hrnow();\n\t\t\tself.keyState.keyCode = evt.keyCode;\n\n\t\t\tswitch (evt.keyCode)\n\t\t\t{\n\t\t\t\tcase 16: // SHIFT\n\t\t\t\t\tself.keyState.shift = false;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 17: // CTRL\n\t\t\t\t\tself.keyState.ctrl = false;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 18: // ALT\n\t\t\t\t\tself.keyState.alt = false;\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tif (self.onKeyboardEvent (self.KeyboardEventType.KEY_UP, evt.keyCode, self.keyState) === false)\n\t\t\t\treturn false;\n\t\t};\n\n\t\t// Converts pointer coordinates from physical space to screen space.\n\n\t\tconst pointerConvX = function (x, y)\n\t\t{\n\t\t\treturn System.reverseRender ? int(System.screenWidth-1 - (y-System.offsY)/System.canvasScaleFactor) : int((x-System.offsX)/System.canvasScaleFactor);\n\t\t};\n\n\t\tconst pointerConvY = function (x, y)\n\t\t{\n\t\t\treturn System.reverseRender ? int((x-System.offsX)/System.canvasScaleFactor) : int((y-System.offsY)/System.canvasScaleFactor);\n\t\t};\n\n\t\t// Attach pointer event handlers if pointer-events are available.\n\t\tif (\"ontouchstart\" in global)\n\t\t{\n\t\t\tdisplay0.ontouchstart = function (evt)\n\t\t\t{\n\t\t\t\tevt.preventDefault();\n\n\t\t\t\tlet touches = evt.changedTouches;\n\n\t\t\t\tfor (let i = 0; i < touches.length; i++)\n\t\t\t\t{\n\t\t\t\t\tif (!System.pointerState[touches[i].identifier])\n\t\t\t\t\t{\n\t\t\t\t\t\tSystem.pointerState[touches[i].identifier] = {\n\t\t\t\t\t\t\t\tid: touches[i].identifier, isActive: false, isDragging: false,\n\t\t\t\t\t\t\t\tsx: 0, sy: 0, x: 0, y: 0, dx: 0, dy: 0, button: 0,\n\t\t\t\t\t\t\t\twheelDelta: 0, wheelAccum: 0\n\t\t\t\t\t\t\t};\n\t\t\t\t\t}\n\n\t\t\t\t\tlet p = System.pointerState[touches[i].identifier];\n\n\t\t\t\t\tp.isActive = true;\n\t\t\t\t\tp.isDragging = false;\n\t\t\t\t\tp.button = 1;\n\n\t\t\t\t\tp.startTime = hrnow();\n\n\t\t\t\t\tp.x = p.sx = pointerConvX(touches[i].clientX, touches[i].clientY);\n\t\t\t\t\tp.y = p.sy = pointerConvY(touches[i].clientX, touches[i].clientY);\n\n\t\t\t\t\tSystem.onPointerEvent (System.PointerEventType.POINTER_DOWN, p, System.pointerState);\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t};\n\n\t\t\tdisplay0.ontouchend = function (evt)\n\t\t\t{\n\t\t\t\tevt.preventDefault();\n\n\t\t\t\tlet touches = evt.changedTouches;\n\n\t\t\t\tfor (let i = 0; i < touches.length; i++)\n\t\t\t\t{\n\t\t\t\t\tif (!System.pointerState[touches[i].identifier])\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\tlet p = System.pointerState[touches[i].identifier];\n\n\t\t\t\t\tp.endTime = hrnow();\n\t\t\t\t\tp.deltaTime = p.endTime - p.startTime;\n\n\t\t\t\t\tp.x = pointerConvX(touches[i].clientX, touches[i].clientY)\n\t\t\t\t\tp.y = pointerConvY(touches[i].clientX, touches[i].clientY)\n\n\t\t\t\t\tif (p.isDragging)\n\t\t\t\t\t\tSystem.onPointerEvent (System.PointerEventType.POINTER_DRAG_STOP, p, System.pointerState);\n\n\t\t\t\t\tSystem.onPointerEvent (System.PointerEventType.POINTER_UP, p, System.pointerState);\n\n\t\t\t\t\tp.isActive = false;\n\t\t\t\t\tp.isDragging = false;\n\n\t\t\t\t\tp.button = 0;\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t};\n\n\t\t\tdisplay0.ontouchcancel = function (evt)\n\t\t\t{\n\t\t\t\tevt.preventDefault();\n\n\t\t\t\tlet touches = evt.changedTouches;\n\n\t\t\t\tfor (let i = 0; i < touches.length; i++)\n\t\t\t\t{\n\t\t\t\t\tif (!System.pointerState[touches[i].identifier])\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\tlet p = System.pointerState[touches[i].identifier];\n\n\t\t\t\t\tp.x = pointerConvX(touches[i].clientX, touches[i].clientY);\n\t\t\t\t\tp.y = pointerConvY(touches[i].clientX, touches[i].clientY);\n\n\t\t\t\t\tSystem.onPointerEvent (p.isDragging ? System.PointerEventType.POINTER_DRAG_STOP : System.PointerEventType.POINTER_UP, p, System.pointerState);\n\n\t\t\t\t\tp.isActive = false;\n\t\t\t\t\tp.isDragging = false;\n\n\t\t\t\t\tp.button = 0;\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t};\n\n\t\t\tdisplay0.ontouchmove = function (evt)\n\t\t\t{\n\t\t\t\tevt.preventDefault();\n\n\t\t\t\tlet touches = evt.changedTouches;\n\n\t\t\t\tfor (let i = 0; i < touches.length; i++)\n\t\t\t\t{\n\t\t\t\t\tif (!System.pointerState[touches[i].identifier])\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\tlet p = System.pointerState[touches[i].identifier];\n\n\t\t\t\t\tif (p.isActive && !p.isDragging)\n\t\t\t\t\t{\n\t\t\t\t\t\tSystem.onPointerEvent (System.PointerEventType.POINTER_DRAG_START, p, System.pointerState);\n\t\t\t\t\t\tp.isDragging = true;\n\t\t\t\t\t}\n\n\t\t\t\t\tp.x = pointerConvX(touches[i].clientX, touches[i].clientY);\n\t\t\t\t\tp.y = pointerConvY(touches[i].clientX, touches[i].clientY);\n\n\t\t\t\t\tp.dx = p.x - p.sx;\n\t\t\t\t\tp.dy = p.y - p.sy;\n\n\t\t\t\t\tSystem.onPointerEvent (p.isDragging ? System.PointerEventType.POINTER_DRAG_MOVE : System.PointerEventType.POINTER_MOVE, p, System.pointerState);\n\t\t\t\t}\n\n\t\t\t\treturn false;\n\t\t\t};\n\t\t}\n\t\t// Attach mouse event handlers when pointer-events are not available.\n\t\telse\n\t\t{\n\t\t\tdisplay0.oncontextmenu = function (evt)\n\t\t\t{\n\t\t\t\tevt.preventDefault();\n\t\t\t\treturn false;\n\t\t\t};\n\n\t\t\tdisplay0.onwheel = function (evt)\n\t\t\t{\n\t\t\t\tevt.preventDefault();\n\n\t\t\t\tif (!System.pointerState[0])\n\t\t\t\t{\n\t\t\t\t\tSystem.pointerState[0] = {\n\t\t\t\t\t\t\tid: 0, isActive: false, isDragging: false,\n\t\t\t\t\t\t\tsx: 0, sy: 0, x: 0, y: 0, dx: 0, dy: 0, button: 0,\n\t\t\t\t\t\t\twheelDelta: 0, wheelAccum: 0\n\t\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tlet p = System.pointerState[0];\n\n\t\t\t\tp.x = pointerConvX(evt.clientX, evt.clientY);\n\t\t\t\tp.y = pointerConvY(evt.clientX, evt.clientY);\n\t\t\t\tp.wheelDelta = evt.deltaY;\n\t\t\t\tp.wheelAccum += evt.deltaY;\n\n\t\t\t\tSystem.onPointerEvent (System.PointerEventType.POINTER_WHEEL, p, System.pointerState);\n\t\t\t\treturn false;\n\t\t\t};\n\n\t\t\tdisplay0.onmousedown = function (evt)\n\t\t\t{\n\t\t\t\tevt.preventDefault();\n\n\t\t\t\tif (!System.pointerState[0])\n\t\t\t\t{\n\t\t\t\t\tSystem.pointerState[0] = {\n\t\t\t\t\t\t\tid: 0, isActive: false, isDragging: false,\n\t\t\t\t\t\t\tsx: 0, sy: 0, x: 0, y: 0, dx: 0, dy: 0, button: 0,\n\t\t\t\t\t\t\twheelDelta: 0, wheelAccum: 0\n\t\t\t\t\t\t};\n\t\t\t\t}\n\n\t\t\t\tlet p = System.pointerState[0];\n\n\t\t\t\tp.isActive = true;\n\t\t\t\tp.isDragging = false;\n\t\t\t\tp.button = evt.which;\n\n\t\t\t\tp.x = p.sx = pointerConvX(evt.clientX, evt.clientY);\n\t\t\t\tp.y = p.sy = pointerConvY(evt.clientX, evt.clientY);\n\n\t\t\t\tSystem.onPointerEvent (System.PointerEventType.POINTER_DOWN, p, System.pointerState);\n\t\t\t\treturn false;\n\t\t\t};\n\n\t\t\tdisplay0.onmouseup = function (evt)\n\t\t\t{\n\t\t\t\tevt.preventDefault();\n\n\t\t\t\tif (!System.pointerState[0])\n\t\t\t\t\treturn false;\n\n\t\t\t\tlet p = System.pointerState[0];\n\n\t\t\t\tp.x = pointerConvX(evt.clientX, evt.clientY);\n\t\t\t\tp.y = pointerConvY(evt.clientX, evt.clientY);\n\n\t\t\t\tif (p.isDragging)\n\t\t\t\t\tSystem.onPointerEvent (System.PointerEventType.POINTER_DRAG_STOP, p, System.pointerState);\n\n\t\t\t\tSystem.onPointerEvent (System.PointerEventType.POINTER_UP, p, System.pointerState);\n\n\t\t\t\tp.isActive = false;\n\t\t\t\tp.isDragging = false;\n\n\t\t\t\tp.button = 0;\n\t\t\t};\n\n\t\t\tdisplay0.onmousemove = function (evt)\n\t\t\t{\n\t\t\t\tevt.preventDefault();\n\n\t\t\t\tif (!System.pointerState[0])\n\t\t\t\t\treturn false;\n\n\t\t\t\tlet p = System.pointerState[0];\n\n\t\t\t\tif (p.isActive && !p.isDragging)\n\t\t\t\t{\n\t\t\t\t\tSystem.onPointerEvent (System.PointerEventType.POINTER_DRAG_START, p, System.pointerState);\n\t\t\t\t\tp.isDragging = true;\n\t\t\t\t}\n\n\t\t\t\tp.x = pointerConvX(evt.clientX, evt.clientY);\n\t\t\t\tp.y = pointerConvY(evt.clientX, evt.clientY);\n\n\t\t\t\tp.dx = p.x - p.sx;\n\t\t\t\tp.dy = p.y - p.sy;\n\n\t\t\t\tSystem.onPointerEvent (p.isDragging ? System.PointerEventType.POINTER_DRAG_MOVE : System.PointerEventType.POINTER_MOVE, p, System.pointerState);\n\t\t\t\treturn false;\n\t\t\t};\n\t\t}\n\n\t\t// Enable log if flag is set.\n\t\tif (o.log === true) Log.enable();\n\t},\n\n\t/**\n\t * \tReturns the current logical time in seconds (same as reading `System.frameTime`).\n\t * \t!static time() : number;\n\t */\n\ttime: function()\n\t{\n\t\treturn this.frameTime;\n\t},\n\n\t/**\n\t * \tStarts the system and enables rendering and updates.\n\t * \t!static start() : void;\n\t */\n\tstart: function()\n\t{\n\t\tthis.onWindowResized();\n\n\t\tthis.flags.renderingPaused = false;\n\t\tthis.frameTimer.start();\n\t},\n\n\t/**\n\t * \tStops the system by disabling both rendering and updates.\n\t * \t!static stop() : void;\n\t */\n\tstop: function()\n\t{\n\t\tthis.flags.renderingPaused = true;\n\t\tthis.frameTimer.stop();\n\t},\n\n\t/**\n\t * \tPauses the system by disabling updates, but rendering will be continued.\n\t * \t!static pause() : void;\n\t */\n\tpause: function()\n\t{\n\t\tthis.flags.renderingPaused = true;\n\t},\n\n\t/**\n\t * \tResumes the system after previously being paused with `pause` method.\n\t * \t!static resume() : void;\n\t */\n\tresume: function()\n\t{\n\t\tthis.flags.renderingPaused = false;\n\t\tthis.resetPerf();\n\t},\n\n\t/**\n\t * \tExecuted when a frame needs to be rendered to the display buffer.\n\t * \tstatic onFrame (delta: number) : void;\n\t */\n\tonFrame: function(delta)\n\t{\n\t\tlet now = hrnow()\n\t\tlet tmp;\n\n\t\tif (delta > this.maxFrameInterval)\n\t\t\tdelta = this.maxFrameInterval;\n\n\t\tif (this.fixedFrameInterval !== 0)\n\t\t\tdelta = this.fixedFrameInterval;\n\n\t\tif (!this.flags.renderingEnabled || this.flags.renderingPaused)\n\t\t{\n\t\t\tthis.draw();\n\t\t\treturn;\n\t\t}\n\n\t\tdelta *= this.timeScale;\n\n\t\tthis.frameDelta = delta / 1000.0;\n\t\tthis.frameTime += this.frameDelta;\n\t\tglobals.time = this.frameTime;\n\n\t\tthis.frameNumber++;\n\n\t\t/* ~ */\n\t\ttmp = hrnow();\n\t\tthis.update (this.frameDelta);\n\t\tthis.perf.updateTimeTotal += hrnow() - tmp;\n\n\t\t/* ~ */\n\t\ttmp = hrnow();\n\t\tthis.draw();\n\t\tthis.perf.drawTimeTotal += hrnow() - tmp;\n\n\t\t/* ~ */\n\t\tthis.perf.lastTime = now;\n\t\tthis.perf.numFrames++;\n\n\t\tdelta = this.perf.lastTime - this.perf.startTime;\n\t\tif (delta > 1000)\n\t\t{\n\t\t\tthis.perf.fps = int(this.perf.numFrames*1000 / delta);\n\n\t\t\t//this.perf.extraTimeTotal = delta - this.perf.updateTimeTotal - this.perf.drawTimeTotal;\n\n\t\t\tthis.perf.averageFps = int(((this.perf.averageFps*this.perf.numSamples) + this.perf.fps) / (this.perf.numSamples + 1));\n\t\t\tthis.perf.averageUpdateTime = int(((this.perf.averageUpdateTime*this.perf.numSamples) + (this.perf.updateTimeTotal*1000 / this.perf.numFrames)) / (this.perf.numSamples + 1));\n\t\t\tthis.perf.averageDrawTime = int(((this.perf.averageDrawTime*this.perf.numSamples) + (this.perf.drawTimeTotal*1000 / this.perf.numFrames)) / (this.perf.numSamples + 1));\n\t\t\tthis.perf.averageExtraTime = int(((this.perf.averageExtraTime*this.perf.numSamples) + (this.perf.extraTimeTotal*1000 / this.perf.numFrames)) / (this.perf.numSamples + 1));\n\t\t\tthis.perf.numSamples++;\n\n\t\t\tthis.perf.startTime = now;\n\t\t\tthis.perf.lastTime = now;\n\t\t\tthis.perf.numFrames = 0;\n\t\t\tthis.perf.updateTimeTotal = 0;\n\t\t\tthis.perf.drawTimeTotal = 0;\n\t\t\tthis.perf.extraTimeTotal = 0;\n\t\t}\n\t},\n\n\t/**\n\t * \tExecuted when the size of the window has changed.\n\t * \tstatic onWindowResized (notRendering: boolean = false) : void;\n\t */\n\tonWindowResized: function (notRendering=false)\n\t{\n\t\t// Determine size of the screen.\n\t\tif ('document' in global)\n\t\t{\n\t\t\tif (this.options.fullscreen)\n\t\t\t{\n\t\t\t\tthis._screenWidth = int(global.screen.width);\n\t\t\t\tthis._screenHeight = int(global.screen.height);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis._screenWidth = global.innerWidth;\n\t\t\t\tthis._screenHeight = global.innerHeight;\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis._screenWidth = this.options.screenWidth;\n\t\t\tthis._screenHeight = this.options.screenHeight;\n\n\t\t\tif (this.options.screenWidth == null && this.options.screenHeight == null)\n\t\t\t\tthrow new Error ('At least one screen dimension must be specified in headless mode.');\n\t\t}\n\n\t\t// Flip dimensions to ensure the desired orientation.\n\t\tif ((this._screenWidth < this._screenHeight && this.orientation == 'landscape') || (this._screenWidth > this._screenHeight && this.orientation == 'portrait'))\n\t\t{\n\t\t\tthis.screenWidth = this._screenHeight;\n\t\t\tthis.screenHeight = this._screenWidth;\n\n\t\t\tthis.reverseRender = true;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.screenWidth = this._screenWidth;\n\t\t\tthis.screenHeight = this._screenHeight;\n\n\t\t\tthis.reverseRender = false;\n\t\t}\n\n\t\t// Get target screen dimensions.\n\t\tlet targetScreenWidth = this.options.screenWidth;\n\t\tlet targetScreenHeight = this.options.screenHeight;\n\n\t\tif (targetScreenWidth === null || targetScreenHeight === null)\n\t\t{\n\t\t\tif (targetScreenWidth === null && targetScreenHeight === null)\n\t\t\t{\n\t\t\t\ttargetScreenWidth = this.screenWidth;\n\t\t\t\ttargetScreenHeight = this.screenHeight;\n\t\t\t}\n\t\t\telse if (targetScreenWidth === null)\n\t\t\t{\n\t\t\t\ttargetScreenWidth = int(0.5 + this.screenWidth * (this.options.screenHeight / this.screenHeight));\n\t\t\t}\n\t\t\telse if (targetScreenHeight === null)\n\t\t\t{\n\t\t\t\ttargetScreenHeight = int(0.5 + this.screenHeight * (this.options.screenWidth / this.screenWidth));\n\t\t\t}\n\t\t}\n\n\t\t// ***\n\t\tlet screenWidth = targetScreenWidth;\n\t\tlet screenHeight = targetScreenHeight;\n\n\t\tif (this.orientation === 'automatic' && screenWidth && screenHeight)\n\t\t{\n\t\t\tif ((screenWidth > screenHeight && this.screenWidth < this.screenHeight) || (screenWidth < screenHeight && this.screenWidth > this.screenHeight))\n\t\t\t{\n\t\t\t\tscreenWidth = screenHeight;\n\t\t\t\tscreenHeight = targetScreenWidth;\n\t\t\t}\n\t\t}\n\n\t\t// ***\n\t\tthis.canvasScaleFactor = 1;\n\n\t\tif (screenWidth && screenHeight)\n\t\t{\n\t\t\tthis.canvasScaleFactor = Math.min(this.screenWidth / screenWidth, this.screenHeight / screenHeight);\n\t\t}\n\t\telse if (screenWidth)\n\t\t{\n\t\t\tthis.canvasScaleFactor = this.screenWidth / screenWidth;\n\t\t}\n\t\telse if (screenHeight)\n\t\t{\n\t\t\tthis.canvasScaleFactor = this.screenHeight / screenHeight;\n\t\t}\n\n\t\t// ***\n\t\tlet _screenWidth = this.screenWidth;\n\t\tlet _screenHeight = this.screenHeight;\n\n\t\tif (screenWidth) this.screenWidth = screenWidth;\n\t\tif (screenHeight) this.screenHeight = screenHeight;\n\n\t\tthis.offsX = int((_screenWidth - this.screenWidth*this.canvasScaleFactor)*0.5);\n\t\tthis.offsY = int((_screenHeight - this.screenHeight*this.canvasScaleFactor)*0.5);\n\n\t\tif (this.reverseRender)\n\t\t{\n\t\t\tlet tmp = this.offsX;\n\t\t\tthis.offsX = this.offsY;\n\t\t\tthis.offsY = tmp;\n\t\t}\n\n\t\tthis.scaleFactor = this.canvasScaleFactor * this.canvasPixelRatio;\n\t\tthis.scaleFactor = int(0.7 + this.scaleFactor);\n\n\t\tif (this.options.maxScaleFactor > 0 && this.scaleFactor > this.options.maxScaleFactor)\n\t\t\tthis.scaleFactor = this.options.maxScaleFactor;\n\n\t\tthis.flags.renderingEnabled = false;\n\n\t\t/*\n\t\t**\tIf the scale is not exact, the final canvas size might not fit the entire screen perfectly (will always be a little smaller in\n\t\t**\tsuch a case), when that happens the body's background color will be quite noticeable, to mitigate that we set the body background\n\t\t**\tto the same color as the primary canvas.\n\t\t*/\n\t\tif ('document' in global)\n\t\t\tglobal.document.body.style.backgroundColor = this.renderer.backgroundColor;\n\n\t\t/*\n\t\t**\tResize all display buffers.\n\t\t*/\n\t\tif (!this.reverseRender)\n\t\t{\n\t\t\tthis.renderer.resize (this.screenWidth*this.scaleFactor, this.screenHeight*this.scaleFactor);\n\t\t\tthis.renderer.elem.style.width = int(this.screenWidth*this.canvasScaleFactor+0.5) + \"px\";\n\t\t\tthis.renderer.elem.style.height = int(this.screenHeight*this.canvasScaleFactor+0.5) + \"px\";\n\n\t\t\tthis.displayBuffer2.resize (this.screenWidth*this.scaleFactor, this.screenHeight*this.scaleFactor);\n\t\t\tthis.displayBuffer2.elem.style.width = int(this.screenWidth*this.canvasScaleFactor+0.5) + \"px\";\n\t\t\tthis.displayBuffer2.elem.style.height = int(this.screenHeight*this.canvasScaleFactor+0.5) + \"px\";\n\n\t\t\tthis.displayBuffer3.resize (_screenWidth, _screenHeight);\n\t\t\tthis.displayBuffer3.elem.style.width = _screenWidth + \"px\";\n\t\t\tthis.displayBuffer3.elem.style.height = _screenHeight + \"px\";\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.renderer.resize (this.screenHeight*this.scaleFactor, this.screenWidth*this.scaleFactor);\n\t\t\tthis.renderer.elem.style.width = int(this.screenHeight*this.canvasScaleFactor+0.5) + \"px\";\n\t\t\tthis.renderer.elem.style.height = int(this.screenWidth*this.canvasScaleFactor+0.5) + \"px\";\n\n\t\t\tthis.displayBuffer2.resize (this.screenHeight*this.scaleFactor, this.screenWidth*this.scaleFactor);\n\t\t\tthis.displayBuffer2.elem.style.width = int(this.screenHeight*this.canvasScaleFactor+0.5) + \"px\";\n\t\t\tthis.displayBuffer2.elem.style.height = int(this.screenWidth*this.canvasScaleFactor+0.5) + \"px\";\n\n\t\t\tthis.displayBuffer3.resize (_screenHeight, _screenWidth);\n\t\t\tthis.displayBuffer3.elem.style.width = _screenHeight + \"px\";\n\t\t\tthis.displayBuffer3.elem.style.height = _screenWidth + \"px\";\n\t\t}\n\n\t\tthis.renderer.elem.style.marginLeft = this.offsX + \"px\";\n\t\tthis.renderer.elem.style.marginTop = this.offsY + \"px\";\n\n\t\tthis.displayBuffer2.elem.style.marginLeft = this.offsX + \"px\";\n\t\tthis.displayBuffer2.elem.style.marginTop = this.offsY + \"px\";\n\n\t\tthis.renderer.loadIdentity();\n\t\tthis.displayBuffer2.loadIdentity();\n\t\tthis.displayBuffer3.loadIdentity();\n\n\t\tif (this.scaleFactor != 1)\n\t\t{\n\t\t\tthis.renderer.globalScale(this.scaleFactor);\n\t\t\tthis.displayBuffer2.globalScale(this.scaleFactor);\n\t\t}\n\n\t\tif (this.reverseRender)\n\t\t{\n\t\t\tthis.renderer.rotate(Math.PI/2);\n\t\t\tthis.renderer.translate(-this.screenWidth, 0);\n\t\t\tthis.renderer.flipped(true);\n\n\t\t\tthis.displayBuffer2.rotate(Math.PI/2);\n\t\t\tthis.displayBuffer2.translate(-this.screenWidth, 0);\n\t\t\tthis.displayBuffer2.flipped(true);\n\n\t\t\tthis.displayBuffer3.rotate(Math.PI/2);\n\t\t\tthis.displayBuffer3.translate(-_screenWidth, 0);\n\t\t\tthis.displayBuffer3.flipped(true);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.renderer.flipped(false);\n\t\t\tthis.displayBuffer2.flipped(false);\n\t\t\tthis.displayBuffer3.flipped(false);\n\t\t}\n\n\t\t/* *** */\n\t\tthis.scaleFactor *= this.options.extraScaleFactor;\n\n\t\tif (this.options.maxScaleFactor > 0 && this.scaleFactor > this.options.maxScaleFactor)\n\t\t\tthis.scaleFactor = this.options.maxScaleFactor;\n\n\t\tthis.integerScaleFactor = int(this.scaleFactor + 0.5); //0.9\n\t\tthis.resetPerf();\n\n\t\tif (this.initialMatrix)\n\t\t\tthis.initialMatrix.free();\n\n\t\tthis.initialMatrix = this.renderer.getMatrix(true);\n\n\t\tif (notRendering != true)\n\t\t{\n\t\t\tthis.flags.renderingEnabled = true;\n\t\t\tthis.onCanvasResized (this.screenWidth, this.screenHeight);\n\t\t}\n\t},\n\n\t/**\n\t * \tEvent triggered when the canvas was resized by the system. Can be overriden.\n\t * \t!static onCanvasResized (screenWidth: number, screenHeight: number) : void;\n\t */\n\tonCanvasResized: function (screenWidth, screenHeight)\n\t{\n\t},\n\n\t/**\n\t * \tResets the performance data.\n\t */\n\tresetPerf: function()\n\t{\n\t\tthis.perf.startTime = hrnow();\n\t\tthis.perf.lastTime = hrnow();\n\n\t\tthis.perf.numFrames = 0;\n\t\tthis.perf.updateTimeTotal = 0;\n\t\tthis.perf.drawTimeTotal = 0;\n\t\tthis.perf.extraTimeTotal = 0;\n\n\t\tthis.perf.numSamples = 0;\n\t\tthis.perf.fps = 0;\n\t\tthis.perf.averageFps = 0;\n\t\tthis.perf.averageUpdateTime = 0;\n\t\tthis.perf.averageDrawTime = 0;\n\t\tthis.perf.averageExtraTime = 0;\n\t},\n\n\t/**\n\t * \tAdds the specified update handler to the system.\n\t * \t!updateQueueAdd (handler: { update: (dt: number) => void }) : Linkable;\n\t */\n\tupdateQueueAdd: function (handler)\n\t{\n\t\tthis.updateQueue.push (handler);\n\t\treturn this.updateQueue.bottom;\n\t},\n\n\t/**\n\t * \tRemoves the specified update handler from the system.\n\t * \t!updateQueueRemove (handler: { update: (dt: number) => void }) : void;\n\t */\n\t/**\n\t * \tRemoves the specified update handler node from the system.\n\t * \t!updateQueueRemove (node: Linkable) : void;\n\t */\n\tupdateQueueRemove: function (handler)\n\t{\n\t\tthis.updateQueue.remove (Linkable.isInstance(handler) ? handler : this.updateQueue.sgetNode(handler));\n\t},\n\n\t/**\n\t * \tAdds the specified draw handler to the system.\n\t * \t!drawQueueAdd (handler: { draw: (g: Canvas) => void }) : Linkable;\n\t */\n\tdrawQueueAdd: function (handler)\n\t{\n\t\tthis.drawQueue.push (handler);\n\t\treturn this.drawQueue.bottom;\n\t},\n\n\t/**\n\t * \tRemoves the specified draw handler from the system.\n\t * \t!drawQueueRemove (handler: { draw: (g: Canvas) => void }) : void;\n\t */\n\t/**\n\t * \tRemoves the specified draw handler node from the system.\n\t * \t!drawQueueRemove (node: Linkable) : void;\n\t */\n\tdrawQueueRemove: function (handler)\n\t{\n\t\tthis.drawQueue.remove (Linkable.isInstance(handler) ? handler : this.drawQueue.sgetNode(handler));\n\t},\n\n\t/**\n\t * \tAdds the specified handler to the update and draw queues.\n\t * \t!queueAdd (handler: { update: (dt: number) => void, draw: (g: Canvas) => void }) : void;\n\t */\n\tqueueAdd: function (handler)\n\t{\n\t\tthis.updateQueue.push (handler);\n\t\tthis.drawQueue.push (handler);\n\t},\n\n\t/**\n\t *\tRemoves the specified handler from the update and draw queues.\n\t * \t!queueRemove (handler: { update: (dt: number) => void, draw: (g: Canvas) => void }) : void;\n\t */\n\tqueueRemove: function (handler)\n\t{\n\t\tthis.updateQueue.remove (this.updateQueue.sgetNode(handler));\n\t\tthis.drawQueue.remove (this.drawQueue.sgetNode(handler));\n\t},\n\n\t/**\n\t * \tRuns an update cycle. All objects in the `updateQueue` will have their `update method called.\n\t */\n\tupdate: function (dt)\n\t{\n\t\ttry\n\t\t{\n\t\t\tlet next;\n\n\t\t\tfor (let elem = this.updateQueue.top; elem; elem = next)\n\t\t\t{\n\t\t\t\tnext = elem.next;\n\n\t\t\t\tif (elem.value.update(dt) === false)\n\t\t\t\t\tthis.updateQueueRemove(elem);\n\t\t\t}\n\t\t}\n\t\tcatch (e)\n\t\t{\n\t\t\tSystem.stop();\n\t\t\tthrow e;\n\t\t}\t\n\t},\n\n\t/**\n\t * \tRuns a rendering cycle. All objects in the `drawQueue` will have their `draw` method called.\n\t */\n\tdraw: function ()\n\t{\n\t\tif (this.renderer.gl !== null)\n\t\t\tthis.renderer.start();\n\n\t\tif (!this.options.overdraw)\n\t\t{\n\t\t\tthis.renderer.clear();\n\t\t\tthis.displayBuffer2.clear();\n\t\t\tthis.displayBuffer3.clear();\n\t\t}\n\n\t\ttry\n\t\t{\n\t\t\tlet next;\n\n\t\t\tfor (let elem = this.drawQueue.top; elem; elem = next)\n\t\t\t{\n\t\t\t\tnext = elem.next;\n\t\t\t\telem.value.draw(this.renderer);\n\t\t\t}\n\n\t\t\tif (this.renderer.gl !== null)\n\t\t\t{\n\t\t\t\tthis.renderer.flush();\n\t\t\t\tthis.renderer.end();\n\t\t\t}\n\t\t}\n\t\tcatch (e)\n\t\t{\n\t\t\tSystem.stop();\n\t\t\tthrow e;\n\t\t}\t\n\t},\n\n\t/**\n\t * \tInterpolates numeric values between two objects (`src` and `dst`) using the specified `duration` and `easing` function. Note that all four parameters `src`, `dst`,\n\t * \t`duration` and `easing` must be objects having the same number of values.\n\t * \t!interpolate (src: object, dst: object, duration: object, easing: object, callback: (data: object, isFinished: boolean) => void) : void;\n\t */\n\tinterpolate: function (src, dst, duration, easing, callback)\n\t{\n\t\t//violet: not optimized\n\t\tlet time = { };\n\t\tlet data = { };\n\t\tlet count = 0;\n\n\t\tfor (let x in src)\n\t\t{\n\t\t\ttime[x] = 0.0;\n\t\t\tdata[x] = src[x]\n\t\t\tcount++;\n\t\t}\n\n\t\tlet interpolator =\n\t\t{\n\t\t\tupdate: function(dt)\n\t\t\t{\n\t\t\t\tfor (let x in time)\n\t\t\t\t{\n\t\t\t\t\tif (time[x] == duration[x])\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\ttime[x] += dt;\n\t\t\t\t\tif (time[x] >= duration[x])\n\t\t\t\t\t{\n\t\t\t\t\t\ttime[x] = duration[x];\n\t\t\t\t\t\tcount--;\n\t\t\t\t\t}\n\n\t\t\t\t\tlet t = easing[x] (time[x] / duration[x]);\n\t\t\t\t\tdata[x] = (1-t)*src[x] + t*dst[x];\n\t\t\t\t}\n\n\t\t\t\tcallback (data, count == 0);\n\n\t\t\t\tif (count == 0)\n\t\t\t\t\treturn false;\n\t\t\t}\n\t\t};\n\n\t\tSystem.updateQueueAdd(interpolator);\n\t\tinterpolator.update(0);\n\t},\n\n\t/**\n\t * \tEvent triggered when a keyboard event is detected by the system.\n\t * \tonKeyboardEvent (action: KeyboardEventType, keyCode: number, keyState: object) : void;\n\t */\n\tonKeyboardEvent: function (action, keyCode, keyState)\n\t{\n\t},\n\n\t/**\n\t * \tEvent triggered when a pointer event is detected by the system.\n\t * \tonPointerEvent (action: PointerEventType, pointer: object, pointers: object) : void;\n\t */\n\tonPointerEvent: function (action, pointer, pointers)\n\t{\n\t}\n};\n\n//!/class\n\n//!namespace System\n\n\t//!enum KeyboardEventType\n\tSystem.KeyboardEventType = {\n\t\tKEY_DOWN: 0x001,\n\t\tKEY_UP: 0x002,\n\n\t\t//!KEY_DOWN\n\t\t//!KEY_UP\n\t};\n\t//!/enum\n\n\t//!enum PointerEventType\n\tSystem.PointerEventType = {\n\t\tPOINTER_DOWN: \t\t0x010,\n\t\tPOINTER_UP: \t\t0x011,\n\t\tPOINTER_MOVE: \t\t0x012,\n\t\tPOINTER_DRAG_START:\t0x013,\n\t\tPOINTER_DRAG_MOVE:\t0x014,\n\t\tPOINTER_DRAG_STOP:\t0x015,\n\t\tPOINTER_WHEEL:\t\t0x016,\n\n\t\t//!POINTER_DOWN\n\t\t//!POINTER_UP\n\t\t//!POINTER_MOVE\n\t\t//!POINTER_DRAG_START\n\t\t//!POINTER_DRAG_MOVE\n\t\t//!POINTER_DRAG_STOP\n\t\t//!POINTER_WHEEL\n\t};\n\t//!/enum\n\n//!/namespace\n\nexport default System;\n","/*\n**\tsystem/keycode.js\n**\n**\tCopyright (c) 2016-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\n//:/**\n//: * \tEnumeration of key codes supported by the system.\n//: */\n\n//!enum KeyCode\n\nexport default\n{\n\tBACKSPACE: 8,\n\t//!BACKSPACE\n\tTAB: 9,\n\t//!TAB\n\tENTER: 13,\n\t//!ENTER\n\tSHIFT: 16,\n\t//!SHIFT\n\tCTRL: 17,\n\t//!CTRL\n\tESC: 27,\n\t//!ESC\n\tSPACE: 32,\n\t//!SPACE\n\n\tPGUP: 33,\n\t//!PGUP\n\tPGDN: 34,\n\t//!PGDN\n\n\tEND: 35,\n\t//!END\n\tHOME: 36,\n\t//!HOME\n\n\tINS: 45,\n\t//!INS\n\tDEL: 46,\n\t//!DEL\n\n\tLEFT: 37,\n\t//!LEFT\n\tUP: 38,\n\t//!UP\n\tRIGHT: 39,\n\t//!RIGHT\n\tDOWN: 40,\n\t//!DOWN\n\n\tNUM_PLUS: 107,\n\t//!NUM_PLUS\n\tNUM_MINUS: 109,\n\t//!NUM_MINUS\n\tNUM_ASTERISK: 106,\n\t//!NUM_ASTERISK\n\tNUM_SLASH: 111,\n\t//!NUM_SLASH\n\tNUM_DOT: 110,\n\t//!NUM_DOT\n\n\tNUM_0: 96,\n\t//!NUM_0\n\tNUM_1: 97,\n\t//!NUM_1\n\tNUM_2: 98,\n\t//!NUM_2\n\tNUM_3: 99,\n\t//!NUM_3\n\tNUM_4: 100,\n\t//!NUM_4\n\tNUM_5: 101,\n\t//!NUM_5\n\tNUM_6: 102,\n\t//!NUM_6\n\tNUM_7: 103,\n\t//!NUM_7\n\tNUM_8: 104,\n\t//!NUM_8\n\tNUM_9: 105,\n\t//!NUM_9\n\n\tD0: 48,\n\t//!D0\n\tD1: 49,\n\t//!D1\n\tD2: 50,\n\t//!D2\n\tD3: 51,\n\t//!D3\n\tD4: 52,\n\t//!D4\n\tD5: 53,\n\t//!D5\n\tD6: 54,\n\t//!D6\n\tD7: 55,\n\t//!D7\n\tD8: 56,\n\t//!D8\n\tD9: 57,\n\t//!D9\n\n\tA: 65,\n\t//!A\n\tB: 66,\n\t//!B\n\tC: 67,\n\t//!C\n\tD: 68,\n\t//!D\n\tE: 69,\n\t//!E\n\tF: 70,\n\t//!F\n\tG: 71,\n\t//!G\n\tH: 72,\n\t//!H\n\tI: 73,\n\t//!I\n\tJ: 74,\n\t//!J\n\tK: 75,\n\t//!K\n\tL: 76,\n\t//!L\n\tM: 77,\n\t//!M\n\tN: 78,\n\t//!N\n\tO: 79,\n\t//!O\n\tP: 80,\n\t//!P\n\tQ: 81,\n\t//!Q\n\tR: 82,\n\t//!R\n\tS: 83,\n\t//!S\n\tT: 84,\n\t//!T\n\tU: 85,\n\t//!U\n\tV: 86,\n\t//!V\n\tW: 87,\n\t//!W\n\tX: 88,\n\t//!X\n\tY: 89,\n\t//!Y\n\tZ: 90,\n\t//!Z\n};\n","/*\n**\tutils/list.js\n**\n**\tCopyright (c) 2016-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport { Rinn, Class } from 'rinn';\nimport Linkable from './linkable.js';\nimport Recycler from './recycler.js';\n\n//![import \"./linkable\"]\n//![import \"./recycler\"]\n\n//:/**\n//: * \tImplementation of a generic linked list.\n//: */\n\n//!class List\n\nconst List = Class.extend\n({\n\t/**\n\t * \tName of the class (for inheritance purposes).\n\t */\n\tclassName: \"List\",\n\n\t/**\n\t * \tPointer to the first node in the list.\n\t * \t!top: Linkable;\n\t */\n\ttop: null,\n\n\t/**\n\t * \tPointer to the last node in the list.\n\t * \t!bottom: Linkable;\n\t */\n\tbottom: null,\n\n\t/**\n\t * \tNumber of values in the list.\n\t * \t!length: number;\n\t */\n\tlength: 0,\n\n\t/**\n\t * \tInitializes the instance to an empty list.\n\t * \t!constructor();\n\t */\n\t__ctor: function ()\n\t{\n\t\tthis.top = null;\n\t\tthis.bottom = null;\n\t\tthis.length = 0;\n\t},\n\n\t/**\n\t * \tTraverses the list and destroys all nodes. The actual values are maintained. To destroy the\n\t * \tlist contents call clear() instead.\n\t */\n\t__dtor: function ()\n\t{\n\t\tthis.reset();\n\t},\n\n\t/**\n\t * \tClones all contents and returns a new list.\n\t * \t!clone() : List;\n\t */\n\tclone: function()\n\t{\n\t\tlet list = List.Pool.alloc();\n\n\t\tfor (let i = this.top; i; i = i.next)\n\t\t\tlist.push(Rinn.clone(i.value));\n\n\t\treturn list;\n\t},\n\n\t/**\n\t * \tTraverses the list and destroys all nodes and values.\n\t * \t!clear() : List;\n\t */\n\tclear: function ()\n\t{\n\t\tlet i, ni;\n\n\t\tfor (i = this.top; i; i = ni)\n\t\t{\n\t\t\tni = i.next;\n\t\t\tdispose(i.free().value);\n\t\t}\n\n\t\tthis.top = this.bottom = null;\n\t\tthis.length = 0;\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tTraverses the list, destroys all nodes **but** values are preserved.\n\t * \t!reset() : List;\n\t */\n\treset: function ()\n\t{\n\t\tlet i, ni;\n\n\t\tfor (i = this.top; i != null; i = ni)\n\t\t{\n\t\t\tni = i.next;\n\t\t\ti.free();\n\t\t}\n\n\t\tthis.top = this.bottom = null;\n\t\tthis.length = 0;\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tReturns the first value in the list.\n\t * \t!first() : any;\n\t */\n\tfirst: function ()\n\t{\n\t\treturn this.top !== null ? this.top.value : null;\n\n\t},\n\t/**\n\t * \tReturns the last value in the list.\n\t * \t!last() : any;\n\t */\n\tlast: function ()\n\t{\n\t\treturn this.bottom !== null ? this.bottom.value : null;\n\t},\n\n\t/**\n\t * \tReturns a value given its index.\n\t * \t!getAt (index: number) : any;\n\t */\n\tgetAt: function (index)\n\t{\n\t\tlet i = null;\n\t\tfor (i = this.top; i && index-- > 0; i = i.next);\n\t\treturn i != null ? i.value : null;\n\t},\n\n\t/**\n\t * \tReturns the node at the given index.\n\t * \t!getNodeAt (index: number) : Linkable;\n\t */\n\tgetNodeAt: function (index)\n\t{\n\t\tlet i = null;\n\t\tfor (i = this.top; i && index--; i = i.next);\n\t\treturn i;\n\t},\n\n\t/**\n\t * \tReturns the node of a value given another value to compare, uses identical comparison (===) to match the value.\n\t * \t!sgetNode (value: any) : Linkable;\n\t */\n\tsgetNode: function (value)\n\t{\n\t\tfor (let i = this.top; i; i = i.next)\n\t\t\tif (i.value === value) return i;\n\n\t\treturn null;\n\t},\n\n\t/**\n\t * \tRemoves the given value from the list and returns it.\n\t * \t!remove<T> (value: T) : T;\n\t */\n\tremove: function (i)\n\t{\n\t\tif (i != null && !Linkable.isInstance(i))\n\t\t\ti = this.sgetNode(i);\n\n\t\tif (!i) return null;\n\n\t\tif (!i.prev) this.top = i.next;\n\t\tif (!i.next) this.bottom = i.prev;\n\n\t\tthis.length--;\n\t\treturn i.free().value;\n\t},\n\n\t/**\n\t * \tAdds a value before the given reference node.\n\t * \t!insertBefore<T> (ref: Linkable, value: T) : T;\n\t */\n\tinsertBefore: function (ref, value)\n\t{\n\t\tif (!ref) return this;\n\n\t\tlet i = Linkable.Pool.alloc(value);\n\t\ti.linkBefore (ref);\n\n\t\tif (ref == this.top) this.top = i;\n\t\tthis.length++;\n\n\t\treturn value;\n\t},\n\n\t/**\n\t * \tAdds a value after the given reference node.\n\t * \t!insertAfter<T> (ref: Linkable, value: T) : T;\n\t */\n\tinsertAfter: function (ref, value)\n\t{\n\t\tif (!ref) return this;\n\n\t\tlet i = Linkable.Pool.alloc(value);\n\t\ti.linkAfter (ref);\n\n\t\tif (ref == this.bottom) this.bottom = i;\n\t\tthis.length++;\n\n\t\treturn value;\n\t},\n\n\t/**\n\t * \tAdds a value to the top of the list.\n\t * \t!unshift<T> (value: T) : T;\n\t */\n\tunshift: function (value)\n\t{\n\t\tlet i = Linkable.Pool.alloc(value);\n\n\t\ti.linkBefore (this.top);\n\t\tif (!this.bottom) this.bottom = i;\n\n\t\tthis.top = i;\n\t\tthis.length++;\n\n\t\treturn value;\n\t},\n\n\t/**\n\t * \tRemoves a value from the top of the list.\n\t * \t!shift() : any;\n\t */\n\tshift: function ()\n\t{\n\t\tlet i = this.top;\n\t\tif (!i) return null;\n\n\t\tif (!(this.top = i.next)) this.bottom = null;\n\t\tthis.length--;\n\n\t\treturn i.free().value;\n\t},\n\n\t/**\n\t * \tAdds a value to the bottom of the list.\n\t * \t!push<T> (value: T) : T;\n\t */\n\tpush: function (value)\n\t{\n\t\tlet i = Linkable.Pool.alloc(value);\n\n\t\ti.linkAfter (this.bottom);\n\t\tif (!this.top) this.top = i;\n\n\t\tthis.bottom = i;\n\t\tthis.length++;\n\n\t\treturn value;\n\t},\n\n\t/**\n\t * \tRemoves a value from the bottom of the list.\n\t * \t!pop() : any;\n\t */\n\tpop: function ()\n\t{\n\t\tlet i = this.bottom;\n\t\tif (!i) return null;\n\n\t\tif (!(this.bottom = i.prev)) this.top = null;\n\t\tthis.length--;\n\n\t\treturn i.free().value;\n\t},\n\n\t/**\n\t * \tAppends all contents of the given list to the current one.\n\t * \t!append (list: List) : List;\n\t */\n\tappend: function (list)\n\t{\n\t\tfor (let i = list.top; i; i = i.next)\n\t\t\tthis.push(i.value);\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tTraverses the list calling the specified function for each value.\n\t * \t@param fn - Callback to execute, return `false` to stop the loop immediately.\n\t * \t!forEach(fn: (value: any, node: Linkable, list: List, context: object) => boolean, context?: object) : boolean;\n\t */\n\tforEach: function (fn, context=null)\n\t{\n\t\tlet ni;\n\t\n\t\tfor (let i = this.top; i; i = ni)\n\t\t{\n\t\t\tni = i.next;\n\t\t\tif (fn (i.value, i, this, context) === false) return false;\n\t\t}\n\n\t\treturn true;\n\t},\n\n\t/**\n\t * \tTraverses the list in reverse order, calling the specified function for each value.\n\t * \t@param fn - Callback to execute, return `false` to stop the loop immediately.\n\t * \t!forEachRev(fn: (value: any, node: Linkable, list: List, context: object) => boolean, context?: object) : boolean;\n\t */\n\tforEachRev: function (fn, context=null)\n\t{\n\t\tlet ni;\n\t\n\t\tfor (let i = this.bottom; i; i = ni)\n\t\t{\n\t\t\tni = i.prev;\n\t\t\tif (fn (i.value, i, this, context) === false) return false;\n\t\t}\n\n\t\treturn true;\n\t},\n\n\t/**\n\t * \tReturns the first value where the specified function returns `true`.\n\t * \t!find (fn: (value: any, context: object) => boolean, context?: object) : any;\n\t */\n\tfind: function (fn, context=null)\n\t{\n\t\tfor (let i = this.top; i; i = i.next)\n\t\t\tif (fn(i.value, context)) return i.value;\n\n\t\treturn null;\n\t},\n\n\t/**\n\t * \tReturns an array with all values where the specified function returns `true`.\n\t * \t!filter (fn: (value: any, context: object) => boolean, context?: object) : Array<any>;\n\t */\n\tfilter: function (fn, context=null)\n\t{\n\t\tlet list = List.Pool.alloc();\n\n\t\tfor (let i = this.top; i; i = i.next)\n\t\t\tif (fn(i.value, context)) list.push(i.value);\n\n\t\treturn list;\n\t},\n\n\t/**\n\t * \tReturns an array with all the values in the list.\n\t * \t!toArray() : Array<any>;\n\t */\n\ttoArray: function()\n\t{\n\t\tlet array = [];\n\n\t\tfor (let i = this.top; i; i = i.next)\n\t\t\tarray.push(i.value);\n\n\t\treturn array;\n\t}\n});\n\n//!/class\n\n//!namespace List\n//!namespace Pool\n\n\t/**\n\t * \tAllocates an empty list.\n\t * \t!function alloc() : List;\n\t */\n\nRecycler.createPool (List, 16384, 6144);\nexport default List;\n","/*\n**\tutils/linkable.js\n**\n**\tCopyright (c) 2016-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport { Class } from 'rinn';\nimport Recycler from './recycler.js';\n\n//![import \"./recycler\"]\n\n//:/**\n//: * \tGeneric class for linkable items such as required by List. The responsibility of this class is to wrap a value into a linkable object.\n//: */\n\n//!class Linkable\n\nconst Linkable = Class.extend\n({\n\tclassName: \"Linkable\",\n\n\t/**\n\t * \tPointer to the previous item in the chain.\n\t * \t!readonly prev: Linkable;\n\t */\n\tprev: null, /* Linkable */\n\n\t/**\n\t * \tPointer to the next item in the chain.\n\t * \t!readonly next: Linkable;\n\t */\n\tnext: null, /* Linkable */\n\n\t/**\n\t * \tWrapped value.\n\t * \t!value: any;\n\t */\n\tvalue: null,\n\n\t/**\n\t * \tInitializes the linkable item and wraps the given value. Sets the `prev` and `next` pointers to null.\n\t * \t!constructor (value?: any);\n\t */\n\t__ctor: function (value)\n\t{\n\t\tthis.value = value;\n\t\tthis.clear();\n\t},\n\n\t/**\n\t * \tUnlinks the linkable item.\n\t */\n\t__dtor: function ()\n\t{\n\t\tthis.unlink();\n\t},\n\n\t/**\n\t * \tSets the previous/next connection pointers to null. Returns `this`.\n\t * \t!clear() : Linkable;\n\t */\n\tclear: function ()\n\t{\n\t\tthis.next = this.prev = null;\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tLinks the item such that it will be located after the given reference.\n\t * \t!linkAfter (ref: Linkable) : Linkable;\n\t */\n\tlinkAfter: function (ref)\n\t{\n\t\tthis.prev = ref;\n\t\tthis.next = ref ? ref.next : null;\n\n\t\tif (ref)\n\t\t{\n\t\t\tif (ref.next) ref.next.prev = this;\n\t\t\tref.next = this;\n\t\t}\n\t},\n\n\t/**\n\t * \tLinks the item such that it will be located before the given reference.\n\t * \t!linkBefore (ref: Linkable) : Linkable;\n\t */\n\tlinkBefore: function (ref)\n\t{\n\t\tthis.prev = ref ? ref.prev : null;\n\t\tthis.next = ref;\n\n\t\tif (ref)\n\t\t{\n\t\t\tif (ref.prev) ref.prev.next = this;\n\t\t\tref.prev = this;\n\t\t}\n\t},\n\n\t/**\n\t * \tUnlinks the item by linking the `prev` and `next` together (when available) and returns `this`.\n\t * \t!unlink() : Linkable;\n\t */\n\tunlink: function () \n\t{\n\t\tif (this.prev) this.prev.next = this.next;\n\t\tif (this.next) this.next.prev = this.prev;\n\n\t\treturn this.clear();\n\t}\n});\n\n//!/class\n\n//!namespace Linkable\n//!namespace Pool\n\n\t/**\n\t * \tAllocates a linkable item and wraps the given value. Sets the `prev` and `next` pointers to null.\n\t * \t!function alloc (value?: any) : Linkable;\n\t */\n\nRecycler.createPool (Linkable, 16384, 6144);\nexport default Linkable;\n","/*\n**\tutils/recycler.js\n**\n**\tCopyright (c) 2016-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nconst recyclingFacilities = { };\nlet totalPreallocated = 0;\n\nconst Recycler = { };\nglobal.Recycler = Recycler;\nexport default Recycler;\n\n//:/**\n//: * \tProvides functions to attach recycling functionality to any class for object pooling.\n//: */\n\n//!namespace Recycler\n\n/**\n * \tAttaches recycling methods (`allocate`, `alloc` and `free`) to the specified class. Class should implement method `init` to initialize the instance (and return itself)\n * \tand `__dtor` to destroy it.\n *\n * \t@param {*} maxPoolSize - Maximum number of instance to hold in the recycler.\n * \t@param {*} minPoolSize - Minimum number of instances to pre-allocate. Defaults to 0.375*`maxPoolSize` if not specified.\n * \n * \t!function attachTo (targetClass: any, maxPoolSize?: number, minPoolSize?: number) : any;\n */\n\nRecycler.attachTo = function (targetClass, maxPoolSize=8192, minPoolSize=null)\n{\n\tif (!targetClass.prototype.className)\n\t\tthrow new Error ('Unable to attach recycler methods to an unnamed class.');\n\n\tif (!('__dtor' in targetClass.prototype))\n\t\tthrow new Error ('Recycler: Class '+targetClass.prototype.className+' requires `__dtor` method.');\n\n\tif (!('init' in targetClass.prototype))\n\t\tthrow new Error ('Recycler: Class '+targetClass.prototype.className+' requires `init` method.');\n\n\tif (minPoolSize === null)\n\t\tminPoolSize = int(maxPoolSize * 0.375);\n\n\trecyclingFacilities[targetClass.prototype.className] = targetClass;\n\n\ttargetClass.recyclerPool = [ ];\n\ttargetClass.recyclerPoolMax = maxPoolSize;\n\n\ttargetClass.prototype.objectId = 0;\n\n\ttargetClass.recyclerNextObjectId = 0;\n\ttargetClass.recyclerCreated = 0;\n\ttargetClass.recyclerRecycled = 0;\n\ttargetClass.recyclerMissed = 0;\n\ttargetClass.recyclerLength = 0;\n\ttargetClass.recyclerActive = 0;\n\n\tlet preallocated = false;\n\n\t/**\n\t * \tPreallocates instances according the the minPoolSize value.\n\t */\n\ttargetClass.preallocate = function (maximum=null)\n\t{\n\t\tif (preallocated)\n\t\t\treturn;\n\n\t\tlet n = maximum === null ? minPoolSize : Math.min(maximum, minPoolSize);\n\n\t\tfor (let i = 0; i < n; i++)\n\t\t{\n\t\t\ttargetClass.recyclerPool.push(new targetClass ());\n\t\t\ttargetClass.recyclerLength++;\n\t\t\ttotalPreallocated++;\n\t\t}\n\n\t\tpreallocated = true;\n\t};\n\n\t/**\n\t * \tAllocates a new instance of the class. To ensure correct instance state a call to `init` must be made later.\n\t * \t@returns {object}\n\t */\n\ttargetClass.allocate = function()\n\t{\n\t\tlet item;\n\n\t\tif (!this.recyclerLength)\n\t\t{\n\t\t\titem = new targetClass ();\n\t\t\ttargetClass.recyclerCreated++;\n\t\t}\n\t\telse\n\t\t{\n\t\t\titem = this.recyclerPool[--this.recyclerLength];\n\t\t\ttargetClass.recyclerRecycled++;\n\t\t}\n\n\t\ttargetClass.recyclerActive++;\n\n\t\titem.objectId = ++this.recyclerNextObjectId;\n\t\tthis.recyclerNextObjectId &= 0x7FFFFFFF;\n\n\t\treturn item;\n\t};\n\n\t/**\n\t * \tAllocates an instance and initializes it. Internally runs `allocate` first and then `init` with up to 10 parameters.\n\t * \t@param {any} a0..a9 \n\t * \t@returns {object}\n\t */\n\ttargetClass.alloc = function(a0=null, a1=null, a2=null, a3=null, a4=null, a5=null, a6=null, a7=null, a8=null, a9=null)\n\t{\n\t\treturn targetClass.allocate().init(a0, a1, a2, a3, a4, a5, a6, a7, a8, a9);\n\t};\n\n\t/**\n\t * \tReleases the self object and adds it back to the pool. Duplicate call to this method will result in an error.\n\t * \t@returns {object}\n\t */\n\ttargetClass.prototype.free = function()\n\t{\n\t\tif (this.objectId < 0)\n\t\t\treturn this;\n\n\t\tif (this.objectId == 0)\n\t\t{\n\t\t\tconsole.error ('ERROR: Already released instance of ' + targetClass.prototype.className);\n\t\t\treturn this;\n\t\t}\n\n\t\tthis.__dtor();\n\n\t\tthis.objectId = 0;\n\n\t\tif (targetClass.recyclerLength >= maxPoolSize)\n\t\t\ttargetClass.recyclerMissed++;\n\t\telse\n\t\t\ttargetClass.recyclerPool[targetClass.recyclerLength++] = this;\n\n\t\ttargetClass.recyclerActive--;\n\t\treturn this;\n\t};\n\n\t/**\n\t * \tSets a flag used to prevent the instance from being destroyed.\n\t * \t@returns {object}\n\t */\n\ttargetClass.prototype.lockInstance = function(value)\n\t{\n\t\tthis.objectId = Math.abs(this.objectId);\n\t\tif (value) this.objectId = -this.objectId;\n\t\treturn this;\n\t};\n};\n\n/**\n * \tShows stats about all recycling facilities (or just the specified one) using `console.debug`.\n * \t@param name - Name of the class to show.\n * \t!function showStats (name?: string) : void;\n */\nRecycler.showStats = function (name=null)\n{\n\tlet list = recyclingFacilities;\n\n\tconsole.log('Total Preallocated: ' + totalPreallocated);\n\n\tif (name === true)\n\t{\n\t\tconsole.group('Recycling Facilities');\n\n\t\tfor (let i in list)\n\t\t{\n\t\t\tlet c = list[i];\n\t\t\tif (!c.recyclerCreated) continue;\n\n\t\t\tconsole.debug (i + ': '+(100*(c.recyclerCreated/c.recyclerPoolMax)).toFixed(1)+'%  =>  overhead=' + c.recyclerCreated + ', active='+c.recyclerActive+', array=' + c.recyclerPool.length + ', recycled=' + c.recyclerRecycled + ', in-recycler=' + c.recyclerLength + ', missed=' + c.recyclerMissed + ', space=' + (c.recyclerPoolMax - c.recyclerLength));\n\t\t}\n\t\n\t\tconsole.groupEnd();\n\t\treturn;\n\t}\n\n\tif (name !== null)\n\t{\n\t\tif (typeof(name) === 'string')\n\t\t{\n\t\t\tlet c = recyclingFacilities[name];\n\t\t\tconsole.debug (name + ': '+(100*(c.recyclerCreated/c.recyclerPoolMax)).toFixed(1)+'%  =>  overhead=' + c.recyclerCreated + ', active='+c.recyclerActive+', array=' + c.recyclerPool.length + ', recycled=' + c.recyclerRecycled + ', in-recycler=' + c.recyclerLength + ', missed=' + c.recyclerMissed + ', space=' + (c.recyclerPoolMax - c.recyclerLength));\n\t\t\treturn;\n\t\t}\n\n\t\tlist = name;\n\t}\n\n\tconsole.group('Recycling Facilities');\n\n\tfor (let i in list)\n\t{\n\t\tlet c = list[i];\n\t\tconsole.debug (i + ': '+(100*(c.recyclerCreated/c.recyclerPoolMax)).toFixed(1)+'%  =>  overhead=' + c.recyclerCreated + ', active='+c.recyclerActive+', array=' + c.recyclerPool.length + ', recycled=' + c.recyclerRecycled + ', in-recycler=' + c.recyclerLength + ', missed=' + c.recyclerMissed + ', space=' + (c.recyclerPoolMax - c.recyclerLength));\n\t}\n\n\tconsole.groupEnd();\n};\n\n\n/**\n * \tCreate a new class extending the specified target class, this new class is a recycling facility and is placed under property `Pool` of the target class. This\n * \tmethod can be used instead of the usual `attachTo` when the target class construct/deconstruct methods need to remain untouched.\n *\n * \t@param {*} maxPoolSize - Maximum number of instance to hold in the recycler.\n * \t@param {*} minPoolSize - Minimum number of instances to pre-allocate. Defaults to 0.375*`maxPoolSize` if not specified.\n * \n *\t!function createPool (targetClass: any, maxPoolSize?: number, minPoolSize?: number) : any;\n */\nRecycler.createPool = function (targetClass, maxPoolSize=8192, minPoolSize=null)\n{\n\tconst name = targetClass.prototype.className;\n\tif (!name) throw new Error ('Unable to create pool sub-class on an unnamed class.');\n\n\tconst Pool = targetClass.extend\n\t({\n\t\tclassName: targetClass.prototype.className,\n\n\t\t__ctor: function () {\n\t\t},\n\n\t\tinit: function(a0=null, a1=null, a2=null, a3=null, a4=null, a5=null, a6=null, a7=null, a8=null, a9=null)\n\t\t{\n\t\t\tthis._super[name].__ctor(a0, a1, a2, a3, a4, a5, a6, a7, a8, a9);\n\t\t\treturn this;\n\t\t}\n\t});\n\n\tRecycler.attachTo(Pool, maxPoolSize, minPoolSize);\n\ttargetClass.Pool = Pool;\n\n\treturn targetClass;\n};\n\n\n/**\n * \tRuns the preallocation process of all registered pools. Returns the total number of instances preallocated.\n * \t@param {number|null} maxPreallocationsPerPool\n * \t!function preallocate (maxPreallocationsPerPool?: number) : number;\n */\nRecycler.preallocate = function (maxPreallocationsPerPool=null)\n{\n\ttotalPreallocated = 0;\n\n\tfor (let i in recyclingFacilities)\n\t\trecyclingFacilities[i].preallocate(maxPreallocationsPerPool);\n\n\treturn totalPreallocated;\n}\n","/*\n**\tsystem/timer.js\n**\n**\tCopyright (c) 2016-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\n//!class Timer\n\n/**\n * \t@param vsync - Indicates if requestAnimationFrame should be used instead of setTimeout.\n * \t@param interval - Amount of milliseconds between timer activations.\n * \t@param callback - Function to execute on each timer activation.\n *\n * \t!constructor (vsync: boolean, interval: number, callback: (dt: number, timer: Timer) => void );\n */\nconst Timer = function (vsync, interval, callback)\n{\n\tthis.callback = callback;\n\tthis.interval = interval;\n\tthis.vsync = vsync;\n\tthis.handle = null;\n\n\tthis.isRunning = false;\n\tthis.startTime = 0;\n\tthis.rTime = 0;\n\tthis.sTime = 0;\n\tthis.lTime = 0;\n\tthis.tDelta = 0;\n\n\tthis._onTimeout = () => {\n\t\tthis.onTimeout();\n\t};\n\n\tthis._onTimeout_b = () => {\n\t\tthis.runNow();\n\t};\n};\n\n/**\n * \tTimer onTimeout handler.\n */\nTimer.prototype.onTimeout = function ()\n{\n\tif (!this.isRunning) return;\n\n\tthis.rTime = hrnow() - this.startTime;\n\n\tlet tError = this.rTime - (this.sTime + this.interval);\n\tif (tError < 0)\n\t{\n\t\tthis.runAfter(-tError);\n\t\treturn;\n\t}\n\n\tthis.sTime += this.interval * (1 + int(tError / this.interval));\n\n\tthis.tDelta = tError < 0 ? this.interval : (this.rTime - this.lTime);\n\tthis.lTime = this.rTime;\n\n\tthis.runAfter((this.sTime + this.interval) - (hrnow() - this.startTime));\n\tthis.callback(this.tDelta, this);\n};\n\n/**\n * \tStarts the timer and triggers `onStarted`.\n *\n * \t@param immediate - When `true` the callback will be executed immediately.\n * \t@param scale - Used to control when to trigger the first timeout, delay is timeInterval*scale.\n *\n * \t!start (immediate?: boolean, scale?: number) : void;\n */\nTimer.prototype.start = function (immediate=false, scale=1.0)\n{\n\tif (this.isRunning) return;\n\n\tthis.startTime = hrnow();\n\tthis.isRunning = true;\n\n\tthis.sTime = 0;\n\tthis.lTime = 0;\n\n\tthis.onStarted();\n\n\tif (immediate)\n\t\tthis.callback (0, this);\n\n\tthis.runAfter(this.interval*scale);\n};\n\n/**\n * \tExecutes the timer activation after the specified amount of milliseconds.\n *\n * \t!runAfter (timeout: number) : void;\n */\nTimer.prototype.runAfter = function (timeout)\n{\n\tif (process.browser && this.vsync)\n\t{\n\t\trequestAnimationFrame(this._onTimeout_b);\n\t\treturn;\n\t}\n\n\tif (this.handle)\n\t\tclearTimeout(this.handle);\n\n\tthis.handle = setTimeout(this._onTimeout, timeout);\n};\n\n/**\n * \tExecutes the timer activaton as soon as possible.\n *\n * \t!runNow() : void;\n */\nTimer.prototype.runNow = function ()\n{\n\tif (this.handle)\n\t\tclearTimeout(this.handle);\n\n\tthis.handle = setTimeout(this._onTimeout, 0);\n};\n\n/**\n * \tStops the timer and triggers `onStopped`.\n *\n * \t!stop() : void;\n */\nTimer.prototype.stop = function ()\n{\n\tif (!this.isRunning) return;\n\n\tif (this.handle)\n\t{\n\t\tclearTimeout(this.handle);\n\t\tthis.handle = null;\n\t}\n\n\tthis.isRunning = false;\n\tthis.onStopped();\n};\n\n/**\n * \tTimer started event handler.\n *\n * \t!onStarted() : void;\n */\nTimer.prototype.onStarted = function ()\n{\n};\n\n/**\n * \tTimer stopped event handler.\n *\n * \t!onStopped() : void;\n */\nTimer.prototype.onStopped = function ()\n{\n};\n\nexport default Timer;\n","/*\n**\tsystem/canvas.js\n**\n**\tCopyright (c) 2016-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport { Rinn } from 'rinn';\nimport Matrix from '../math/matrix.js';\nimport System from './system.js';\nimport List from '../utils/list.js';\nimport ShaderProgram from './shader-program.js';\nimport Shader from './shader.js';\nimport globals from './globals.js';\nimport Log from './log.js';\nimport glx from './glx.js';\n\n//![import \"../math/matrix\"]\n//![import \"./system\"]\n//![import \"../utils/list\"]\n//![import \"./shader-program\"]\n//![import \"./shader\"]\n//![import \"./globals\"]\n//![import \"./log\"]\n//![import \"./glx\"]\n\n//!namespace Canvas\n\n\t//!type Options =\n\n\t\t/**\n\t\t * \tActual HTML5 Canvas element, if `null` a new one will be created.\n\t\t * \t!elem: HTMLCanvasElement;\n\t\t */\n\t\t\n\t\t/**\n\t\t * \tWebGL enable flag.\n\t\t * \t!gl: boolean;\n\t\t */\n\n\t\t/**\n\t\t * \tBackground of the canvas element.\n\t\t * \t!background: string;\n\t\t */\n\n\t\t/**\n\t\t * \tWidth of the canvas.\n\t\t * \t!width: number;\n\t\t */\n\n\t\t/**\n\t\t * \tHeight of the canvas.\n\t\t * \t!height: number;\n\t\t */\n\n\t\t/**\n\t\t * \tIndicates if the canvas element should be hidden from view (not attached to the document body).\n\t\t * \t!hidden: boolean;\n\t\t */\n\n\t\t/**\n\t\t * \tSet to `true` to ensure the canvas is positioned absolutly to (0, 0).\n\t\t * \t!absolute: boolean;\n\t\t */\n\n\t\t/**\n\t\t * \tUsed to control the antialias property of the canvas.\n\t\t * \t!antialias: boolean;\n\t\t */\n\n\t//!/type\n\n//!/namespace\n\n//!class Canvas\n\n/**\n * \tConstructs a canvas object. If the Canvas DOM element is not provided a new element will be created and attached to the page.\n * \t!constructor (options: Canvas.Options);\n */\n\nconst Canvas = function (options=null)\n{\n\tlet opts = {\n\t\telem: null,\n\t\tgl: false,\n\t\tbackground: '#000000',\n\t\twidth: 0,\n\t\theight: 0,\n\t\thidden: true,\n\t\tabsolute: false,\n\t\tantialias: false,\n\t\t...options\n\t};\n\n\tconst headless = global.document ? false : true;\n\n\t// Create canvas element if required.\n\tif (opts.elem == null)\n\t{\n\t\tthis.elem = !headless ? global.document.createElement('canvas') : Rinn.clone(Canvas.passThruCanvas);\n\n\t\tif (global.document && opts.hidden != true)\n\t\t{\n\t\t\tglobal.document.body.appendChild (this.elem);\n\n\t\t\tif (opts.absolute === true) {\n\t\t\t\tthis.elem.style.position = 'absolute';\n\t\t\t\tthis.elem.style.left = '0';\n\t\t\t\tthis.elem.style.top = '0';\n\t\t\t}\n\t\t}\n\t}\n\telse\n\t{\n\t\tthis.elem = opts.elem;\n\t}\n\n\tif (!this.elem.getContext) return;\n\n\tif (opts.gl === true && !headless)\n\t{\n\t\tthis.gl = this.elem.getContext('webgl2', { desynchronized: false, alpha: false, stencil: true });\n\n\t\tglobals.gl = this.gl\n\t\tglobals.shaderProgram = null;\n\n\t\tglx.setContext(this.gl);\n\n\t\tthis.context = null;\n\n\t\tLog.write(glx.getParameter('VERSION') + ', ' + glx.getParameter('SHADING_LANGUAGE_VERSION'));\n\t}\n\telse\n\t{\n\t\tthis.context = this.elem.getContext('2d', { desynchronized: false });\n\t\tthis.gl = null;\n\t}\n\n\t// State stack support.\n\tthis.matrixStack = List.Pool.alloc();\n\tthis.alphaStack = List.Pool.alloc();\n\tthis.depthFlagStack = List.Pool.alloc();\n\tthis.shaderProgramStack = List.Pool.alloc();\n\n\tthis.matr = Matrix.Pool.alloc();\n\tthis.transform = Matrix.Pool.alloc();\n\n\t// Default context values.\n\tthis._globalScale = 1.0;\n\tthis._alpha = 1.0;\n\tthis._depthFlag = true;\n\n\t// Set initial transformation matrix.\n\tthis.updateTransform();\n\tthis.strokeStyle(\"#fff\");\n\tthis.fillStyle(\"#fff\");\n\n\tif (opts.width && opts.height)\n\tthis.resize (opts.width, opts.height);\n\n\tif (this.gl !== null)\n\t\tthis.initGl();\n\n\tthis.antialias = opts.antialias;\n\tthis.setBackground (opts.background);\n};\n\nCanvas.passThruCanvas = \n{\n\tparentNode: null,\n\n\timageSmoothingEnabled: true,\n\n\tstyle: {\n\t},\n\n\twidth: 960,\n\theight: 540,\n\n\tgetContext: function (renderingContext) {\n\t\treturn this;\n\t},\n\n\tpushClip: function() {\n\t},\n\n\tpopClip: function() {\n\t},\n\n\tscale: function (sx, sy) {\n\t},\n\n\trotate: function (angle) {\n\t},\n\n\ttranslate: function (x, y) {\n\t},\n\n\tsetTransform: function (a, b, c, d, e, f) {\n\t},\n\n\tupdateTransform: function () {\n\t},\n\n\ttoDataURL: function (mime, params) {\n\t\treturn '';\n\t},\n\n\tbeginPath: function () {\n\t},\n\n\tmoveTo: function (x, y) {\n\t},\n\n\tclosePath: function() {\n\t},\n\n\tlineTo: function() {\n\t},\n\n\trect: function(x, y, w, h) {\n\t},\n\n\tfill: function() {\n\t},\n\n\tstroke: function() {\n\t},\n\n\tfillRect: function(x, y, w, h) {\n\t},\n\n\tstrokeRect: function(x, y, w, h) {\n\t},\n\n\tclip: function() {\n\t},\n\n\tquadraticCurveTo: function (cpx, cpy, x, y) {\n\t},\n\n\tbezierCurveTo: function (cx1, cy1, cx2, cy2, x, y) {\n\t},\n\n\tarc: function (x, y, r, sA, eA, cw) {\n\t},\n\n\tarcTo: function (x1, y1, x2, y2, r) {\n\t},\n\n\tfillText: function (text, x, y, maxWidth) {\n\t},\n\n\tstrokeText: function (text, x, y, maxWidth) {\n\t},\n\n\tmeasureText: function (text) {\n\t\treturn { width: 0 };\n\t},\n\n\tcreateImageData: function (w, h) {\n\t\treturn { width: w, height: h };\n\t},\n\n\tgetImageData: function (x, y, w, h) {\n\t\treturn { width: w, height: h, data: [] };\n\t},\n\n\tputImageData: function (data, x, y) {\n\t},\n\n\tdrawImage: function (img, sx=0, sy=0, sw=null, sh=null, dx=null, dy=null, dw=null, dh=null, textureWidth=null, textureHeight=null, frameWidth=null, frameHeight=null) {\n\t},\n\n\tgetBoundingClientRect: function () {\n\t\treturn { left: 0, top: 0 };\n\t}\n};\n\n/**\n * \tInitializes the OpenGL ES context.\n */\nCanvas.prototype.initGl = function ()\n{\n\tlet gl = this.gl;\n\n\t/**\n\t * \tCreate the frame-wrap shader program.\n\t */\n\tthis.glFWrapProgram = new ShaderProgram('fwrap');\n\n\tnew Shader ('fwrap-vert', Shader.Type.VERTEX,\n\t`\n\t\tuniform mat3 m_transform;\n\t\tuniform mat3 m_quad;\n\t\tuniform mat3 m_texture;\n\t\tuniform vec4 v_resolution;\n\t\tuniform vec4 v_frame_size;\n\t\tuniform float f_depth;\n\n\t\tin vec3 location;\n\t\tout vec2 texcoords;\n\n\t\t//@use location2d, frameTexCoords\n\n\t\tvoid main ()\n\t\t{\n\t\t\tgl_Position = location2d (location, f_depth);\n\t\t\ttexcoords = frameTexCoords(location);\n\t\t}\n\t`);\n\n\tnew Shader ('fwrap-frag', Shader.Type.FRAGMENT,\n\t`\n\t\tuniform sampler2D texture0;\n\t\tuniform vec4 v_frame_size;\n\t\tuniform float f_alpha;\n\n\t\tin vec2 texcoords;\n\t\tout vec4 color;\n\n\t\t//@use frameTex\n\n\t\tvoid main ()\n\t\t{\n\t\t\tcolor = frameTex(texcoords);\n\n\t\t\tcolor.a *= f_alpha;\n\t\t\tif (color.a <= 0.0) discard;\n\t\t}\n\t`);\n\n\t/**\n\t * \tCreate the default shader program.\n\t */\n\tthis.glDefaultProgram = new ShaderProgram('def');\n\n\tnew Shader ('def-vert', Shader.Type.VERTEX,\n\t`\n\t\tuniform mat3 m_transform;\n\t\tuniform mat3 m_quad;\n\t\tuniform mat3 m_texture;\n\t\tuniform vec4 v_resolution;\n\t\tuniform float f_depth;\n\n\t\tin vec3 location;\n\t\tout vec2 texcoords;\n\n\t\t//@use location2d\n\n\t\tvoid main ()\n\t\t{\n\t\t\tgl_Position = location2d (location, f_depth);\n\t\t\ttexcoords = vec2(m_texture * location);\n\t\t}\n\t`);\n\n\tnew Shader ('def-frag', Shader.Type.FRAGMENT,\n\t`\n\t\tuniform sampler2D texture0;\n\t\tuniform float f_alpha;\n\n\t\tin vec2 texcoords;\n\t\tout vec4 color;\n\n\t\tvoid main()\n\t\t{\n\t\t\tcolor = texture(texture0, texcoords);\n\n\t\t\tcolor.a *= f_alpha;\n\t\t\tif (color.a <= 0.0) discard;\n\t\t}\n\t`);\n\n\t/**\n\t * \tCreate the frame buffer blit shader program.\n\t */\n\tthis.glBlitProgram = new ShaderProgram('blit');\n\n\tnew Shader ('blit-vert', Shader.Type.VERTEX,\n\t`\n\t\tuniform vec4 v_resolution;\n\t\tuniform mat3 m_quad;\n\t\tuniform mat3 m_texture;\n\n\t\tin vec3 location;\n\t\tout vec2 texcoords;\n\n\t\t//@use snorm\n\n\t\tvoid main() {\n\t\t\tgl_Position = vec4(snorm(vec2(m_quad * location) / v_resolution.xy), 0.0, 1.0);\n\t\t\ttexcoords = vec2(m_texture * location);\n\t\t}\n\t`);\n\n\tnew Shader ('blit-frag', Shader.Type.FRAGMENT,\n\t`\n\t\tuniform sampler2D texture0;\n\t\tin vec2 texcoords;\n\n\t\tout vec4 color;\n\n\t\tvoid main() {\n\t\t\tcolor = texture(texture0, texcoords);\n\t\t}\n\t`);\n\n\t/* ****** */\n\tthis.glDefaultProgram.attach('def-vert');\n\tthis.glDefaultProgram.attach('def-frag');\n\n\tthis.glFWrapProgram.attach('fwrap-vert');\n\tthis.glFWrapProgram.attach('fwrap-frag');\n\n\tthis.glBlitProgram.attach('blit-vert');\n\tthis.glBlitProgram.attach('blit-frag');\n\n\tthis.glDefaultProgram.link();\n\tthis.glFWrapProgram.link();\n\tthis.glBlitProgram.link();\n\n\tif (!this.glDefaultProgram.getStatus())\n\t\tthrow new Error (this.glDefaultProgram.getAllErrors());\n\n\tif (!this.glFWrapProgram.getStatus())\n\t\tthrow new Error (this.glFWrapProgram.getAllErrors());\n\n\tif (!this.glBlitProgram.getStatus())\n\t\tthrow new Error (this.glBlitProgram.getAllErrors());\n\n\tthis.setShaderProgram(ShaderProgram.get('def'));\n\n\t/**\n\t * \tCreate the vertex buffer.\n\t */\n\tthis.vao0 = gl.createVertexArray();\n\tgl.bindVertexArray(this.vao0);\n\n\tglx.createBufferFrom([ 0.0, 0.0, 1.0,  0.0, 1.0, 1.0,  1.0, 0.0, 1.0,  1.0, 1.0, 1.0 ], glx.BufferTarget.ARRAY_BUFFER, glx.BufferUsage.STATIC_DRAW);\n\n\tgl.vertexAttribPointer(globals.shaderProgram.getAttribLocation('location'), 3, gl.FLOAT, gl.FALSE, 3*Float32Array.BYTES_PER_ELEMENT, 0*Float32Array.BYTES_PER_ELEMENT);\n\tgl.enableVertexAttribArray(globals.shaderProgram.getAttribLocation('location'));\n\n\t/**\n\t * \tSetup initial GL configuration.\n\t */\n\tgl.clearColor (0.0, 0.0, 0.0, 1.0);\n\n\tgl.enable (gl.DEPTH_TEST);\n\tgl.clearDepth (0.0);\n\tgl.depthFunc (gl.GEQUAL);\n\n\tgl.enable (gl.BLEND);\n\tgl.blendFunc (gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA);\n\n\t/**\n\t * \tSetup frame buffer.\n\t */\n\n\t/* *** */\n\tthis.m_quad = new Float32Array(9).fill(0);\n\tthis.m_texture = new Float32Array(9).fill(0);\n\tthis.v_resolution = new Float32Array(4).fill(0);\n\tthis.zvalue = 0;\n\n\tMatrix.loadIdentity(this.m_quad);\n\tMatrix.loadIdentity(this.m_texture);\n\n\t// drawImage (Image img, float sx, float sy, float sw, float sh, float dx, float dy, float dw, float dh, float textureWidth, float textureHeight, float frameWidth, float frameHeight);\n\tthis.drawImage = function (img, sx, sy, sw, sh, dx, dy, dw, dh, textureWidth=null, textureHeight=null, frameWidth=null, frameHeight=null)\n\t{\n\t\tif (!img.glTextureReady)\n\t\t\treturn;\n\n\t\tlet gl = this.gl;\n\t\tlet program = globals.shaderProgram;\n\n\t\tif (textureWidth === null)\n\t\t{\n\t\t\ttextureWidth = img.width;\n\t\t\ttextureHeight = img.height;\n\t\t}\n\n\t\tif (frameWidth === null)\n\t\t{\n\t\t\tframeWidth = img.targetWidth;\n\t\t\tframeHeight = img.targetHeight;\n\t\t}\n\n\t\tprogram.uniform4fv ('v_resolution', this.v_resolution);\n\t\tprogram.uniform1f ('f_time', globals.time);\n\t\tprogram.uniform1f ('f_scale', this._globalScale);\n\t\tprogram.uniform1f ('f_alpha', this._alpha);\n\n\t\tif (this.glActiveTextureId !== img.glTextureId || this.glActiveShader !== program)\n\t\t{\n\t\t\tgl.activeTexture (gl.TEXTURE0);\n\t\t\tgl.bindTexture (gl.TEXTURE_2D, img.glTextureId);\n\n\t\t\tprogram.uniform1i ('texture0', 0);\n\t\t\tprogram.uniform4f ('v_frame_size', frameWidth*img.rscale/textureWidth, frameHeight*img.rscale/textureHeight, frameWidth, frameHeight);\n\n\t\t\tthis.glActiveTextureId = img.glTextureId;\n\t\t\tthis.glActiveShader = program;\n\t\t}\n\n\t\tthis.m_quad[0] = dw;\n\t\tthis.m_quad[4] = dh;\n\t\tthis.m_quad[6] = dx;\n\t\tthis.m_quad[7] = dy;\n\n\t\tthis.m_texture[0] = sw / textureWidth;\n\t\tthis.m_texture[4] = sh / textureHeight;\n\t\tthis.m_texture[6] = sx / textureWidth;\n\t\tthis.m_texture[7] = sy / textureHeight;\n\n\t\tgl.uniformMatrix3fv (program.getUniformLocation('m_transform'), false, this.transform.data);\n\t\tgl.uniformMatrix3fv (program.getUniformLocation('m_quad'), false, this.m_quad);\n\t\tgl.uniformMatrix3fv (program.getUniformLocation('m_texture'), false, this.m_texture);\n\t\tgl.uniform1f (program.getUniformLocation('f_depth'), this.zvalue);\n\t\tgl.drawArrays (gl.TRIANGLE_STRIP, 0, 4);\n\t};\n\n\t// drawRect (float x, float y, float w, float h, Image img=null);\n\tthis.drawRect = function (x, y, w, h, img=null)\n\t{\n\t\tlet gl = this.gl;\n\t\tlet program = globals.shaderProgram;\n\n\t\tprogram.uniform4fv ('v_resolution', this.v_resolution);\n\t\tprogram.uniform1f ('f_time', globals.time);\n\t\tprogram.uniform1f ('f_scale', this._globalScale);\n\t\tprogram.uniform1f ('f_alpha', this._alpha);\n\n\t\tthis.glActiveTextureId = null;\n\n\t\tthis.m_quad[0] = w;\n\t\tthis.m_quad[4] = h;\n\t\tthis.m_quad[6] = x;\n\t\tthis.m_quad[7] = y;\n\n\t\tthis.m_texture[0] = 1.0;\n\t\tthis.m_texture[4] = 1.0;\n\t\tthis.m_texture[6] = 0.0;\n\t\tthis.m_texture[7] = 0.0;\n\n\t\tgl.uniformMatrix3fv (program.getUniformLocation('m_transform'), false, this.transform.data);\n\t\tgl.uniformMatrix3fv (program.getUniformLocation('m_quad'), false, this.m_quad);\n\t\tgl.uniformMatrix3fv (program.getUniformLocation('m_texture'), false, this.m_texture);\n\t\tgl.uniform1f (program.getUniformLocation('f_depth'), this.zvalue);\n\t\tgl.drawArrays (gl.TRIANGLE_STRIP, 0, 4);\n\t};\n};\n\n\n/**\n * \tPrepares an image to use it on the canvas. Used only when GL mode is active.\n * \t!prepareImage (image: HTMLImageElement) : boolean;\n */\nCanvas.prototype.prepareImage = function (image)\n{\n\tlet gl = this.gl;\n\tif (gl == null) return false;\n\n\tlet texture = gl.createTexture();\n\tgl.bindTexture(gl.TEXTURE_2D, texture);\n\n\tif (!image.filter)\n\t\timage.filter = 'NEAREST';\n\n\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n\n\tif (image.mipmap === true)\n\t{\n\t\tgl.texStorage2D(gl.TEXTURE_2D, image.levels, gl.RGBA8, image.width, image.height);\n\t\tgl.texSubImage2D(gl.TEXTURE_2D, 0, 0, 0, image.width, image.height, gl.RGBA, gl.UNSIGNED_BYTE, image);\n\n\t\tgl.generateMipmap(gl.TEXTURE_2D);\n\n\t\tif (image.filter === 'NEAREST')\n\t\t{\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST_MIPMAP_LINEAR);\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR_MIPMAP_LINEAR);\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n\t\t}\n\t}\n\telse\n\t{\n\t\tgl.texStorage2D(gl.TEXTURE_2D, 1, gl.RGBA8, image.width, image.height);\n\t\tgl.texSubImage2D(gl.TEXTURE_2D, 0, 0, 0, image.width, image.height, gl.RGBA, gl.UNSIGNED_BYTE, image);\n\n\t\tif (image.filter === 'NEAREST')\n\t\t{\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\n\t\t\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);\n\t\t}\n\t}\n\n\timage.glTextureId = texture;\n\timage.glTextureReady = true;\n\n\treturn true;\n};\n\n/**\n * \tConfigures the texture related to specified image to gl.REPEAT.\n * \t!setWrapRepeat (image: HTMLImageElement) : HTMLImageElement;\n */\nCanvas.prototype.setWrapRepeat = function (image)\n{\n\tlet gl = this.gl;\n\tif (gl == null || !image.glTextureReady) return image;\n\n\tgl.bindTexture(gl.TEXTURE_2D, image.glTextureId);\n\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.REPEAT);\n\tgl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.REPEAT);\n\n\treturn image;\n};\n\n/**\n * \tApplies the current config to the canvas (usually called after a reset on the canvas).\n */\nCanvas.prototype.applyConfig = function ()\n{\n\tif (this.antialias == false)\n\t{\n\t\tif (this.context != null)\n\t\t\tthis.context.imageSmoothingEnabled = false;\n\n\t\tthis.elem.style.imageRendering = 'crisp-edges';\n\t}\n\telse\n\t{\n\t\tif (this.context != null)\n\t\t\tthis.context.imageSmoothingEnabled = true;\n\n\t\tthis.elem.style.imageRendering = 'auto';\n\t}\n};\n\n/**\n * \tDisposes the resources used by the canvas. The HTMLCanvasElement will also be removed from the document.\n */\nCanvas.prototype.dispose = function ()\n{\n\tif (this.elem.parentNode)\n\t\tthis.elem.parentNode.removeChild (this.elem);\n\n\tthis.matrixStack.free();\n\tthis.alphaStack.free();\n\tthis.depthFlagStack.free();\n\tthis.shaderProgramStack.free();\n\n\tthis.matr = null;\n\tthis.context = null;\n\tthis.elem = null;\n};\n\n/**\n * \tSets the default background color of the canvas. Does not cause a canvas clear.\n * \t!setBackground (color: string) : void;\n */\nCanvas.prototype.setBackground = function (color)\n{\n\tthis.elem.style.background = color;\n\tthis.backgroundColor = color;\n\n\tif (this.gl !== null)\n\t{\n\t\tif (color.length != 7)\n\t\t\tthrow new Error ('Canvas.setBackground: color parameter should be CSS-style hex-rgb with 6 digits.');\n\n\t\tlet r = parseInt(color.substr(1,2), 16) / 255.0;\n\t\tlet g = parseInt(color.substr(3,2), 16) / 255.0;\n\t\tlet b = parseInt(color.substr(5,2), 16) / 255.0;\n\n\t\tthis.gl.clearColor (r, g, b, 1.0);\n\t}\n};\n\n/**\n * \tSets the canvas size.\n * \t!resize (width: number, height: number) : Canvas;\n */\nCanvas.prototype.resize = function (width, height)\n{\n\tlet rect = this.elem.getBoundingClientRect();\n\n\tif (!width) width = rect.width;\n\tif (!height) height = rect.height;\n\n\tthis.elem.width = width;\n\tthis.elem.height = height;\n\n\tthis.width = this.elem.width;\n\tthis.height = this.elem.height;\n\n\tthis._width = int(this.width / this._globalScale);\n\tthis._height = int(this.height / this._globalScale);\n\n\tlet gl = this.gl;\n\tif (gl != null)\n\t{\n\t\tgl.enable (gl.SCISSOR_TEST);\n\t\tgl.scissor (0, 0, this.width, this.height);\n\t\tgl.viewport (0, 0, this.width, this.height);\n\n\t\tif (this.v_resolution)\n\t\t{\n\t\t\t//violet:hardware scaling\n\t\t\t//this.v_resolution[0] = this._width;\n\t\t\t//this.v_resolution[1] = this._height;\n\n\t\t\tthis.v_resolution[0] = this.width;\n\t\t\tthis.v_resolution[1] = this.height;\n\n\t\t\tthis.v_resolution[2] = this.width;\n\t\t\tthis.v_resolution[3] = this.height;\n\t\t}\n\t}\n\n\tthis.applyConfig();\n\treturn this;\n};\n\n/**\n * \tSets the global canvas scale.\n * \t!globalScale (value: number) : Canvas;\n */\nCanvas.prototype.globalScale = function (value)\n{\n\tthis._globalScale = value;\n\n\tthis._width = int(this.width / this._globalScale);\n\tthis._height = int(this.height / this._globalScale);\n\n\tthis.loadIdentity();\n\n\t//violet:hardware scaling\n\t//if (this.gl === null)\n\t\tthis.scale(value, value);\n\n\treturn this;\n};\n\n/**\n * \tSets the flipped status of the canvas, that is, if the canvas coordinates are flipped (i.e. `xy` is now `yx`).\n * \t!flipped (value: boolean) : Canvas;\n */\nCanvas.prototype.flipped = function (value)\n{\n\tif (value)\n\t{\n\t\tthis._width = int(this.height / this._globalScale);\n\t\tthis._height = int(this.width / this._globalScale);\n\t}\n\telse\n\t{\n\t\tthis._width = int(this.width / this._globalScale);\n\t\tthis._height = int(this.height / this._globalScale);\n\t}\n\n\tif (this.gl != null && this.v_resolution)\n\t{\n\t\tthis.v_resolution[0] = this.width;\n\t\tthis.v_resolution[1] = this.height;\n\n\t\tthis.v_resolution[2] = value ? this.height : this.width;\n\t\tthis.v_resolution[3] = value ? this.width : this.height;\n\t}\n\n\tthis.isFlipped = value;\n\treturn this;\n};\n\n/**\n * \tSaves the clip state of the canvas. Works only in GL mode.\n * \t!pushClip() : Canvas;\n */\nCanvas.prototype.pushClip = function ()\n{\n\treturn this;\n};\n\n/**\n * \tRestores the clip state of the canvas. Works only in GL mode.\n * \t!popClip() : Canvas;\n */\nCanvas.prototype.popClip = function ()\n{\n\tif (this.gl != null)\n\t\tthis.gl.scissor(0, 0, this.width, this.height);\n\n\treturn this;\n};\n\n/**\n * \tReturns the image on the canvas as a string in DATA-URI format.\n * \t!toDataUrl (mime: string, params?: object) : string;\n */\nCanvas.prototype.toDataUrl = function (mime='image/png', params=null)\n{\n\treturn this.elem.toDataURL (mime, params);\n};\n\n/**\n * \tReturns the image as a Base-64 encoded PNG string.\n * \t!toPngBase64() : string;\n */\nCanvas.prototype.toPngBase64 = function ()\n{\n\treturn this.elem.toDataURL(\"image/png\").substr(22);\n};\n\n/**\n * \tSets or returns an attribute of the canvas context.\n */\nCanvas.prototype._contextAttribute = function (name, value=null)\n{\n\tif (!this.context) return;\n\n\tif (value !== null)\n\t{\n\t\tthis.context[name] = value;\n\t\treturn this;\n\t}\n\n\treturn this.context[name];\n};\n\n/**\n * \tSets the fill style.\n * \t!fillStyle (value: string) : Canvas;\n */\n/**\n * \tReturns the current fill style.\n * \t!fillStyle () : string;\n */\nCanvas.prototype.fillStyle = function (value)\n{\n\treturn this._contextAttribute (\"fillStyle\", value);\n};\n\n/**\n * \tSets the stroke style.\n * \t!strokeStyle (value: string) : Canvas;\n */\n/**\n * \tReturns the current strroke style.\n * \t!strokeStyle () : string;\n */\nCanvas.prototype.strokeStyle = function (value)\n{\n\treturn this._contextAttribute (\"strokeStyle\", value);\n};\n\n/**\n * \tSets the line cap style (Possible values are `butt`, `round`, or `square`. `butt` is default).\n * \t!lineCap (value: string) : Canvas;\n */\n/**\n * \tReturns the current line cap style.\n * \t!lineCap() : string;\n */\nCanvas.prototype.lineCap = function (value)\n{\n\treturn this._contextAttribute (\"lineCap\", value);\n};\n\n// violet\n\n/*\n**\tSets or returns the current line join style (bevel, round, miter. miter is default).\n**\n**\t>> Canvas lineJoin (string value);\n**\t>> string lineJoin ();\n*/\n\nCanvas.prototype.lineJoin = function (value)\n{\n\treturn this._contextAttribute (\"lineJoin\", value);\n};\n\n\n/*\n**\tSets or returns the current line width value (default 1).\n**\n**\t>> Canvas lineWidth (float value);\n**\t>> float lineWidth ();\n*/\n\nCanvas.prototype.lineWidth = function (value)\n{\n\treturn this._contextAttribute (\"lineWidth\", value);\n};\n\n\n/*\n**\tSets or returns the current miter limit value (default 10).\n**\n**\t>> Canvas miterLimit (float value);\n**\t>> float miterLimit ();\n*/\n\nCanvas.prototype.miterLimit = function (value)\n{\n\treturn this._contextAttribute (\"miterLimit\", value);\n};\n\n\n/*\n**\tSets or returns the current shadow color value (default black).\n**\n**\t>> Canvas shadowColor (string value);\n**\t>> string shadowColor ();\n*/\n\nCanvas.prototype.shadowColor = function (value)\n{\n\treturn this._contextAttribute (\"shadowColor\", value);\n};\n\n\n/*\n**\tSets or returns the current shadow X offset (default 0).\n**\n**\t>> Canvas shadowOffsetX (float value);\n**\t>> float shadowOffsetX ();\n*/\n\nCanvas.prototype.shadowOffsetX = function (value)\n{\n\treturn this._contextAttribute (\"shadowOffsetX\", value);\n};\n\n\n/*\n**\tSets or returns the current shadow Y offset (default 0).\n**\n**\t>> Canvas shadowOffsetY (float value);\n**\t>> float shadowOffsetY ();\n*/\n\nCanvas.prototype.shadowOffsetY = function (value)\n{\n\treturn this._contextAttribute (\"shadowOffsetY\", value);\n};\n\n\n/*\n**\tSets or returns the current shadow blue value (default 0).\n**\n**\t>> Canvas shadowBlur (string value);\n**\t>> string shadowBlur ();\n*/\n\nCanvas.prototype.shadowBlur = function (value)\n{\n\treturn this._contextAttribute (\"shadowBlur\", value);\n};\n\n\n/*\n**\tSets or returns the current font settings.\n**\n**\t>> Canvas font (string value);\n**\t>> string font ();\n*/\n\nCanvas.prototype.font = function (value)\n{\n\treturn this._contextAttribute (\"font\", value);\n};\n\n\n/*\n**\tSets or returns the current text align settings (start, end, left, right, center).\n**\n**\t>> Canvas textAlign (string value);\n**\t>> string textAlign ();\n*/\n\nCanvas.prototype.textAlign = function (value)\n{\n\treturn this._contextAttribute (\"textAlign\", value);\n};\n\n\n/*\n**\tSets or returns the current text base line settings (alphabetic, bottom, hanging, ideographic, middle, top. Alphabetic is default).\n**\n**\t>> Canvas textBaseline (string value);\n**\t>> string textBaseline ();\n*/\n\nCanvas.prototype.textBaseline = function (value)\n{\n\treturn this._contextAttribute (\"textBaseline\", value);\n};\n\n\n/*\n**\tSets or returns the current global alpha value.\n**\n**\t>> Canvas globalAlpha (float value);\n**\t>> float globalAlpha ();\n*/\n\nCanvas.prototype.globalAlpha = function (value=null)\n{\n\tif (value !== null)\n\t\tthis._alpha = value;\n\telse\n\t\treturn this._alpha;\n\n\treturn this.alpha(1.0);\n};\n\n\n/*\n**\tSets or returns the current global composite operation value (source-atop, source-in, source-out, source-over, destination-atop,\n**\tdestination-in, destination-out, destination-over, lighter, copy, xor).\n**\n**\t>> Canvas globalCompositeOperation (string value);\n**\t>> string globalCompositeOperation ();\n*/\nCanvas.prototype.globalCompositeOperation = function (value)\n{\n\treturn this._contextAttribute (\"globalCompositeOperation\", value);\n};\n\n/*\n**\tUpdates the underlying canvas or gl transformation matrix. \n**\n**\tCanvas updateTransform();\n*/\nCanvas.prototype.updateTransform = function()\n{\n\tthis.setTransform (this.matr.data[0], this.matr.data[1], this.matr.data[3], this.matr.data[4], this.matr.data[6], this.matr.data[7]);\n\treturn this;\n};\n\n/*\n**\tSets the canvas or gl transformation matrix to the given one.\n**\n**\tCanvas setTransform (float a, float b, float c, float d, float e, float f)\n*/\nCanvas.prototype.setTransform = function (a, b, c, d, e, f)\n{\n\tif (this.context === null)\n\t{\n\t\tthis.transform.data[0] = a;\n\t\tthis.transform.data[1] = b;\n\t\tthis.transform.data[2] = 0;\n\t\tthis.transform.data[3] = c;\n\t\tthis.transform.data[4] = d;\n\t\tthis.transform.data[5] = 0;\n\t\tthis.transform.data[6] = int(e);//Math.ceil(e);\n\t\tthis.transform.data[7] = int(f);//Math.ceil(f);\n\t\tthis.transform.data[8] = 1;\n\n\t\treturn this;\n\t}\n\n\t//this.context.setTransform (a, b, c, d, Math.ceil(e), Math.ceil(f));\n\tthis.context.setTransform (a, b, c, d, int(e), int(f));\n\treturn this;\n};\n\n/*\n**\tDraws a filled rectangle on the canvas.\n**\n**\tCanvas fillRect (float x, float y, float w, float h)\n*/\nCanvas.prototype.fillRect = function (x, y, w, h)\n{\n\tthis.context.fillRect (x, y, w, h);\n\treturn this;\n};\n\n/*\n**\tDraws an stroked rectangle on the canvas.\n**\n**\tCanvas strokeRect (float x, float y, float w, float h)\n*/\nCanvas.prototype.strokeRect = function (x, y, w, h)\n{\n\tthis.context.strokeRect (x, y, w, h);\n\treturn this;\n};\n\n/*\n**\tClears a rectangle on the canvas. All pixels will be erased.\n**\n**\tCanvas clearRect (float x, float y, float w, float h)\n*/\nCanvas.prototype.clearRect = function (x, y, w, h)\n{\n\tthis.context.clearRect (x, y, w, h);\n\treturn this;\n};\n\n/*\n**\tStarts a new path. Any previous path points will be cleared.\n**\n**\tCanvas beginPath()\n*/\nCanvas.prototype.beginPath = function ()\n{\n\tthis.context.beginPath ();\n\treturn this;\n};\n\n/*\n**\tCreates a new point in the current path.\n**\n**\tCanvas moveTo (float x, float y)\n*/\nCanvas.prototype.moveTo = function (x, y)\n{\n\tthis.context.moveTo (x, y);\n\treturn this;\n};\n\n/*\n**\tCreates a new point from the first path point to the last, and finishes the path.\n**\n**\tCanvas closePath()\n*/\nCanvas.prototype.closePath = function ()\n{\n\tthis.context.closePath ();\n\treturn this;\n};\n\n/*\n**\tDraws a line from the last point on the path to the given point.\n**\n**\tCanvas lineTo (float x, float y)\n*/\nCanvas.prototype.lineTo = function (x, y)\n{\n\tthis.context.lineTo (x, y);\n\treturn this;\n};\n\n/*\n**\tCreates a hollow rectangle path on the canvas for subsequent stroke or fill.\n**\n**\tCanvas rect (float x, float y, float w, float h)\n*/\nCanvas.prototype.rect = function (x, y, w, h)\n{\n\tthis.context.rect (x, y, w, h);\n\treturn this;\n};\n\n/*\n**\tFills the active path with the current fill style or with the one given in the value parameter.\n**\n**\tCanvas fill (string value=null)\n*/\nCanvas.prototype.fill = function (value=null)\n{\n\tif (value) this.fillStyle (value);\n\tthis.context.fill ();\n\treturn this;\n};\n\n/*\n**\tStrokes the active path with the current stroke style or with the one given in the value parameter.\n**\n**\tCanvas stroke (string value=null)\n*/\nCanvas.prototype.stroke = function (value=null)\n{\n\tif (value) this.strokeStyle (value);\n\tthis.context.stroke ();\n\treturn this;\n};\n\n/*\n**\tClips a region of the canvas so that only the region will be used for drawing. Coordinates must be in logical screen space.\n**\n**\tCanvas clip()\n*/\nCanvas.prototype.clip = function (x, y, width, height)\n{\n\tif (this.gl !== null)\n\t{\n\t\tx *= this._globalScale;\n\t\ty *= this._globalScale;\n\t\twidth *= this._globalScale;\n\t\theight *= this._globalScale;\n\n\t\tif (this.isFlipped)\n\t\t\tthis.gl.scissor(this.width-y-height-1, this.height-x-width-1, height, width);\n\t\telse\n\t\t\tthis.gl.scissor(x, this.height-y-height-1, width, height);\n\t}\n\n\treturn this;\n};\n\n/*\n**\tAdds points of a quadratic curve to the active path. A control points and one reference point must be provided.\n**\n**\tCanvas quadraticCurveTo (float cpx, float cpy, float x, float y)\n*/\nCanvas.prototype.quadraticCurveTo = function (cpx, cpy, x, y)\n{\n\tthis.context.quadraticCurveTo (cpx, cpy, x, y);\n\treturn this;\n};\n\n/*\n**\tAdds points of a bezier curve to the active path. Two control points and one reference point must be provided.\n**\n**\tCanvas bezierCurveTo (float cx1, float cy1, float cx2, float cy2, float x, float y)\n*/\nCanvas.prototype.bezierCurveTo = function (cx1, cy1, cx2, cy2, x, y)\n{\n\tthis.context.bezierCurveTo (cx1, cy1, cx2, cy2, x, y);\n\treturn this;\n};\n\n/*\n**\tAdds points of an arc the the active path. Used to draw a circle of part of it.\n**\n**\tCanvas arc (float x, float y, float r, float sA, float eA, float cw)\n*/\nCanvas.prototype.arc = function (x, y, r, sA, eA, cw)\n{\n\tthis.context.arc (x, y, r, sA, eA, cw);\n\treturn this;\n};\n\n/*\n**\tAdds points of an arc to the active path. Used to create an arc between two points.\n**\n**\tCanvas arcTo (float x1, float y1, float x2, float y2, float r)\n*/\nCanvas.prototype.arcTo = function (x1, y1, x2, y2, r)\n{\n\tthis.context.arcTo (x1, y1, x2, y2, r);\n\treturn this;\n};\n\n/*\n**\tDraws filled text on the canvas with the active font, and fillStyle properties.\n**\n**\tCanvas fillText (string text, float x, float y, float maxWidth=1000)\n*/\nCanvas.prototype.fillText = function (text, x, y, maxWidth=1000)\n{\n\tthis.context.fillText (text, x, y, maxWidth);\n\treturn this;\n};\n\n/*\n**\tDraws stroked text on the canvas with the active font, and fillStyle properties.\n**\n**\tCanvas strokeText (string text, float x, float y, float maxWidth=1000)\n*/\nCanvas.prototype.strokeText = function (text, x, y, maxWidth=1000)\n{\n\tthis.context.strokeText (text, x, y, maxWidth);\n\treturn this;\n};\n\n\n/*\n**\tMeasures the width of the given text using active font properties.\n**\n**\tfloat measureText (string text)\n*/\nCanvas.prototype.measureText = function (text)\n{\n\treturn this.context.measureText(text).width;\n};\n\n\n/*\n**\tReturns a new image data object with the specified size.\n**\n**\tImageData createImageData (float w, float h)\n*/\nCanvas.prototype.createImageData = function (w, h)\n{\n\treturn this.context.createImageData (w, h);\n};\n\n\n/*\n**\tReturns an image data object with the pixels of a rectangular area of the canvas.\n**\n**\tImageData getImageData (float x, float y, float w, float h)\n*/\nCanvas.prototype.getImageData = function (x, y, w, h)\n{\n\treturn this.context.getImageData (x, y, w, h);\n};\n\n\n/*\n**\tPuts image data on the canvas at the specified location.\n**\n**\tCanvas putImageData (ImageData data, float x, float y)\n*/\nCanvas.prototype.putImageData = function (data, x, y)\n{\n\tthis.context.putImageData (data, x, y);\n\treturn this;\n};\n\n\n/*\n**\tDraws an image on the canvas.\n**\n**\tCanvas drawImage (Image img, float x, float y)\n**\tCanvas drawImage (Image img, float x, float y, float w, float h)\n**\tCanvas drawImage (Image img, float sx, float sy, float sw, float sh, float dx, float dy, float dw, float dh)\n*/\nCanvas.prototype.drawImage = function (img, sx=0, sy=0, sw=null, sh=null, dx=null, dy=null, dw=null, dh=null)\n{\n\tif (sw === null)\n\t{\n\t\tthis.context.drawImage (img, int(sx), int(sy));\n\t}\n\telse if (dx === null)\n\t{\n\t\tthis.context.drawImage (img, int(sx), int(sy), int(sw), int(sh));\n\t}\n\telse\n\t{\n\t\tlet a3 = int(sw);\n\t\tlet a4 = int(sh);\n\t\tif (!a3 || !a4) return this;\n\n\t\tlet a7 = int(dw);\n\t\tlet a8 = int(dh);\n\t\tif (!a7 || !a8) return this;\n\n\t\tthis.context.drawImage (img, int(sx), int(sy), a3, a4, int(dx), int(dy), a7, a8);\n\t}\n\n\treturn this;\n};\n\n\n/*\n**\tClears the entire canvas. If the backgroundColor parameter is set the canvas will be cleared manually by using\n**\tthe fillRect method.\n**\n**\tCanvas clear (string backgroundColor)\n**\tCanvas clear ()\n*/\n\nCanvas.prototype.clear = function (backgroundColor=null)\n{\n\tif (this.gl != null)\n\t{\n\t\tthis.gl.clear(this.gl.STENCIL_BUFFER_BIT | this.gl.DEPTH_BUFFER_BIT | this.gl.COLOR_BUFFER_BIT);\n\t\tthis.glActiveTextureId = null;\n\n\t\treturn this;\n\t}\n\n\tif (backgroundColor)\n\t{\n\t\tthis.globalCompositeOperation(\"source-over\").globalAlpha(1.0).fillStyle(backgroundColor !== true ? backgroundColor : this.backgroundColor).fillRect(0, 0, this._width, this._height);\n\t}\n\telse\n\t{\n\t\tthis.elem.width = this.width;\n\t\tthis.applyConfig();\n\t}\n\n\tthis.updateTransform();\n\treturn this;\n};\n\n\n/*\n**\tIndicates that rendering is about to start. Used only in GL mode.\n*/\nCanvas.prototype.start = function ()\n{\n};\n\n/*\n**\tIndicates that rendering has ended. Used only in GL mode.\n*/\nCanvas.prototype.end = function ()\n{\n};\n\n/*\n**\tIndicates that rendering has been completed and any flush operation should be executed. Used only in GL mode.\n*/\nCanvas.prototype.flush = function ()\n{\n\tlet gl = this.gl;\n\tif (gl === null) return;\n\n\tgl.colorMask (false, false, false, true);\n\tgl.clear (gl.COLOR_BUFFER_BIT);\n\tgl.colorMask (true, true, true, true);\n\n\t// VIOLET: Add gl.flush() if not using RAF.\n};\n\n/**\n *\tBlits the specified texture to the active framebuffer.\n */\nCanvas.prototype.blit = function (texture, width, height, shaderProgram=null)\n{\n\tlet gl = this.gl;\n\tif (gl === null) return;\n\n\tshaderProgram = shaderProgram || this.glBlitProgram;\n\n\tthis.setShaderProgram(shaderProgram);\n\tgl.disable (gl.DEPTH_TEST);\n\n\t\tgl.activeTexture (gl.TEXTURE0);\n\t\tgl.bindTexture (gl.TEXTURE_2D, texture);\n\t\tshaderProgram.uniform1i ('texture0', 0);\n\n\t\tshaderProgram.uniform4fv ('v_resolution', this.v_resolution);\n\t\tshaderProgram.uniform1f ('f_time', globals.time);\n\t\tshaderProgram.uniform1f ('f_scale', this._globalScale);\n\t\tshaderProgram.uniform1f ('f_alpha', this._alpha);\n\n\t\tthis.m_quad[0] = this.width;\n\t\tthis.m_quad[4] = this.height;\n\t\tthis.m_quad[6] = 0;\n\t\tthis.m_quad[7] = 0;\n\n\t\tthis.m_texture[0] = this.width / width;\n\t\tthis.m_texture[4] = this.height / height;\n\t\tthis.m_texture[6] = 0.0;\n\t\tthis.m_texture[7] = 0.0;\n\n\t\tgl.uniformMatrix3fv (shaderProgram.getUniformLocation('m_quad'), false, this.m_quad);\n\t\tgl.uniformMatrix3fv (shaderProgram.getUniformLocation('m_texture'), false, this.m_texture);\n\t\tgl.drawArrays (gl.TRIANGLE_STRIP, 0, 4);\n\n\tthis.setShaderProgram(ShaderProgram.get('def'));\n\tgl.enable (gl.DEPTH_TEST);\n};\n\n/*\n**\tResets the context drawing properties to their initial values.\n**\n**\tCanvas reset (bool clearPath=false);\n*/\nCanvas.prototype.reset = function (clearPath=false)\n{\n\tthis.fillStyle(\"#000000\").strokeStyle(\"#000000\").lineCap(\"butt\").lineJoin(\"miter\")\n\t.lineWidth(\"1\").miterLimit(\"10\").shadowColor(\"#000000\").shadowOffsetX(\"0\")\n\t.shadowOffsetY(\"0\").shadowBlur(\"0\").globalAlpha(\"1.0\").globalCompositeOperation(\"source-over\");\n\n\tif (clearPath) this.beginPath().closePath();\n\n\treturn this;\n};\n\n/*\n**\tPushes the current transformation matrix into the matrix stack.\n*/\nCanvas.prototype.pushMatrix = function ()\n{\n\tthis.matrixStack.push(this.matr);\n\tthis.matr = this.matr.clone();\n\n\treturn this;\n};\n\n/*\n**\tPops a matrix from the matrix stack into the transformation matrix.\n*/\nCanvas.prototype.popMatrix = function ()\n{\n\tthis.matr.free();\n\tthis.matr = this.matrixStack.pop();\n\n\treturn this.updateTransform();\n};\n\n/*\n**\tSets or returns the relative alpha value for subsequent drawing operations.\n**\n**\t>> Canvas alpha (float value);\n**\t>> float alpha ();\n*/\n\nCanvas.prototype.alpha = function (value)\n{\n\tthis._alpha *= value;\n\n\tif (this.context && this.gl === null)\n\t\tthis.context.globalAlpha = this._alpha;\n\n\treturn this;\n};\n\n/*\n**\tPushes the current global alpha into the stack.\n*/\nCanvas.prototype.pushAlpha = function ()\n{\n\tthis.alphaStack.push (this.globalAlpha());\n\treturn this;\n};\n\n/*\n**\tPops an alpha from the stack into the global alpha.\n**\n**\t>> Canvas popAlpha();\n*/\nCanvas.prototype.popAlpha = function ()\n{\n\tthis.globalAlpha(this.alphaStack.pop());\n\treturn this;\n};\n\n/*\n**\tSets the depth-test flag.\n*/\nCanvas.prototype.setDepthFlag = function (value)\n{\n\tlet gl = this.gl;\n\tif (gl === null) return;\n\n\tif (value)\n\t{\n\t\tgl.enable (gl.DEPTH_TEST);\n\t\tthis._depthFlag = true;\n\t}\n\telse\n\t{\n\t\tgl.disable (gl.DEPTH_TEST);\n\t\tthis._depthFlag = false;\n\t}\n};\n\n/*\n**\tReturns the depth-test flag.\n*/\nCanvas.prototype.getDepthFlag = function ()\n{\n\treturn this._depthFlag;\n};\n\n/*\n**\tPushes the current depth-test flag into the depth flag stack. If a value is provided, the current flag will be pushed and set to the\n**\tgiven value only if they're different, when so, true will be returned.\n*/\nCanvas.prototype.pushDepthFlag = function (value=null)\n{\n\tif (value !== null)\n\t{\n\t\tvalue = !!value;\n\n\t\tif (value === this._depthFlag)\n\t\t\treturn false;\n\n\t\tthis.depthFlagStack.push(this._depthFlag);\n\t\tthis.setDepthFlag(value);\n\n\t\treturn true;\n\t}\n\n\tthis.depthFlagStack.push(this._depthFlag);\n};\n\n/*\n**\tPops the depth-test flag from the depth flag stack.\n*/\nCanvas.prototype.popDepthFlag = function ()\n{\n\tthis.setDepthFlag(this.depthFlagStack.pop());\n};\n\n/*\n**\tSets the active shader program.\n*/\nCanvas.prototype.setShaderProgram = function (program)\n{\n\tlet gl = this.gl;\n\tif (gl === null) return;\n\n\tglobals.shaderProgram = program;\n\tglobals.shaderProgram.activate();\n};\n\n/*\n**\tReturns the current shader program.\n*/\nCanvas.prototype.getShaderProgram = function ()\n{\n\treturn globals.shaderProgram;\n};\n\n/*\n**\tPushes the current shader program into the stack. If a value is provided, the current shader program will be pushed and set to the\n**\tgiven one only if they're different, when so, true will be returned.\n*/\nCanvas.prototype.pushShaderProgram = function (program=null)\n{\n\tif (program !== null)\n\t{\n\t\tif (program === globals.shaderProgram)\n\t\t\treturn false;\n\n\t\tthis.shaderProgramStack.push(globals.shaderProgram);\n\t\tthis.setShaderProgram(program);\n\n\t\treturn true;\n\t}\n\n\tthis.shaderProgramStack.push(globals.shaderProgram);\n};\n\n/*\n**\tPops the shader program from the stack.\n*/\nCanvas.prototype.popShaderProgram = function ()\n{\n\tthis.setShaderProgram(this.shaderProgramStack.pop());\n};\n\n\n/*\n**\tSets the transformation matrix to identity.\n**\n**\t>> Canvas loadIdentity();\n*/\n\nCanvas.prototype.loadIdentity = function ()\n{\n\tthis.matr.identity();\n\treturn this.updateTransform();\n};\n\n\n/*\n**\tSets the transformation matrix to the specified one.\n**\n**\t>> Canvas loadMatrix (Matrix matr);\n*/\n\nCanvas.prototype.loadMatrix = function (matr)\n{\n\tthis.matr.set(matr);\n\treturn this.updateTransform();\n};\n\n\n/*\n**\tReturns the current transformation matrix, when `clone` is set to true, a cloned matrix will be returned.\n**\n**\t>> Matrix getMatrix(bool clone=false);\n*/\n\nCanvas.prototype.getMatrix = function (clone=false)\n{\n\treturn clone ? this.matr.clone() : this.matr;\n};\n\n\n/*\n**\tAppends a matrix to the current transformation matrix.\n**\n**\t>> Canvas appendMatrix (Matrix matr);\n*/\n\nCanvas.prototype.appendMatrix = function (matr)\n{\n\tthis.matr.append(matr);\n\treturn this.updateTransform();\n};\n\n\n/*\n**\tSets scaling factors for subsequent drawing operations. If the useNative is not set then scale with the current\n**\ttransformation matrix will be performed.\n**\n**\t>> Canvas scale (float sx, float sy, bool useNative=false);\n*/\n\nCanvas.prototype.scale = function (sx, sy, useNative=false)\n{\n\tif (useNative) {\n\t\tthis.context.scale (sx, sy);\n\t\treturn this;\n\t}\n\n\tthis.matr.scale (sx, sy);\n\treturn this.updateTransform();\n};\n\n\n/*\n**\tSets rotation factor for subsequent drawing operations. The angle is in radians. If useNative is not set\n**\tthen rotation with the transformation matrix will be used.\n**\n**\t>> Canvas rotate (float angle, bool useNative=false);\n*/\n\nCanvas.prototype.rotate = function (angle, useNative=false)\n{\n\tif (useNative) {\n\t\tthis.context.rotate (angle);\n\t\treturn this;\n\t}\n\n\tthis.matr.rotate(angle);\n\treturn this.updateTransform();\n};\n\n\n/*\n**\tMoves starting point to an specified location. If the useNative parameter is not set then translation with\n**\tthe transformation matrix will be done.\n**\n**\t>> Canvas translate (float x, float y, bool useNative=false);\n*/\n\nCanvas.prototype.translate = function (x, y, useNative=false)\n{\n\tif (useNative) {\n\t\tthis.context.translate(x, y);\n\t\treturn this;\n\t}\n\n\tthis.matr.translate(x, y);\n\treturn this.updateTransform();\n};\n\n\n/*\n**\tCreates a hollow ellipse path on the canvas for subsequent stroke or fill.\n**\n**\t>> Canvas ellipse (float x, float y, float w, float h);\n*/\n\nCanvas.prototype.ellipse = function (x, y, w, h)\n{\n\tvar ox = (w/2)*.5522848, oy = (h/2)*.5522848;\n\tvar xe = x+w-1, ye = y+h-1, xm = x+w/2, ym = y+h/2;\n\n\tthis.beginPath ().moveTo(x, ym);\n\tthis.bezierCurveTo (x, ym - oy, xm - ox, y, xm, y);\n\tthis.bezierCurveTo (xm + ox, y, xe, ym - oy, xe, ym);\n\tthis.bezierCurveTo (xe, ym + oy, xm + ox, ye, xm, ye);\n\tthis.bezierCurveTo (xm - ox, ye, x, ym + oy, x, ym);\n\tthis.closePath ();\n\n\treturn this;\n};\n\n\n/*\n**\tCreates a hollow circle path on the canvas for subsequent stroke or fill. If the stroke param is set the circle\n**\twill be drawn with the specified stroke color.\n**\n**\t>> Canvas circle (float x, float y, float r, string strokeColor);\n**\t>> Canvas circle (float x, float y, float r);\n*/\n\nCanvas.prototype.circle = function (x, y, r, stroke)\n{\n\tthis.beginPath();\n\tthis.arc(x, y, r, 0, 2*Math.PI);\n\tthis.closePath();\n\n\tif (stroke) this.stroke(stroke);\n\n\treturn this;\n};\n\n\n/*\n**\tDraws a line for subsequent stroke or fill. If the stroke param is set the line will be drawn with\n**\tthe specified stroke color.\n**\n**\t>> Canvas line (float x1, float y1, float x2, float y2, string strokeColor);\n**\t>> Canvas line (float x1, float y1, float x2, float y2);\n*/\n\nCanvas.prototype.line = function (x1, y1, x2, y2, stroke)\n{\n\tthis.beginPath();\n\tthis.moveTo(x1, y1);\n\tthis.lineTo(x2, y2);\n\tthis.closePath();\n\n\tif (stroke) this.stroke(stroke);\n\treturn this;\n};\n\n\n/*\n**\tAttaches internal listeners for mouse/pointer events on the canvas object, this is called automatically when\n**\tattaching handlers to the canvas. The actual handlers are added or removed using the addPointerHandler and\n**\tremovePointerHandler respectively.\n**\n**\t>> Canvas enablePointerEvents();\n*/\n\nCanvas.prototype.enablePointerEvents = function()\n{\n\tif (this.pointerHandler) return this;\n\n\tthis.pointerScale = { sx: 1, sy: 1 };\n\tthis.pointerOffset = { x: 0, y: 0 };\n\n\tvar _ = this;\n\n\tvar _evt =\n\t{\n\t\taction: '',\n\t\tbuttons: 0, lbuttons: 0,\n\t\tx: 0, y: 0,\n\n\t\tcontainedBy: function (x, y, w, h) {\n\t\t\treturn this.x >= x && this.x <= (x+w-1) && this.y >= y && this.y <= (y+h-1);\n\t\t}\n\t};\n\n\tthis.pointerHandlers = [];\n\n\tthis.pointerHandler = function (code, evt)\n\t{\n\t\tvar rect = this.elem.getBoundingClientRect();\n\n\t\t_evt.action = code;\n\t\t_evt.buttons = evt.buttons;\n\t\t_evt.x = _evt.rx = int(evt.clientX - rect.left);\n\t\t_evt.y = _evt.ry = int(evt.clientY - rect.top);\n\n\t\t_evt.x = ((_evt.x - _.pointerOffset.x) - 0.0*_.pointerScale.sx) / _.pointerScale.sx;\n\t\t_evt.y = ((_evt.y - _.pointerOffset.y) - 0.0*_.pointerScale.sy) / _.pointerScale.sy;\n\n\t\t_evt.dragging = false;\n\n\t\tif (_evt.buttons && !_evt.lbuttons)\n\t\t{\n\t\t\t_evt.sx = _evt.x;\n\t\t\t_evt.sy = _evt.y;\n\n\t\t\t_evt.ldx = _evt.ldy = 0;\n\t\t}\n\n\t\tif (_evt.buttons && _evt.lbuttons)\n\t\t{\n\t\t\t_evt.dragging = true;\n\n\t\t\t_evt.dx = _evt.x - _evt.sx;\n\t\t\t_evt.dy = _evt.y - _evt.sy;\n\t\t\t\n\t\t\t_evt.ddx = _evt.dx - _evt.ldx;\n\t\t\t_evt.ddy = _evt.dy - _evt.ldy;\n\n\t\t\t_evt.ldx = _evt.dx;\n\t\t\t_evt.ldy = _evt.dy;\n\t\t}\n\n\t\t_evt.lbuttons = _evt.buttons;\n\n\t\tfor (var i = 0; i < this.pointerHandlers.length; i++)\n\t\t{\n\t\t\tif (this.pointerHandlers[i][1] (_evt, this.pointerHandlers[i][2]) === false)\n\t\t\t\tbreak;\n\t\t}\n\t};\n\n\tthis.elem.onmousedown = function(evt) {  _.pointerHandler('DOWN', evt); };\n\tthis.elem.onmouseup = function(evt) { _.pointerHandler('UP', evt); };\n\tthis.elem.onmousemove = function(evt) { _.pointerHandler('MOVE', evt); };\n\n\treturn this;\n};\n\n\n/*\n**\tSets the pointer scaling factors.\n**\n**\t>> Canvas setPointerScale (float sx, float sy);\n*/\n\nCanvas.prototype.setPointerScale = function (sx, sy)\n{\n\tthis.pointerScale = { sx: sx, sy: sy };\n\treturn this;\n};\n\n\n/*\n**\tSets the pointer offset that is applied after scaling.\n**\n**\t>> Canvas setPointerOffset (float x, float y);\n*/\n\nCanvas.prototype.setPointerOffset = function (x, y)\n{\n\tthis.pointerOffset = { x: x, y: y };\n\treturn this;\n};\n\n\n/*\n**\tAdds a pointer event handler, returns the handler reference id for later removal.\n**\n**\t>> string addPointerHandler (function callback, object context);\n**\t>> string addPointerHandler (function callback);\n*/\n\nCanvas.prototype.addPointerHandler = function (callback, context)\n{\n\tthis.enablePointerEvents();\n\n\tthis.pointerHandlers.push ([this.pointerHandlers.length+\"_\"+int(Math.random()*1e6), callback, context]);\n\n\treturn this.pointerHandlers[this.pointerHandlers.length-1][0];\n};\n\n\n/*\n**\tRemoves a previously attached pointer event handler.\n**\n**\t>> void removePointerHandler (string id);\n*/\n\nCanvas.prototype.removePointerHandler = function (id)\n{\n\tif (!this.pointerHandlers) return;\n\n\tfor (var i = 0; i < this.pointerHandlers.length; i++)\n\t{\n\t\tif (this.pointerHandlers[i][0] == id)\n\t\t{\n\t\t\tthis.pointerHandlers.splice(i, 1);\n\t\t\tbreak;\n\t\t}\n\t}\n};\n\n/**\n * \tExecutes the `draw` function on a new canvas of the specified width and height. Renders it into an image and runs the completed callback with the ready HTMLImageElement object.\n * \t!static renderImage (width: number, height: number, draw: (g: Canvas) => void, completed: (img: HTMLImageElement, url: string) => void) : void;\n */\nCanvas.renderImage = function (width, height, draw, completed)\n{\n\tlet g = new Canvas({ hidden: true, width: width, height: height, antialias: System.options.antialias });\n\n\tdraw(g);\n\tlet url = g.toDataUrl();\n\n\tlet img = new Image();\n\timg.onload = () =>\n\t{\n\t\timg.filter = System.options.antialias ? 'LINEAR' : 'NEAREST';\n\t\timg.rscale = 1.0;\n\t\timg.targetWidth = width;\n\t\timg.targetHeight = height;\n\n\t\tSystem.renderer.prepareImage(img);\n\t\tcompleted(img, url);\n\t};\n\n\timg.src = url;\n\tg.dispose();\n};\n\n/**\n * Executes the `draw` function on a new canvas of the specified width and height. Renders it into an image and runs the completed callback with the ready HTMLImageElement object,\n * note that this function will generate mipmap images.\n * !static renderImageMipmap (levels: number, width: number, height: number, draw: (g: Canvas) => void, completed: (img: HTMLImageElement, url: string) => void) : void;\n */\nCanvas.renderImageMipmap = function (levels, width, height, draw, completed)\n{\n\tlet g = new Canvas({ hidden: true, width: width, height: height, antialias: System.options.antialias });\n\n\tdraw(g);\n\tlet url = g.toDataUrl();\n\n\tlet img = new Image();\n\timg.onload = () =>\n\t{\n\t\timg.filter = System.options.antialias ? 'LINEAR' : 'NEAREST';\n\t\timg.rscale = 1.0;\n\t\timg.targetWidth = width;\n\t\timg.targetHeight = height;\n\n\t\timg.mipmap = true;\n\t\timg.levels = levels;\n\n\t\tSystem.renderer.prepareImage(img);\n\t\tcompleted(img, url);\n\t};\n\n\timg.src = url;\n\tg.dispose();\n};\n\nexport default Canvas;\n","/*\n**\tmath/matrix.js\n**\n**\tCopyright (c) 2016-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport { Class } from 'rinn';\nimport Recycler from '../utils/recycler.js';\nimport Vec2 from './vec2.js';\n\n//![import \"../utils/recycler\"]\n//![import \"./vec2\"]\n\nconst temp = new Float32Array(9).fill(0);\nconst temp2 = new Float32Array(9).fill(0);\n\n//:/**\n//: * \tRepresents a 3x3 matrix. Provides an interface to manipulate 3x3 matrices.\n//: */\n\n//!class Matrix\n\nconst Matrix = Class.extend\n({\n\tclassName: 'Matrix',\n\n\t/**\n\t * \tActual elements of the matrix.\n\t * \t!data: Float32Array\n\t */\n\tdata: null,\n\n\t/**\n\t * \tConstructs a new matrix copying the elements from the specified matrix.\n\t * \t!constructor(value: Matrix);\n\t */\n\t/**\n\t * \tConstructs a new matrix with the values from the specified array.\n\t * \t!constructor(value: Float32Array);\n\t */\n\t/**\n\t * \tConstructs a new matrix with the identity matrix values.\n\t * \t!constructor();\n\t */\n\t__ctor: function(value=null)\n\t{\n\t\tif (this.data === null)\n\t\t\tthis.data = new Float32Array(9);\n\n\t\tif (value !== null)\n\t\t\tthis.set(value);\n\t\telse\n\t\t\tthis.identity();\n\t},\n\n\t/**\n\t * \tFills the matrix with zeroes.\n\t * \t!zero() : Matrix;\n\t */\n\tzero: function()\n\t{\n\t\tthis.data.fill(0);\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tFills the matrix with the specified value.\n\t * \t!fill (value: number) : Matrix;\n\t */\n\tfill: function (value)\n\t{\n\t\tthis.data.fill(value);\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tCopies the specified matrix elements into the current one.\n\t * \t!set (value: Matrix) : Matrix;\n\t */\n\t/**\n\t * \tSets the matrix elements from the specified array.\n\t * \t!set (value: Float32Array) : Matrix;\n\t */\n\tset: function (value)\n\t{\n\t\tif (Matrix.isInstance(value))\n\t\t{\n\t\t\tfor (let i = 0; i < 9; i++) this.data[i] = value.data[i];\n\t\t}\n\t\telse\n\t\t{\n\t\t\tfor (let i = 0; i < 9; i++) this.data[i] = value[i];\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tSets the elements of the matrix to be the identity matrix.\n\t * \t!identity() : Matrix;\n\t */\n\tidentity: function (target=null)\n\t{\n\t\tif (target === null)\n\t\t\ttarget = this.data;\n\n\t\ttarget.fill(0);\n\t\ttarget[0] = target[4] = target[8] = 1;\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tMultiplies all elements in the matrix by a given scalar.\n\t * \t!scalef (scalar: number) : Matrix;\n\t */\n\tscalef: function (scalar)\n\t{\n\t\tfor (let i = 0; i < 9; i++) this.data[i] *= scalar;\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tReturns a clone of the matrix.\n\t * \t!clone() : Matrix;\n\t */\n\tclone: function ()\n\t{\n\t\treturn Matrix.Pool.alloc(this);\n\t},\n\n\t/**\n\t * \tAppends the given matrix to the current one using matrix multiplication (self * matrix).\n\t * \t!append (matrix: Matrix) : Matrix;\n\t */\n\tappend: function (matr)\n\t{\n\t\tif (matr instanceof Matrix)\n\t\t\tmatr = matr.data;\n\n\t\tfor (let i = 0; i < 9; i++) temp[i] = this.data[i];\n\n\t\tthis.data[0] = matr[0]*temp[0] + matr[1]*temp[3] + matr[2]*temp[6];\n\t\tthis.data[1] = matr[0]*temp[1] + matr[1]*temp[4] + matr[2]*temp[7];\n\t\tthis.data[2] = matr[0]*temp[2] + matr[1]*temp[5] + matr[2]*temp[8];\n\t\tthis.data[3] = matr[3]*temp[0] + matr[4]*temp[3] + matr[5]*temp[6];\n\t\tthis.data[4] = matr[3]*temp[1] + matr[4]*temp[4] + matr[5]*temp[7];\n\t\tthis.data[5] = matr[3]*temp[2] + matr[4]*temp[5] + matr[5]*temp[8];\n\t\tthis.data[6] = matr[6]*temp[0] + matr[7]*temp[3] + matr[8]*temp[6];\n\t\tthis.data[7] = matr[6]*temp[1] + matr[7]*temp[4] + matr[8]*temp[7];\n\t\tthis.data[8] = matr[6]*temp[2] + matr[7]*temp[5] + matr[8]*temp[8];\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tCreates a translation matrix and appends it.\n\t * \t!translate (x: number, y: number) : Matrix;\n\t */\n\ttranslate: function (x, y)\n\t{\n\t\tif (x == 0 && y == 0)\n\t\t\treturn this;\n\n\t\tfor (let i = 0; i < 9; i++) temp[i] = this.data[i];\n\n\t\tthis.data[6] = x*temp[0] + y*temp[3] + temp[6];\n\t\tthis.data[7] = x*temp[1] + y*temp[4] + temp[7];\n\t\tthis.data[8] = x*temp[2] + y*temp[5] + temp[8];\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tCreates a rotation matrix for the given angle (in radians) and appends it.\n\t * \t!rotate (angle: number) : Matrix;\n\t */\n\trotate: function (angle)\n\t{\n\t\tif (angle == 0)\n\t\t\treturn this;\n\n\t\tthis.identity(temp2);\n\n\t\tlet cost = Math.cos(angle);\n\t\tlet sint = Math.sin(angle);\n\n\t\ttemp2[0] = cost;\n\t\ttemp2[1] = -sint;\n\t\ttemp2[3] = sint;\n\t\ttemp2[4] = cost;\n\n\t\treturn this.append(temp2);\n\t},\n\n\t/**\n\t * \tCreates a scaling matrix and appends it.\n\t * \t!scale (sx: number, sy: number) : Matrix;\n\t */\n\tscale: function (sx, sy)\n\t{\n\t\tif (sx == 1 && sy == 1)\n\t\t\treturn this;\n\n\t\tthis.identity(temp2);\n\n\t\ttemp2[0] = sx;\n\t\ttemp2[4] = sy;\n\n\t\treturn this.append(temp2);\n\t},\n\n\t/**\n\t * \tApplies the matrix to the specified vector (matrix-vector multiplication) and returns a new Vec2.\n\t * \t!applyTo (vect: Vec2) : Vec2;\n\t */\n\t/**\n\t * \tApplies the matrix to the specified coordinates (matrix-vector multiplication) and returns a new Vec2.\n\t * \t!applyTo (x: number, y: number) : Vec2;\n\t */\n\tapplyTo: function (x, y=null)\n\t{\n\t\tif (y === null)\n\t\t{\n\t\t\tconst v = x;\n\t\t\tx = v.x;\n\t\t\ty = v.y;\n\t\t}\n\n\t\tlet nx = this.data[0]*x + this.data[3]*y + this.data[6];\n\t\tlet ny = this.data[1]*x + this.data[4]*y + this.data[7];\n\n\t\treturn Vec2.Pool.alloc(nx, ny);\n\t},\n\n\t/**\n\t * \tTransposes the matrix.\n\t * \t!transpose() : Matrix;\n\t */\n\ttranspose: function ()\n\t{\n\t\ttemp.fill(0);\n\n\t\tfor (let j = 0; j < 3; j++)\n\t\tfor (let i = 0; i < 3; i++)\n\t\t\ttemp[j*3+i] = this.data[i*3+j];\n\n\t\tfor (let i = 0; i < 9; i++) this.data[i] = temp[i];\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tReturns the determinant of the matrix.\n\t * \t!det() : number;\n\t */\n\tdet: function ()\n\t{\n\t\treturn\tthis.data[0] * (this.data[4]*this.data[8] - this.data[5]*this.data[7]) -\n\t\t\t\tthis.data[1] * (this.data[3]*this.data[8] - this.data[5]*this.data[6]) +\n\t\t\t\tthis.data[2] * (this.data[3]*this.data[7] - this.data[4]*this.data[6])\n\t\t\t\t;\n\t},\n\n\t/**\n\t * \tReturns a new matrix with the adjoint of the current matrix.\n\t * \t!adj() : Matrix;\n\t */\n\tadj: function () // violet:verify and fix\n\t{\n\t\t/*let t = this.transpose();\n\t\tlet d = Matrix.Pool.alloc();\n\n\t\td.data[0] = (t.data[4]*t.data[8] - t.data[5]*t.data[7]);\n\t\td.data[1] = -(t.data[3]*t.data[8] - t.data[5]*t.data[6]);\n\t\td.data[2] = (t.data[3]*t.data[7] - t.data[4]*t.data[6]);\n\n\t\td.data[3] = -(t.data[1]*t.data[8] - t.data[2]*t.data[7]);\n\t\td.data[4] = (t.data[0]*t.data[8] - t.data[2]*t.data[6]);\n\t\td.data[5] = -(t.data[0]*t.data[7] - t.data[1]*t.data[6]);\n\n\t\td.data[6] = (t.data[1]*t.data[5] - t.data[2]*t.data[4]);\n\t\td.data[7] = -(t.data[0]*t.data[5] - t.data[2]*t.data[3]);\n\t\td.data[8] = (t.data[0]*t.data[4] - t.data[1]*t.data[3]);\n\n\t\tt.data = d;\n\t\treturn t;*/\n\t\tthrow new Error('NOT IMPLEMENTED');\n\t},\n\n\t/**\n\t * \tReturns a new matrix with the inverse of the current matrix.\n\t * \t!inverse() : Matrix;\n\t */\n\tinverse: function ()\n\t{\n\t\tlet det = this.det();\n\t\tif (!det) return null;\n\n\t\treturn this.adj().scalef(1/det);\n\t},\n\n\t/**\n\t * \tReturns a string representation of the matrix.\n\t * \t!toString() : string;\n\t */\n\ttoString: function ()\n\t{\n\t\treturn `[${this.data[0]}, ${this.data[3]}, ${this.data[6]}]\\n[${this.data[1]}, ${this.data[4]}, ${this.data[7]}]\\n[${this.data[2]}, ${this.data[5]}, ${this.data[8]}]\\n`;\n\t}\n});\n\n/**\n * \tSets the components of the specified array as the identity matrix.\n * \t!static loadIdentity (target: Float32Array) : void;\n */\nMatrix.loadIdentity = function (target)\n{\n\ttarget.fill(0);\n\ttarget[0] = target[4] = target[8] = 1;\n};\n\n//!/class\n\n//!namespace Matrix\n//!namespace Pool\n\n\t/**\n\t * \tAllocates a new matrix copying the components from the specified matrix.\n\t * \t!function alloc (value: Matrix): Matrix;\n\t */\n\t/**\n\t * \tAllocates a new matrix with the values from the specified array.\n\t * \t!function alloc (value: Float32Array): Matrix;\n\t */\n\t/**\n\t * \tAllocates a new matrix with the identity matrix values.\n\t * \t!function alloc (): Matrix;\n\t */\n\nRecycler.createPool (Matrix, 4096, 1024);\nexport default Matrix;\n","/*\n**\tmath/vec2.js\n**\n**\tCopyright (c) 2016-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport { Class } from 'rinn';\nimport Recycler from '../utils/recycler.js';\n\n//![import \"../utils/recycler\"]\n\n//:/**\n//: * \tRepresentation of a vector in 2D space, that is, a float tuple with components x and y.\n//: */\n\n//!class Vec2\n\nconst Vec2 = Class.extend\n({\n\tclassName: 'Vec2',\n\n\t/**\n\t * \tCoordinates of the vector.\n\t * \t!x: number;\n\t * \t!y: number;\n\t */\n\tx: 0, y: 0,\n\n\t/**\n\t *\tConstructs the vector from another Vec2.\n\t * \t!constructor (value: Vec2);\n\t */\n\t/**\n\t *\tConstructs the vector with the specified coordinates.\n\t * \t!constructor (x?: number, y?: number);\n\t */\n\t__ctor: function (x=null, y=null)\n\t{\n\t\treturn this.set(x, y);\n\t},\n\n\t/**\n\t * \tClones the vector coordinates into a new Vec2 object.\n\t * \t!clone() : Vec2;\n\t */\n\tclone: function ()\n\t{\n\t\treturn Vec2.Pool.alloc(this);\n\t},\n\n\t/**\n\t *\tSets the coordinates of the vector from a Vec2 object.\n\t *\t!set (value: Vec2) : Vec2;\n\t */\n\t/**\n\t *\tSets the coordinates of the vector.\n\t *\t!set (x: number, y: number) : Vec2;\n\t */\n\tset: function (x, y=null)\n\t{\n\t\tif (x === null) {\n\t\t\tx = 0;\n\t\t\ty = 0;\n\t\t}\n\t\telse if (y === null) {\n\t\t\tlet v = x;\n\t\t\tx = v.x;\n\t\t\ty = v.y;\n\t\t}\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tSets the X-coordinate of the vector.\n\t * \t!setX (x: number) : Vec2;\n\t */\n\tsetX: function (x)\n\t{\n\t\tthis.x = x;\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tSets the Y-coordinate of the vector.\n\t * \t!setY (y: number) : Vec2;\n\t */\n\tsetY: function (y)\n\t{\n\t\tthis.y = y;\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tSets the coordinates of the vector to zero.\n\t * \t!zero() : Vec2;\n\t */\n\tzero: function()\n\t{\n\t\treturn this.set(0, 0);\n\t},\n\n\t/**\n\t * \tReturns true if the vector coordinates are both zero.\n\t * \t!isZero() : boolean;\n\t */\n\tisZero: function()\n\t{\n\t\treturn this.x == 0 && this.y == 0;\n\t},\n\n\t/**\n\t *\tReturns true if the coordinates of the vector have the same values as the given Vec2.\n\t *\t!equals (value: Vec2) : boolean;\n\t */\n\t/**\n\t *\tReturns true if the coordinates of the vector have the same values as the given ones.\n\t *\t!equals (x: number, y: number) : boolean;\n\t */\n\tequals: function (x, y=null)\n\t{\n\t\tif (y === null)\n\t\t{\n\t\t\tlet v = x;\n\t\t\tx = v.x;\n\t\t\ty = v.y;\n\t\t}\n\n\t\treturn this.x == x && this.y == y;\n\t},\n\n\t/**\n\t * \tNegates the vector, that is changing the sign of each component in the vector.\n\t * \t!neg() : Vec2;\n\t */\n\tneg: function ()\n\t{\n\t\tthis.x = -this.x; this.y = -this.y;\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tInverts the vector by changing each component to its reciprocal.\n\t * \t!inv() : Vec2;\n\t */\n\tinv: function ()\n\t{\n\t\tthis.x = 1 / this.x; this.y = 1 / this.y;\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tChanges the components of the vector to their absolute value.\n\t * \t!abs() : Vec2;\n\t */\n\tabs: function ()\n\t{\n\t\tthis.x = this.x < 0 ? -this.x : this.x;\n\t\tthis.y = this.y < 0 ? -this.y : this.y;\n\t\treturn this;\n\t},\n\n\t/**\n\t *\tAdds the coordinates of the given Vec2 to the vector.\n\t *\t!translate (value: Vec2) : Vec2;\n\t */\n\t/**\n\t *\tAdds the given delta values to the vector.\n\t *\t!translate (dx: number, dy: number) : Vec2;\n\t */\n\ttranslate: function (dx, dy=null)\n\t{\n\t\tif (dy === null)\n\t\t{\n\t\t\tlet v = dx;\n\t\t\tdx = v.x;\n\t\t\tdy = v.y;\n\t\t}\n\n\t\tthis.x += dx, this.y += dy;\n\t\treturn this;\n\t},\n\n\t/**\n\t *\tRotates the vector by the specified angle.\n\t *\t!rotate (angle: number) : Vec2;\n\t */\n\trotate: function (angle)\n\t{\n\t\tlet x = this.x*Math.cos(angle) + this.y*Math.sin(angle);\n\t\tlet y = this.y*Math.cos(angle) - this.x*Math.sin(angle);\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t\treturn this;\n\t},\n\n\t/**\n\t *\tAdds the coordinates of the given Vec2 to the vector.\n\t *\t!add (value: Vec2) : Vec2;\n\t */\n\t/**\n\t *\tAdds the given delta values to the vector.\n\t *\t!add (dx: number, dy: number) : Vec2;\n\t */\n\tadd: function (dx, dy=null)\n\t{\n\t\tif (dy === null)\n\t\t{\n\t\t\tlet v = dx;\n\t\t\tdx = v.x;\n\t\t\tdy = v.y;\n\t\t}\n\n\t\tthis.x += dx, this.y += dy;\n\t\treturn this;\n\t},\n\n\t/**\n\t *\tSubtracts the coordinates of the given Vec2 from the vector.\n\t *\t!sub (value: Vec2) : Vec2;\n\t */\n\t/**\n\t *\tSubtracts the given delta values from the vector.\n\t *\t!sub (dx: number, dy: number) : Vec2;\n\t */\n\tsub: function (dx, dy=null)\n\t{\n\t\tif (dy === null)\n\t\t{\n\t\t\tlet v = dx;\n\t\t\tdx = v.x;\n\t\t\tdy = v.y;\n\t\t}\n\n\t\tthis.x -= dx, this.y -= dy;\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tScales each components of the vector by the respective component of the given one.\n\t * \t!scale (k: number) : Vec2;\n\t */\n\t/**\n\t * \tScales both components of the vector by the given factor.\n\t * \t!scale (k: number) : Vec2;\n\t */\n\t/**\n\t * \tScales each components of the vector by the given factors.\n\t * \t!scale (fx: number, fy: number) : Vec2;\n\t */\n\tscale: function (fx, fy=null)\n\t{\n\t\tif (fy === null)\n\t\t{\n\t\t\tif (Vec2.isInstance(fx)) {\n\t\t\t\tlet v = fx;\n\t\t\t\tfx = v.x;\n\t\t\t\tfy = v.y;\n\t\t\t} else {\n\t\t\t\tfy = fx;\n\t\t\t}\n\t\t}\n\n\t\tthis.x *= fx, this.y *= fy;\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tSets the components to their integer parts.\n\t * \t!floor() : Vec2;\n\t */\n\tfloor: function ()\n\t{\n\t\tthis.x = int(this.x);\n\t\tthis.y = int(this.y);\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tSets the components to their fractional parts.\n\t * \t!fract() : Vec2;\n\t */\n\tfract: function ()\n\t{\n\t\tthis.x = this.x - int(this.x);\n\t\tthis.y = this.y - int(this.y);\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tReturns the dot product of the vectors.\n\t * \t!dot (value: Vec2) : number;\n\t */\n\t/**\n\t * \tReturns the dot product of the vector and the given values.\n\t * \t!dot (x: number, y: number) : number;\n\t */\n\tdot: function (x, y=null)\n\t{\n\t\tif (y === null)\n\t\t{\n\t\t\tlet v = x;\n\t\t\tx = v.x;\n\t\t\ty = v.y;\n\t\t}\n\n\t\treturn this.x*x + this.y*y;\n\t},\n\n\t/**\n\t * \tReturns the magnitude of the vector.\n\t * \t!magnitude(squared: boolean) : number;\n\t */\n\tmagnitude: function (squared=false)\n\t{\n\t\treturn squared ? (this.x*this.x + this.y*this.y) : Math.sqrt(this.x*this.x + this.y*this.y);\n\t},\n\n\t/**\n\t * \tNormalizes the vector by dividing each component by the vector magnitude to obtain a unit vector.\n\t * \t!normalize() : Vec2;\n\t */\n\tnormalize: function ()\n\t{\n\t\treturn this.isZero() ? this : this.scale (1 / this.magnitude());\n\t},\n\n\t/**\n\t * \tSets the vector to its major-axis, that is the component with the maximum absolute value.\n\t * \t!majorAxis() : Vec2;\n\t */\n\tmajorAxis: function ()\n\t{\n\t\tif (Math.abs(this.x) > Math.abs(this.y)) this.y = 0; else this.x = 0;\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tSets the vector to its minor-axis, that is the component with the minimum absolute value.\n\t * \t!minorAxis() : Vec2;\n\t */\n\tminorAxis: function ()\n\t{\n\t\tif (Math.abs(this.x) < Math.abs(this.y)) this.y = 0; else this.x = 0;\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tSets the vector to its sign-vector representation.\n\t * \t!sign() : Vec2;\n\t */\n\tsign: function ()\n\t{\n\t\tthis.x = !this.x ? 0 : (this.x < 0 ? -1 : 1);\n\t\tthis.y = !this.y ? 0 : (this.y < 0 ? -1 : 1);\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tReturns the string representation of the coordinates of the vector.\n\t * \ttoString() : string;\n\t */\n\ttoString: function ()\n\t{\n\t\treturn `(${this.x}, ${this.y})`;\n\t}\n});\n\n//!/class\n\n//!namespace Vec2\n//!namespace Pool\n\n/**\n *\tAllocates a vector from another Vec2.\n * \t!function alloc (value: Vec2) : Vec2;\n */\n/**\n *\tAllocates a vector with the specified coordinates.\n * \t!function alloc (x?: number, y?: number) : Vec2;\n */\n\nRecycler.createPool (Vec2, 4096, 2048);\nexport default Vec2;\n","/*\n**\tsystem/shader-program.js\n**\n**\tCopyright (c) 2021-2022, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport { Class } from 'rinn';\nimport Shader from './shader.js';\nimport glx from './glx.js';\n\n//![import \"./shader\"]\n//![import \"./globals\"]\n//![import \"./glx\"]\n\n//:/**\n//: * Describes a shader program.\n//: */\n\n//!class ShaderProgram\n\nconst ShaderProgram = Class.extend\n({\n\t/**\n\t * Cache of locations.\n\t */\n\tlocations: null,\n\n\t/**\n\t * Identifier of the program.\n\t * !readonly id: string;\n\t */\n\tid: null,\n\n\t/**\n\t * Shaders attached to the program.\n\t * !readonly shaders: Array<Shader>;\n\t */\n\tshaders: null,\n\n\t/**\n\t * Shader program GL identifier.\n\t * !readonly programId: number;\n\t */\n\tprogramId: null,\n\n\t/**\n\t * Constructs an empty shader program with the specified identifier. Attach shaders by using the `attach` method.\n\t * !constructor (id?: string);\n\t */\n\t__ctor: function (id=null)\n\t{\n\t\tthis.id = id;\n\n\t\tthis.shaders = [];\n\t\tthis.programId = null;\n\n\t\tthis.locations = { };\n\n\t\tthis._uniformSetter = null;\n\n\t\tShaderProgram.put(id, this);\n\t},\n\n\t/**\n\t * Destroys the shader program.\n\t */\n\t__dtor: function ()\n\t{\n\t\tlet gl = glx.gl;\n\t\tif (!gl) return this;\n\n\t\tgl.deleteProgram(this.programId);\n\t\tShaderProgram.remove(this.id);\n\t},\n\n\t/**\n\t * Sets the uniform setter function.\n\t * @param { (pgm:ShaderProgram) => void } uniformSetter\n\t * @returns {Element}\n\t * !uniformSetter (uniformSetter: (pgm:ShaderProgram) => void) : ShaderProgram;\n\t */\n\tuniformSetter: function (uniformSetter)\n\t{\n\t\tthis._uniformSetter = uniformSetter;\n\t\treturn this;\n\t},\n\n\t/**\n\t * Attaches a shader to the shader program.\n\t * !attach (shader: Shader|string) : ShaderProgram;\n\t */\n\tattach: function (shader)\n\t{\n\t\tif (typeof(shader) === 'string')\n\t\t\tshader = Shader.get(shader);\n\n\t\tif (!shader)\n\t\t\tthrow new Error ('Unable to attach shader, invalid argument.');\n\n\t\tthis.shaders.push(shader);\n\t\treturn this;\n\t},\n\n\t/**\n\t * Binds the attribute locations to their predefined values.\n\t */\n\tbindLocations: function ()\n\t{\n\t\tglx.gl.bindAttribLocation (this.programId, 0, 'location');\n\t},\n\n\t/**\n\t * Returns the location of an attribute.\n\t * !getAttribLocation (name: string) : object;\n\t */\n\tgetAttribLocation: function (name)\n\t{\n\t\tif (!this.locations.hasOwnProperty(name))\n\t\t\tthis.locations[name] = glx.gl.getAttribLocation (this.programId, name);\n\n\t\treturn this.locations[name];\n\t},\n\n\t/**\n\t * Returns the location of a uniform variable.\n\t * !getUniformLocation (name: string) : object;\n\t */\n\tgetUniformLocation: function (name)\n\t{\n\t\tif (!this.locations.hasOwnProperty(name))\n\t\t\tthis.locations[name] = glx.gl.getUniformLocation (this.programId, name);\n\n\t\treturn this.locations[name];\n\t},\n\n\t/**\n\t * Returns the location of a uniform block.\n\t * !getUniformBlockLocation (name: string) : object;\n\t */\n\tgetUniformBlockLocation: function (name)\n\t{\n\t\tif (!this.locations.hasOwnProperty(name))\n\t\t\tthis.locations[name] = glx.gl.getUniformBlockIndex (this.programId, name);\n\n\t\treturn this.locations[name];\n\t},\n\n\t/**\n\t * Returns the size of a uniform block.\n\t * !getUniformBlockSize (uniformBlock: string|object) : number;\n\t */\n\tgetUniformBlockSize: function (uniformBlock)\n\t{\n\t\tif (typeof(uniformBlock) === 'string')\n\t\t\tuniformBlock = this.getUniformBlockLocation(uniformBlock);\n\n\t\treturn glx.gl.getActiveUniformBlockParameter(this.programId, uniformBlock, glx.gl.UNIFORM_BLOCK_DATA_SIZE);\n\t},\n\t\n\t/**\n\t * Creates a buffer for a uniform block.\n\t * !createUniformBlockBuffer (uniformBlock: string|object) : Float32Array;\n\t */\n\tcreateUniformBlockBuffer: function (uniformBlock)\n\t{\n\t\tif (typeof(uniformBlock) === 'string')\n\t\t\tuniformBlock = this.getUniformBlockLocation(uniformBlock);\n\n\t\tlet size = this.getUniformBlockSize(uniformBlock);\n\t\tlet buff = glx.createBufferFrom (new Float32Array(size).fill(0), glx.BufferTarget.UNIFORM_BUFFER, glx.BufferUsage.DYNAMIC_DRAW);\n\n\t\tglx.gl.bindBufferBase (glx.BufferTarget.UNIFORM_BUFFER, 0, buff);\n\t},\n\n\t/**\n\t * Loads the locations of the predefined uniforms and attributes.\n\t */\n\tpreloadLocations: function ()\n\t{\n\t\tthis.getUniformLocation('f_time');\n\t\tthis.getUniformLocation('f_scale');\n\n\t\tthis.getUniformLocation('m_transform');\n\t\tthis.getUniformLocation('m_texture');\n\t\tthis.getUniformLocation('m_quad');\n\n\t\tthis.getUniformLocation('v_resolution');\n\t\tthis.getUniformLocation('v_frame_size');\n\n\t\tthis.getUniformLocation('f_depth');\n\t\tthis.getUniformLocation('f_alpha');\n\t\tthis.getUniformLocation('v_base_color');\n\n\t\tthis.getUniformLocation('texture0');\n\n\t\tthis.getAttribLocation('location');\n\t},\n\n\t/**\n\t * Links the shaders into the shader program. Completion can be obtained by calling `getStatus`.\n\t * !link() : ShaderProgram;\n\t */\n\tlink: function ()\n\t{\n\t\tlet gl = glx.gl;\n\t\tif (!gl) return this;\n\n\t\tthis.programId = gl.createProgram();\n\n\t\tfor (let shader of this.shaders)\n\t\t\tgl.attachShader (this.programId, shader.shaderId);\n\n\t\tthis.bindLocations();\n\t\tgl.linkProgram (this.programId);\n\t\tthis.preloadLocations();\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * Activates the shader program to be used in the subsequent drawing operations.\n\t * !activate() : void;\n\t */\n\tactivate: function ()\n\t{\n\t\tlet gl = glx.gl;\n\t\tif (!gl) return;\n\n\t\tgl.useProgram (this.programId);\n\n\t\tif (this._uniformSetter !== null)\n\t\t\tthis._uniformSetter (this, gl);\n\t},\n\n\t/**\n\t * Returns the link status of the program.\n\t * !getStatus() : boolean;\n\t */\n\tgetStatus: function ()\n\t{\n\t\tlet gl = glx.gl;\n\t\tif (!gl) return true;\n\n\t\treturn gl.getProgramParameter(this.programId, gl.LINK_STATUS);\n\t},\n\n\t/**\n\t * Returns the error of the last link operation.\n\t * !getError() : string;\n\t */\n\tgetError: function ()\n\t{\n\t\tlet gl = glx.gl;\n\t\tif (!gl) return '';\n\n\t\tif (this.programId === null)\n\t\t\treturn 'Program has not been linked.';\n\n\t\treturn gl.getProgramInfoLog(this.programId);\n\t},\n\n\t/**\n\t * Sets the value of a uniform.\n\t * !uniform1f (location: string|object, v0: number) : ShaderProgram;\n\t */\n\tuniform1f: function (location, v0)\n\t{\n\t\tif (typeof(location) === 'string')\n\t\t\tlocation = this.getUniformLocation(location);\n\n\t\tglx.gl.uniform1f (location, v0);\n\t\treturn this;\n\t},\n\n\t/**\n\t * Sets the value of a uniform.\n\t * !uniform1fv (location: string|object, value: any) : ShaderProgram;\n\t */\n\tuniform1fv: function (location, value)\n\t{\n\t\tif (typeof(location) === 'string')\n\t\t\tlocation = this.getUniformLocation(location);\n\n\t\tglx.gl.uniform1fv (location, value);\n\t\treturn this;\n\t},\n\n\t/**\n\t * Sets the value of a uniform.\n\t * !uniform1i (location: string|object, v0: number) : ShaderProgram;\n\t */\n\tuniform1i: function (location, v0)\n\t{\n\t\tif (typeof(location) === 'string')\n\t\t\tlocation = this.getUniformLocation(location);\n\n\t\tglx.gl.uniform1i (location, v0);\n\t\treturn this;\n\t},\n\n\t/**\n\t * Sets the value of a uniform.\n\t * !uniform1iv (location: string|object, value: any) : ShaderProgram;\n\t */\n\tuniform1iv: function (location, value)\n\t{\n\t\tif (typeof(location) === 'string')\n\t\t\tlocation = this.getUniformLocation(location);\n\n\t\tglx.gl.uniform1iv (location, value);\n\t\treturn this;\n\t},\n\n\t/**\n\t * Sets the value of a uniform.\n\t * !uniform2f (location: string|object, v0: number, v1: number) : ShaderProgram;\n\t */\n\tuniform2f: function (location, v0, v1)\n\t{\n\t\tif (typeof(location) === 'string')\n\t\t\tlocation = this.getUniformLocation(location);\n\n\t\tglx.gl.uniform2f (location, v0, v1);\n\t\treturn this;\n\t},\n\n\t/**\n\t * Sets the value of a uniform.\n\t * !uniform2fv (location: string|object, value: any) : ShaderProgram;\n\t */\n\tuniform2fv: function (location, value)\n\t{\n\t\tif (typeof(location) === 'string')\n\t\t\tlocation = this.getUniformLocation(location);\n\n\t\tglx.gl.uniform2fv (location, value);\n\t\treturn this;\n\t},\n\n\t/**\n\t * Sets the value of a uniform.\n\t * !uniform2i (location: string|object, v0: number, v1: number) : ShaderProgram;\n\t */\n\tuniform2i: function (location, v0, v1)\n\t{\n\t\tif (typeof(location) === 'string')\n\t\t\tlocation = this.getUniformLocation(location);\n\n\t\tglx.gl.uniform2i (location, v0, v1);\n\t\treturn this;\n\t},\n\n\t/**\n\t * Sets the value of a uniform.\n\t * !uniform2iv (location: string|object, value: any) : ShaderProgram;\n\t */\n\tuniform2iv: function (location, value)\n\t{\n\t\tif (typeof(location) === 'string')\n\t\t\tlocation = this.getUniformLocation(location);\n\n\t\tglx.gl.uniform2iv (location, value);\n\t\treturn this;\n\t},\n\n\t/**\n\t * Sets the value of a uniform.\n\t * !uniform3f (location: string|object, v0: number, v1: number, v2: number) : ShaderProgram;\n\t */\n\tuniform3f: function (location, v0, v1, v2)\n\t{\n\t\tif (typeof(location) === 'string')\n\t\t\tlocation = this.getUniformLocation(location);\n\n\t\tglx.gl.uniform3f (location, v0, v1, v2);\n\t\treturn this;\n\t},\n\n\t/**\n\t * Sets the value of a uniform.\n\t * !uniform3fv (location: string|object, value: any) : ShaderProgram;\n\t */\n\tuniform3fv: function (location, value)\n\t{\n\t\tif (typeof(location) === 'string')\n\t\t\tlocation = this.getUniformLocation(location);\n\n\t\tglx.gl.uniform3fv (location, value);\n\t\treturn this;\n\t},\n\n\t/**\n\t * Sets the value of a uniform.\n\t * !uniform3i (location: string|object, v0: number, v1: number, v2: number) : ShaderProgram;\n\t */\n\tuniform3i: function (location, v0, v1, v2)\n\t{\n\t\tif (typeof(location) === 'string')\n\t\t\tlocation = this.getUniformLocation(location);\n\n\t\tglx.gl.uniform3i (location, v0, v1, v2);\n\t\treturn this;\n\t},\n\n\t/**\n\t * Sets the value of a uniform.\n\t * !uniform3iv (location: string|object, value: any) : ShaderProgram;\n\t */\n\tuniform3iv: function (location, value)\n\t{\n\t\tif (typeof(location) === 'string')\n\t\t\tlocation = this.getUniformLocation(location);\n\n\t\tglx.gl.uniform3iv (location, value);\n\t\treturn this;\n\t},\n\t\n\t/**\n\t * Sets the value of a uniform.\n\t * !uniform4f (location: string|object, v0: number, v1: number, v2: number, v3: number) : ShaderProgram;\n\t */\n\tuniform4f: function (location, v0, v1, v2, v3)\n\t{\n\t\tif (typeof(location) === 'string')\n\t\t\tlocation = this.getUniformLocation(location);\n\n\t\tglx.gl.uniform4f (location, v0, v1, v2, v3);\n\t\treturn this;\n\t},\n\n\t/**\n\t * Sets the value of a uniform.\n\t * !uniform4fv (location: string|object, value: any) : ShaderProgram;\n\t */\n\tuniform4fv: function (location, value)\n\t{\n\t\tif (typeof(location) === 'string')\n\t\t\tlocation = this.getUniformLocation(location);\n\n\t\tglx.gl.uniform4fv (location, value);\n\t\treturn this;\n\t},\n\n\t/**\n\t * Sets the value of a uniform.\n\t * !uniform4i (location: string|object, v0: number, v1: number, v2: number, v3: number) : ShaderProgram;\n\t */\n\tuniform4i: function (location, v0, v1, v2, v3)\n\t{\n\t\tif (typeof(location) === 'string')\n\t\t\tlocation = this.getUniformLocation(location);\n\n\t\tglx.gl.uniform4i (location, v0, v1, v2, v3);\n\t\treturn this;\n\t},\n\n\t/**\n\t * Sets the value of a uniform.\n\t * !uniform4iv (location: string|object, value: any) : ShaderProgram;\n\t */\n\tuniform4iv: function (location, value)\n\t{\n\t\tif (typeof(location) === 'string')\n\t\t\tlocation = this.getUniformLocation(location);\n\n\t\tglx.gl.uniform4iv (location, value);\n\t\treturn this;\n\t},\n\n});\n\n/**\n * Global shader program list.\n */\nShaderProgram.programs = { };\n\n/**\n * Creates a new shader program. The specified source code allows the use of \"//@vert\", \"//@frag\" and \"//@geom\" directives to specify the code\n * blocks of the vertex, fragment and geometry shader respectively.\n * !static create (id: string, source: string) : ShaderProgram;\n */\nShaderProgram.create = function (id, source)\n{\n\tlet vs = null, vsName = null;\n\tlet fs = null, fsName = null;\n\tlet gs = null, gsName = null;\n\n\tlet active = null;\n\n\tfor (let i of source.split('\\n'))\n\t{\n\t\tlet v = i.trim();\n\n\t\tif (v.startsWith('//'))\n\t\t{\n\t\t\tv = v.split(' ').map(i => i.trim());\n\n\t\t\tif (v[0] === '//@vert') {\n\t\t\t\tif (v.length > 1) vsName = v[1];\n\t\t\t\tif (vs === null) vs = [];\n\t\t\t\tactive = vs;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (v[0] === '//@frag') {\n\t\t\t\tif (v.length > 1) fsName = v[1];\n\t\t\t\tif (fs === null) fs = [];\n\t\t\t\tactive = fs;\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tif (v[0] === '//@geom') {\n\t\t\t\tif (v.length > 1) gsName = v[1];\n\t\t\t\tif (gs === null) gs = [];\n\t\t\t\tactive = gs;\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\n\t\tif (active !== null)\n\t\t\tactive.push(i);\n\t}\n\n\tlet pgm = new ShaderProgram(id);\n\n\t// Convert to string.\n\tif (vs !== null) vs = vs.join('\\n').trim();\n\tif (fs !== null) fs = fs.join('\\n').trim();\n\tif (gs !== null) gs = gs.join('\\n').trim();\n\n\t// Load shaders from name if name specified without any source code.\n\tif (vs !== null && vs.length === 0)\n\t{\n\t\tvs = Shader.get(vsName);\n\t\tif (vs === null) throw new Error('Vertex shader not found: ' + vsName);\n\t}\n\telse if (vs === null || vs.length === 0)\n\t\tvs = null;\n\n\tif (fs !== null && fs.length === 0)\n\t{\n\t\tfs = Shader.get(fsName);\n\t\tif (fs === null) throw new Error('Fragment shader not found: ' + fsName);\n\t}\n\telse if (fs === null || fs.length === 0)\n\t\tfs = null;\n\n\tif (gs !== null && gs.length === 0)\n\t{\n\t\tgs = Shader.get(gsName);\n\t\tif (gs === null) throw new Error('Geometry shader not found: ' + gsName);\n\t}\n\telse if (gs === null || gs.length === 0)\n\t\tgs = null;\n\n\t// Load default if none specified.\n\tif (vs === null) vs = Shader.get('def-vert');\n\tif (fs === null) fs = Shader.get('def-frag');\n\n\t// Compile source if GLSL source specified.\n\tif (vs !== null && typeof(vs) === 'string')\n\t\tvs = new Shader (vsName, Shader.Type.VERTEX, vs);\n\n\tif (fs !== null && typeof(fs) === 'string')\n\t\tfs = new Shader (fsName, Shader.Type.FRAGMENT, fs);\n\n\tif (gs !== null && typeof(gs) === 'string')\n\t\tgs = new Shader (gsName, Shader.Type.GEOMETRY, gs);\n\n\t// Attach programs and link.\n\tif (vs !== null) pgm.attach(vs);\n\tif (fs !== null) pgm.attach(fs);\n\tif (gs !== null) pgm.attach(gs);\n\n\treturn pgm.link();\n};\n\n/**\n * Puts a shader program in the global program list under the specified identifier.\n * !static put (id: string, shaderProgram: ShaderProgram) : void;\n */\nShaderProgram.put = function (id, shaderProgram)\n{\n\tif (id) this.programs[id] = shaderProgram;\n};\n\n/**\n * Returns a shader program from the global program list given its identifier.\n * !static get (id: string) : ShaderProgram;\n */\nShaderProgram.get = function (id)\n{\n\treturn this.programs[id];\n};\n\n/**\n * Removes a shader program from the global program list.\n * !static remove (id: string) : void;\n */\nShaderProgram.remove = function (id)\n{\n\tdelete this.programs[id];\n};\n\nexport default ShaderProgram;\n","/*\n**\tsystem/shader.js\n**\n**\tCopyright (c) 2021-2022, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport { Class } from 'rinn';\nimport glx from './glx.js';\nimport glsl from './glsl.js';\n\n//![import \"./glx\"]\n//![import \"./glsl\"]\n\n//:/**\n//: * Describes a shader object. The actual shader type is specified at construction.\n//: */\n\n//!class Shader\n\nconst Shader = Class.extend\n({\n\t/**\n\t * Identifier of the shader.\n\t * !readonly id: string;\n\t */\n\tid: null,\n\n\t/**\n\t * Type of the shader.\n\t * !readonly type: Shader.Type;\n\t */\n\ttype: 0,\n\n\t/**\n\t * Shader GL identifier.\n\t * !readonly shaderId: number;\n\t */\n\tshaderId: null,\n\n\t/**\n\t * Constructs a shader and registers with the specified id. Compile its GLSL code using the `compile` method.\n\t * !constructor (id: string, type: Shader.Type);\n\t */\n\t/**\n\t * Constructs a shader, compile its GLSL code using the `compile` method.\n\t * !constructor (type: Shader.Type);\n\t */\n\t/**\n\t * Constructs a shader with the specified GLSL code and registers with the specified id.\n\t * !constructor (id: string, type: Shader.Type, source: string);\n\t */\n\t/**\n\t * Constructs a shader with the specified GLSL code.\n\t * !constructor (type: Shader.Type, source: string);\n\t */\n\t__ctor: function (id, type=null, source=null)\n\t{\n\t\tif (source === null && type !== null && typeof(type) === 'string')\n\t\t{\n\t\t\tsource = type;\n\t\t\ttype = null;\n\t\t}\n\n\t\tif (type === null)\n\t\t{\n\t\t\ttype = id;\n\t\t\tid = null;\n\t\t}\n\n\t\tShader.put(this.id = id, this);\n\t\tthis.type = type;\n\n\t\tthis.shaderId = null;\n\n\t\tif (source)\n\t\t\tthis.compile(source);\n\t},\n\n\t/**\n\t * \tDestroys the shader.\n\t */\n\t__dtor: function ()\n\t{\n\t\tglx.gl.deleteShader(this.shaderId);\n\t\tShader.remove(this.id);\n\t},\n\n\t/**\n\t * Compiles the shader and throws an exception if any compilations error occur.\n\t * !compile (source: string) : Shader;\n\t */\n\tcompile: function (source)\n\t{\n\t\tlet gl = glx.gl;\n\t\tthis.shaderId = gl.createShader (this.type === Shader.Type.VERTEX ? gl.VERTEX_SHADER : (this.type === Shader.Type.FRAGMENT ? gl.FRAGMENT_SHADER : gl.GEOMETRY_SHADER));\n\n\t\tsource = glsl.process(source);\n\n\t\tgl.shaderSource(this.shaderId, source);\n\t\tgl.compileShader(this.shaderId);\n\n\t\tlet error = gl.getShaderInfoLog(this.shaderId);\n\t\tif (error) {\n\t\t\tconsole.error(source.split(\"\\n\").map((i,index) => (index) + \": \" + i).join(\"\\n\"));\n\t\t\tthrow new Error ((this.id ? '[' + this.id + '] ' : '') + error);\n\t\t}\n\n\t\treturn this;\n\t}\n});\n\n//!/class\n\n/**\n * \tGlobal shader list.\n */\nShader.shaders = { };\n\n/**\n * \tStores a shader with the specified identifier in the global shader list.\n * \t!static put (id: string, shader: Shader) : void;\n */\nShader.put = function (id, shader)\n{\n\tif (id) this.shaders[id] = shader;\n};\n\n/**\n * \tReturns a Shader from the global shader list given its identifier.\n * \t!static get (id: string) : Shader;\n */\nShader.get = function (id)\n{\n\treturn this.shaders[id];\n};\n\n/**\n * \tRemoves a shader from the global shader list.\n * \t!static remove (id: string) : void;\n */\nShader.remove = function (id)\n{\n\tdelete this.shaders[id];\n};\n\n//!namespace Shader\n\n//:/**\n//: * \tShader types.\n//: */\n\n//!enum Type\n\nShader.Type = {\n\tVERTEX: 0,\n\t//!VERTEX\n\tFRAGMENT: 1,\n\t//!FRAGMENT\n\tGEOMETRY: 2,\n\t//!GEOMETRY\n};\n\n//!/enum\n\nexport default Shader;\n","//!namespace glx\n\n\t//!enum BufferTarget\n\t\t//:ARRAY_BUFFER\n\t\t//:ELEMENT_ARRAY_BUFFER\n\t\t//:COPY_READ_BUFFER\n\t\t//:COPY_WRITE_BUFFER\n\t\t//:TRANSFORM_FEEDBACK_BUFFER\n\t\t//:UNIFORM_BUFFER\n\t\t//:PIXEL_PACK_BUFFER\n\t\t//:PIXEL_UNPACK_BUFFER\n\t//!/enum\n\n\t//!enum BufferUsage\n\t\t//!STATIC_DRAW\n\t\t//!DYNAMIC_DRAW\n\t\t//!STREAM_DRAW\n\t\t//!STATIC_READ\n\t\t//!DYNAMIC_READ\n\t\t//!STREAM_READ\n\t\t//!STATIC_COPY\n\t\t//!DYNAMIC_COPY\n\t\t//!STREAM_COPY\n\t//!/enum\n\n//!/namespace\n\n//!class glx\n\nconst glx =\n{\n\tBufferTarget: { },\n\tBufferUsage: { },\n\n\t/**\n\t * WebGL rendering context.\n\t * !static readonly gl: WebGL2RenderingContext;\n\t */\n\tgl: null,\n\n\t/**\n\t * Sets the WebGL rendering context.\n\t * !static setContext (context: WebGL2RenderingContext) : gl;\n\t */\n\tsetContext: function (context)\n\t{\n\t\tthis.gl = context;\n\n\t\tthis.BufferTarget.ARRAY_BUFFER = this.gl.ARRAY_BUFFER;\n\t\tthis.BufferTarget.ELEMENT_ARRAY_BUFFER = this.gl.ELEMENT_ARRAY_BUFFER;\n\t\tthis.BufferTarget.COPY_READ_BUFFER = this.gl.COPY_READ_BUFFER;\n\t\tthis.BufferTarget.COPY_WRITE_BUFFER = this.gl.COPY_WRITE_BUFFER;\n\t\tthis.BufferTarget.TRANSFORM_FEEDBACK_BUFFER = this.gl.TRANSFORM_FEEDBACK_BUFFER;\n\t\tthis.BufferTarget.UNIFORM_BUFFER = this.gl.UNIFORM_BUFFER;\n\t\tthis.BufferTarget.PIXEL_PACK_BUFFER = this.gl.PIXEL_PACK_BUFFER;\n\t\tthis.BufferTarget.PIXEL_UNPACK_BUFFER = this.gl.PIXEL_UNPACK_BUFFER;\n\n\t\tthis.BufferUsage.STATIC_DRAW = this.gl.STATIC_DRAW;\n\t\tthis.BufferUsage.DYNAMIC_DRAW = this.gl.DYNAMIC_DRAW;\n\t\tthis.BufferUsage.STREAM_DRAW = this.gl.STREAM_DRAW;\n\t\tthis.BufferUsage.STATIC_READ = this.gl.STATIC_READ;\n\t\tthis.BufferUsage.DYNAMIC_READ = this.gl.DYNAMIC_READ;\n\t\tthis.BufferUsage.STREAM_READ = this.gl.STREAM_READ;\n\t\tthis.BufferUsage.STATIC_COPY = this.gl.STATIC_COPY;\n\t\tthis.BufferUsage.DYNAMIC_COPY = this.gl.DYNAMIC_COPY;\n\t\tthis.BufferUsage.STREAM_COPY = this.gl.STREAM_COPY;\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * Returns the value of a GL parameter.\n\t * !static getParameter (name: string) : any;\n\t */\n\tgetParameter: function (name)\n\t{\n\t\treturn this.gl.getParameter(this.gl[name]);\n\t},\n\n\t/**\n\t * Returns a slice of an array as a Float32Array.\n\t * !static getFloat32Array (data: any, offset: number, length: number) : Float32Array;\n\t */\n\tgetFloat32Array: function (data, offset, length)\n\t{\n\t\tif (offset === 0 && length === data.length)\n\t\t{\n\t\t\tif (data instanceof Float32Array)\n\t\t\t\treturn data;\n\t\t}\n\n\t\tlet buff = new Float32Array(length);\n\n\t\tfor (let i = 0; i < length; i++)\n\t\t\tbuff[i] = data[i+offset];\n\n\t\treturn buff;\n\t},\n\n\t/**\n\t * Creates a buffer from the specified array.\n\t * @param {BufferTarget} target Defaults to ARRAY_BUFFER.\n\t * @param {BufferUsage} usage Defaults to STATIC_DRAW.\n\t * !static createBufferFrom (data: any, target?: glx.BufferTarget, usage?: glx.BufferUsage, offset?: number, length?: number) : WebGLBuffer;\n\t */\n\tcreateBufferFrom: function (data, target=null, usage=null, offset=null, length=null)\n\t{\n\t\ttarget = target ?? glx.BufferTarget.ARRAY_BUFFER;\n\t\tusage = usage ?? glx.BufferUsage.STATIC_DRAW;\n\n\t\tlet buff = this.gl.createBuffer();\n\t\tthis.gl.bindBuffer (target, buff);\n\t\tthis.gl.bufferData (target, this.getFloat32Array(data, offset ?? 0, length ?? data.length), usage);\n\n\t\t//this.gl.bindBuffer (target, null);\n\t\treturn buff;\n\t}\n};\n\n//!/class\n\nexport default glx;\n","/*\n**\tsystem/shader.js\n**\n**\tCopyright (c) 2021-2022, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\n//:/**\n//: * Provides pre-processing to reuse GLSL code.\n//: */\n\n//!class glsl\n\nconst glsl =\n{\n\t/**\n\t * Library of GLSL code snippets.\n\t */\n\tsnippets: { },\n\n\t/**\n\t * Registers a snippet in the GLSL code library.\n\t * !static set (name: string, source: string) : void;\n\t */\n\tset: function (name, source)\n\t{\n\t\tthis.snippets[name] = source;\n\t},\n\n\t/**\n\t * Returns a snippet of code given its name.\n\t * !static get (name: string) : string;\n\t */\n\tget: function (name)\n\t{\n\t\treturn this.snippets.hasOwnProperty(name) ? this.snippets[name] : '';\n\t},\n\n\t/**\n\t * Replaces special marks in the code.\n\t */\n\treplace: function (code, alreadyImported)\n\t{\n\t\tcode = code.split('\\n');\n\n\t\tfor (let i = 0; i < code.length; i++)\n\t\t{\n\t\t\tlet value = code[i].trim();\n\n\t\t\tif (value.startsWith('//@use '))\n\t\t\t{\n\t\t\t\tlet str = '';\n\n\t\t\t\tfor (let name of value.substring(7).split(','))\n\t\t\t\t{\n\t\t\t\t\tname = name.trim();\n\n\t\t\t\t\tif (alreadyImported.hasOwnProperty(name))\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\talreadyImported[name] = true;\n\n\t\t\t\t\tstr += glsl.replace(glsl.get(name), alreadyImported) + '\\n';\n\t\t\t\t}\n\n\t\t\t\tcode[i] = str;\n\t\t\t}\n\t\t}\n\n\t\treturn code.join('\\n');\n\t},\n\n\t/**\n\t * Processes GLSL code, returns a string of GLSL code ready to be compiled.\n\t *\n\t * - If \"#version\" not specified \"#version 300 es\" will be added.\n\t * - If \"precision\" not specified \"precision highp float;\" will be added.\n\t * - Directive \"//@use\" will be replaced with the appropriate snippet(s).\n\t *\n\t * !static process (code: string) : string;\n\t */\n\tprocess: function (code)\n\t{\n\t\tcode = code.trim();\n\n\t\tif (code.indexOf('precision') === -1)\n\t\t\tcode = 'precision highp float;\\n' + code;\n\n\t\tif (code.indexOf('#version') === -1)\n\t\t\tcode = '#version 300 es\\n' + code;\n\n\t\treturn this.replace(code, { });\n\t}\n};\n\n//!/class\n\nexport default glsl;\n\n/**\n * Reusable GLSL snippets.\n */\n\nglsl.set('vert-defs', `\n\tuniform mat3 m_transform;\n\tuniform mat3 m_quad;\n\tuniform mat3 m_texture;\n\tuniform vec4 v_resolution;\n\tuniform vec4 v_frame_size;\n\tuniform float f_scale;\n\tuniform float f_time;\n\tuniform float f_depth;\n\n\tin vec3 location;\n\tout vec2 texcoords;\n`);\n\nglsl.set('frag-defs', `\n\tuniform vec4 v_resolution;\n\tuniform vec4 v_frame_size;\n\tuniform float f_scale;\n\tuniform float f_time;\n\tuniform float f_alpha;\n\tuniform sampler2D texture0;\n\n\tin vec2 texcoords;\n\tout vec4 color;\n`);\n\nglsl.set('invertX', `\n\tvec2 invertX (vec2 value) {\n\t\treturn value * vec2(-1.0, 1.0);\n\t}\n`);\n\nglsl.set('invertY', `\n\tvec2 invertY (vec2 value) {\n\t\treturn value * vec2(1.0, -1.0);\n\t}\n`);\n\nglsl.set('norm', `\n\tvec2 norm (vec2 value) {\n\t\treturn (value + 1.0) * 0.5;\n\t}\n\n\tvec3 norm (vec3 value) {\n\t\treturn (value + 1.0) * 0.5;\n\t}\n`);\n\nglsl.set('snorm', `\n\tvec2 snorm (vec2 value) {\n\t\treturn value * 2.0 - 1.0;\n\t}\n\n\tvec3 snorm (vec3 value) {\n\t\treturn value * 2.0 - 1.0;\n\t}\n`);\n\nglsl.set('location2d', `\n\t//@use invertY, snorm\n\n\tvec4 location2d (vec3 location, float depth)\n\t{\n\t\tvec2 loc = vec2(m_transform * m_quad * location) / v_resolution.xy;\n\t\treturn vec4(invertY(snorm(loc)), depth/16777216.0, 1.0);\n\t}\n`);\n\nglsl.set('frameTexCoords', `\n\tflat out vec2 v_frame_offset;\n\n\tvec2 frameTexCoords (vec3 location) {\n\t\tv_frame_offset = vec2(m_texture[2][0], m_texture[2][1]);\n\t\treturn mat2(m_texture * m_quad) * location.xy / (v_frame_size.xy * v_frame_size.zw);\n\t}\n`);\n\nglsl.set('frameTex', `\n\tflat in vec2 v_frame_offset;\n\n\tvec4 frameTex (vec2 texcoords) {\n\t\treturn texture(texture0, fract(texcoords)*v_frame_size.xy + v_frame_offset);\n\t}\n`);\n\nglsl.set('rand', `\n\tfloat rand (vec2 value) {\n\t\treturn fract(sin(dot(value, vec2(12.9898, 78.233))) * 43758.5453);\n\t}\n`);\n\nglsl.set('align', `\n\tfloat align (float value, float step) {\n\t\treturn floor(value/step)*step;\n\t}\n`);\n","/*\n**\tsystem/perf.js\n**\n**\tCopyright (c) 2013-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\n//!class Perf\n\n/**\n * \tInitializes the performance monitoring instance.\n *\n * \t@param accumSize - Maximum amount of samples to accumulate.\n * \t@param expectedValue - Expected value (average) of resulting samples.\n * \n * \t!constructor (accumSize: number, expectedValue?: number);\n */\nconst Perf = function (accumSize, expectedValue=null)\n{\n\tthis.data = [ ];\n\tthis.accumSize = accumSize;\n\n\tthis.expectedValue = expectedValue;\n\n\tthis.lastFeed = 0;\n\tthis.lastUpdate = 0;\n\n\tthis.stdSum = 0;\n\tthis.stdCount = 0;\n};\n\nexport default Perf;\n\n/**\n * \tMarks the start time of a performance test.\n * \t!begin() : void;\n */\nPerf.prototype.begin = function () {\n\tthis.startTime = performance.now();\n};\n\n/**\n * \tMarks the end time of the performance test, the elapsed time is fed into the monitor.\n * \t!end() : void;\n */\nPerf.prototype.end = function () {\n\tthis.feed (performance.now() - this.startTime);\n};\n\n/**\n * \tFeeds a value into the monitor, auto-generates a report using `console.log` when the number of samples reaches the `accumSize` specified in the constructor.\n * \t!feed (value: number) : void;\n */\nPerf.prototype.feed = function (value)\n{\n\tthis.data.push(value);\n\tthis.lastFeed++;\n\n\tif (this.data.length != this.accumSize)\n\t\treturn;\n\n\tthis.report();\n\tthis.data = [ ];\n};\n\n/**\n * \tUpdates the `min`, `max`, `avg` `std`, `stdSum` and `stdCount` fields of the object.\n * \t!update () : void;\n */\nPerf.prototype.update = function ()\n{\n\tlet min = null;\n\tlet max = null;\n\tlet avg = 0;\n\tlet std = 0;\n\n\tfor (let i = 0; i < this.data.length; i++)\n\t{\n\t\tmin = min === null ? this.data[i] : Math.min(min, this.data[i]);\n\t\tmax = max === null ? this.data[i] : Math.max(max, this.data[i]);\n\t\tavg += this.data[i];\n\t}\n\n\tavg /= this.data.length;\n\n\tlet e = this.expectedValue !== null ? this.expectedValue : avg;\n\n\tfor (let i = 0; i < this.data.length; i++) std += Math.pow(this.data[i] - e, 2);\n\n\tstd = Math.sqrt(std / this.data.length);\n\n\tthis.stdSum += std;\n\tthis.stdCount++;\n\n\tthis.min = min;\n\tthis.max = max;\n\tthis.avg = avg;\n\tthis.std = std;\n\n\tthis.lastUpdate = this.lastFeed;\n\treturn this;\n};\n\n/**\n * \tReturns a report string with the values selected by the specified flags.\n * \t!report (flags: Perf.Flags) : string;\n */\nPerf.prototype.report = function (flags=255)\n{\n\tlet out = '';\n\n\tif (this.lastUpdate != this.lastFeed)\n\t\tthis.update();\n\n\tif (flags & Perf.Flags.SAMPLES) out += 'n: ' + this.stdCount;\n\tif (flags & Perf.Flags.MIN) out += (out != '' ? ', ' : '') + 'min: ' + this.min;\n\tif (flags & Perf.Flags.MAX) out += (out != '' ? ', ' : '') + 'max: ' + this.max;\n\tif (flags & Perf.Flags.AVG) out += (out != '' ? ', ' : '') + 'avg: ' + this.avg.toFixed(2);\n\tif (flags & Perf.Flags.EXPECTED) out += (out != '' ? ', ' : '') + (this.expectedValue !== undefined ? 'e: ' + this.expectedValue : '');\n\tif (flags & Perf.Flags.STDDEV) out += (out != '' ? ', ' : '') + 'stddev: ' + this.std.toFixed(2);\n\tif (flags & Perf.Flags.AVG_STDDEV) out += (out != '' ? ', ' : '') + 'avg_stddev: ' + (this.stdSum / this.stdCount).toFixed(2)\n\n\treturn out;\n};\n\n//!/class\n\n//!namespace Perf\n//!enum Flags\n\nPerf.Flags = {\n\tSAMPLES: 1,\n\t//!SAMPLES\n\tMIN: 2,\n\t//!MIN\n\tMAX: 4,\n\t//!MAX\n\tAVG: 8,\n\t//!AVG\n\tEXPECTED: 16,\n\t//!EXPECTED\n\tSTDDEV: 32,\n\t//!STDDEV\n\tAVG_STDDEV: 64,\n\t//!AVG_STDDEV\n\tALL: 255,\n\t//!ALL\n};\n\n//!/enum\n","/*\n**\tsystem/framebuffer.js\n**\n**\tCopyright (c) 2021-2022, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport { Class } from 'rinn';\nimport globals from './globals.js';\nimport System from './system.js';\n\n//![import \"./globals\"]\n//![import \"./system\"]\n\n/*\n *\tDescribes a GL framebuffer.\n */\n\nconst Framebuffer = Class.extend\n({\n\t/**\n\t *\tShader GL identifier.\n\t */\n\tframebufferId: null,\n\n\t/**\n\t *\tAttachments of the framebuffer.\n\t */\n\tattachments: null,\n\n\t/**\n\t *\tType of each attachment.\n\t */\n\tattachmentTypes: null,\n\n\t/**\n\t *\tWidth of the framebuffer.\n\t */\n\twidth: 0,\n\n\t/**\n\t *\tHeight of the framebuffer.\n\t */\n\theight: 0,\n\n\t/**\n\t *\tEnabled draw buffers.\n\t */\n\tdrawBuffers: null,\n\tdrawBufferIds: null,\n\n\t/**\n\t *\tConstructs a GL framebuffer.\n\t *\n\t * \t@param {number} width\n\t * \t@param {number} height\n\t */\n\t__ctor: function (width=null, height=null)\n\t{\n\t\tif (globals.gl === null)\n\t\t\treturn;\n\n\t\tif (attachmentPointIds[0] === null)\n\t\t\tinitAttachmentPointIds(globals.gl);\n\n\t\tthis.framebufferId = globals.gl.createFramebuffer();\n\n\t\tthis.drawBuffers = [];\n\t\tthis.drawBufferIds = [];\n\n\t\t//violet:hardware scaling\n\t\t//this.width = width || System.screenWidth;\n\t\t//this.height = height || System.screenHeight;\n\n\t\tthis.width = width || System.renderer.width;\n\t\tthis.height = height || System.renderer.height;\n\n\t   \tthis.attachments = new Array(Framebuffer.MAX_ATTACHMENT_POINTS).fill(null);\n\t   \tthis.attachmentTypes = new Array(Framebuffer.MAX_ATTACHMENT_POINTS).fill(null);\n\t},\n\n\t/**\n\t * \tDestroys the framebuffer and all attached textures.\n\t */\n\t__dtor: function ()\n\t{\n\t\tlet gl = globals.gl;\n\t\tif (gl === null) return;\n\n\t\tfor (let i = 0; i < this.attachments.length; i++)\n\t\t{\n\t\t\tif (this.attachments[i] !== null)\n\t\t\t{\n\t\t\t\tif (this.attachmentTypes[i] === Framebuffer.TEXTURE)\n\t\t\t\t\tgl.deleteTexture(this.attachments[i]);\n\t\t\t\telse\n\t\t\t\t\tgl.deleteRenderbuffer(this.attachments[i]);\n\t\t\t}\n\t\t}\n\n\t\tgl.deleteFramebuffer(this.frameBufferId);\n\t},\n\n\t/**\n\t * \tAttaches a texture to a framebuffer attachment point.\n\t *\n\t * \t@param {number} attachmentPoint\n\t * \t@param {any} texture\n\t * \t@param {number} type\n\t */\n\tattach: function (attachmentPoint, texture, type=null)\n\t{\n\t\tlet gl = globals.gl;\n\t\tif (gl === null) return;\n\n\t\tif (type === null)\n\t\t\ttype = attachmentPoint < Framebuffer.DEPTH ? Framebuffer.TEXTURE : Framebuffer.RENDERBUFFER;\n\n\t\tthis.attachments[attachmentPoint] = texture;\n\t\tthis.attachmentTypes[attachmentPoint] = type;\n\n\t\tif (attachmentPoint < Framebuffer.DEPTH && this.drawBuffers.indexOf(attachmentPoint) === -1)\n\t\t{\n\t\t\tthis.drawBuffers.push(attachmentPoint);\n\t\t\tthis.drawBufferIds.push(attachmentPointIds[attachmentPoint]);\n\t\t}\n\n\t\tlet prev = gl.getParameter(gl.FRAMEBUFFER_BINDING);\n\t\tgl.bindFramebuffer (gl.FRAMEBUFFER, this.framebufferId);\n\n\t\tswitch (type)\n\t\t{\n\t\t\tcase Framebuffer.TEXTURE:\n\t\t\t\tgl.framebufferTexture2D (gl.FRAMEBUFFER, attachmentPointIds[attachmentPoint], gl.TEXTURE_2D, texture, 0);\n\t\t\t\tbreak;\n\n\t\t\tcase Framebuffer.RENDERBUFFER:\n\t\t\t\tgl.framebufferRenderbuffer (gl.FRAMEBUFFER, attachmentPointIds[attachmentPoint], gl.RENDERBUFFER, texture);\n\t\t\t\tbreak;\n\t\t}\n\n\t\tgl.bindFramebuffer (gl.FRAMEBUFFER, prev);\n\t},\n\n\t/**\n\t * \tCreates a new color buffer texture.\n\t *\n\t * \t@param {number} width\n\t * \t@param {number} height\n\t * \t@returns {GLTexture}\n\t */\n\tcreateColorBuffer: function (attachmentPoint, width=null, height=null)\n\t{\n\t\tlet gl = globals.gl;\n\t\tif (gl === null) return null;\n\n\t\tif (width === null) width = this.width;\n\t\tif (height === null) height = this.height;\n\n\t\tlet tex = gl.createTexture();\n\t\tgl.bindTexture (gl.TEXTURE_2D, tex);\n\n\t\tgl.texStorage2D (gl.TEXTURE_2D, 1, gl.RGBA8, width, height);\n\t\tgl.texParameteri (gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n\t\tgl.texParameteri (gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n\t\tgl.texParameteri (gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n\t\tgl.texParameteri (gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n\n\t\tthis.attach(attachmentPoint, tex);\n\t\treturn tex;\n\t},\n\n\t/**\n\t * \tCreates a new depth buffer texture.\n\t *\n\t * \t@param {number} width\n\t * \t@param {number} height\n\t * \t@returns {GLTexture}\n\t */\n\tcreateDepthBuffer: function (width=null, height=null)\n\t{\n\t\tlet gl = globals.gl;\n\t\tif (gl === null) return null;\n\n\t\tif (width === null) width = this.width;\n\t\tif (height === null) height = this.height;\n\n\t\tlet tex = gl.createRenderbuffer();\n\t\tgl.bindRenderbuffer (gl.RENDERBUFFER, tex);\n\t\tgl.renderbufferStorage (gl.RENDERBUFFER, gl.DEPTH_COMPONENT24, width, height);\n\n\t\tthis.attach(Framebuffer.DEPTH, tex);\n\t\treturn tex;\n\t},\n\n\t/**\n\t * \tCreates a new stencil buffer texture.\n\t *\n\t * \t@param {number} width\n\t * \t@param {number} height\n\t * \t@returns {GLTexture}\n\t */\n\tcreateStencilBuffer: function (width=null, height=null)\n\t{\n\t\tlet gl = globals.gl;\n\t\tif (gl === null) return null;\n\n\t\tif (width === null) width = this.width;\n\t\tif (height === null) height = this.height;\n\n\t\tlet tex = gl.createTexture();\n\t\tgl.bindTexture (gl.TEXTURE_2D, tex);\n\n\t\tgl.texStorage2D (gl.TEXTURE_2D, 1, gl.DEPTH_STENCIL, width, height);\n\t\tgl.texParameteri (gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.NEAREST);\n\t\tgl.texParameteri (gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.NEAREST);\n\t\tgl.texParameteri (gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.CLAMP_TO_EDGE);\n\t\tgl.texParameteri (gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.CLAMP_TO_EDGE);\n\n\t\tthis.attach(Framebuffer.DEPTH_STENCIL, tex);\n\t\treturn tex;\n\t},\n\n\t/**\n\t * \tReturns a texture from the specified attachment point.\n\t * \t@param {number} attachmentPoint \n\t */\n\tgetTexture: function (attachmentPoint)\n\t{\n\t\tif (this.attachmentTypes[attachmentPoint] !== Framebuffer.TEXTURE)\n\t\t\treturn null;\n\n\t\treturn this.attachments[attachmentPoint];\n\t},\n\n\t/**\n\t * \tReturns a renderbuffer from the specified attachment point.\n\t * \t@param {number} attachmentPoint \n\t */\n\tgetRenderBuffer: function (attachmentPoint)\n\t{\n\t\tif (this.attachmentTypes[attachmentPoint] !== Framebuffer.RENDERBUFFER)\n\t\t\treturn null;\n\n\t\treturn this.attachments[attachmentPoint];\n\t},\n\n\t/**\n\t *\tBinds the framebuffer for further operations.\n\t */\n\tbind: function()\n\t{\n\t\tlet gl = globals.gl;\n\t\tif (gl === null) return;\n\n\t\tgl.bindFramebuffer (gl.FRAMEBUFFER, this.framebufferId);\n\n\t\tgl.drawBuffers (this.drawBufferIds);\n\t\tgl.viewport (0, 0, this.width, this.height);\n\t},\n\n\t/**\n\t *\tBinds the default framebuffer.\n\t */\n\tunbind: function()\n\t{\n\t\tlet gl = globals.gl;\n\t\tif (gl === null) return;\n\n\t\tgl.bindFramebuffer (gl.FRAMEBUFFER, null);\n\n\t\tgl.drawBuffers (defaultDrawBuffers);\n\t\tgl.viewport (0, 0, System.renderer.width, System.renderer.height);\n\t},\n\n\t/**\n\t *\tReturns the status of the framebuffer. Returns true if the framebuffer is complete.\n\t */\n\tisComplete: function()\n\t{\n\t\tlet gl = globals.gl;\n\t\tif (gl === null) return true;\n\n\t\tlet prev = gl.getParameter(gl.FRAMEBUFFER_BINDING);\n\t\tgl.bindFramebuffer (gl.FRAMEBUFFER, this.framebufferId);\n\t\tlet result = gl.checkFramebufferStatus(gl.FRAMEBUFFER);\n\t\tgl.bindFramebuffer (gl.FRAMEBUFFER, prev);\n\n\t\treturn result === gl.FRAMEBUFFER_COMPLETE;\n\t}\n\n});\n\n/**\n *\tTypes of attachment objects.\n */\nFramebuffer.TEXTURE = 1;\nFramebuffer.RENDERBUFFER = 2;\n\n/**\n *\tAvailable attachment points.\n */\nFramebuffer.COLOR0\t\t\t= 0;\nFramebuffer.COLOR1\t\t\t= 1;\nFramebuffer.COLOR2\t\t\t= 2;\nFramebuffer.COLOR3\t\t\t= 3;\nFramebuffer.COLOR4\t\t\t= 4;\nFramebuffer.COLOR5\t\t\t= 5;\nFramebuffer.COLOR6\t\t\t= 6;\nFramebuffer.COLOR7\t\t\t= 7;\nFramebuffer.DEPTH \t\t\t= 8;\nFramebuffer.STENCIL \t\t= 9;\nFramebuffer.DEPTH_STENCIL\t= 10;\n\nFramebuffer.MAX_ATTACHMENT_POINTS = 11;\n\n/**\n *\tGL framebuffer attachment point IDs.\n */\nconst attachmentPointIds = new Array(Framebuffer.MAX_ATTACHMENT_POINTS).fill(null);\nconst defaultDrawBuffers = new Array(1).fill(null);\n\n/**\n * \tInitializes the attachment point IDs.\n */\nconst initAttachmentPointIds = function (gl)\n{\n\tdefaultDrawBuffers[0] = gl.BACK;\n\n\tattachmentPointIds[Framebuffer.COLOR0] = gl.COLOR_ATTACHMENT0;\n\tattachmentPointIds[Framebuffer.COLOR1] = gl.COLOR_ATTACHMENT1;\n\tattachmentPointIds[Framebuffer.COLOR2] = gl.COLOR_ATTACHMENT2;\n\tattachmentPointIds[Framebuffer.COLOR3] = gl.COLOR_ATTACHMENT3;\n\tattachmentPointIds[Framebuffer.COLOR4] = gl.COLOR_ATTACHMENT4;\n\tattachmentPointIds[Framebuffer.COLOR5] = gl.COLOR_ATTACHMENT5;\n\tattachmentPointIds[Framebuffer.COLOR6] = gl.COLOR_ATTACHMENT6;\n\tattachmentPointIds[Framebuffer.COLOR7] = gl.COLOR_ATTACHMENT7;\n\tattachmentPointIds[Framebuffer.DEPTH] = gl.DEPTH_ATTACHMENT;\n\tattachmentPointIds[Framebuffer.STENCIL] = gl.STENCIL_ATTACHMENT;\n\tattachmentPointIds[Framebuffer.DEPTH_STENCIL] = gl.DEPTH_STENCIL_ATTACHMENT;\n};\n\nexport default Framebuffer;\n","/*\n**\tresources/wrappers.js\n**\n**\tCopyright (c) 2016-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\n//![import './drawable']\nimport _Drawable from './drawable.js'; export const Drawable = _Drawable;\n//![import './custom']\nimport _Custom from './custom.js'; export const Custom = _Custom;\n//![import './spritesheet']\nimport _Spritesheet from './spritesheet.js'; export const Spritesheet = _Spritesheet;\n//![import './spritesheet-animation']\nimport _SpritesheetAnimation from './spritesheet-animation.js'; export const SpritesheetAnimation = _SpritesheetAnimation;\n//![import './spritefont']\nimport _SpriteFont from './spritefont.js'; export const SpriteFont = _SpriteFont;\n//![import './sound']\nimport _Sound from './sound.js'; export const Sound = _Sound;\n//![import './sound-array']\nimport _SoundArray from './sound-array.js'; export const SoundArray = _SoundArray;\n","/*\n**\tresources/drawable\n**\n**\tCopyright (c) 2016-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport Drawable from '../flow/drawable.js';\n\nexport default Drawable.extend\n({\n\tclassName: 'DrawableResource',\n\n\tr: null,\n\n\t__ctor: function (r)\n\t{\n\t\tif (r.type !== 'image')\n\t\t\tthrow new Error ('Resource is not an image.');\n\n\t\tthis._super.Drawable.__ctor(r.data, r.width, r.height);\n\n\t\tthis.r = r;\n\t\tthis.r.wrapper = this;\n\t}\n});\n","/*\n**\tflow/drawable.js\n**\n**\tCopyright (c) 2013-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport { Rinn, Class } from 'rinn';\n\n//:/**\n//: * \tDescribes an object that can be drawn to a Canvas.\n//: */\n\n//!class Drawable\n\nconst Drawable = Class.extend\n({\n\tclassName: 'Drawable',\n\n\t/**\n\t * Image resource.\n\t * @protected\n\t * !readonly resource: HTMLImageElement|Canvas;\n\t */\n\tresource: null,\n\n\t/**\n\t * Logical width of the drawable.\n\t * @protected\n\t * !readonly width: number;\n\t */\n\twidth: 0,\n\n\t/**\n\t * Logical height of the drawable.\n\t * @protected\n\t * !readonly height: number;\n\t */\n\theight: 0,\n\n\t/**\n\t * Frame source X-offset in physical units.\n\t * @protected\n\t * !readonly sx: number;\n\t */\n\tsx: 0,\n\n\t/**\n\t * Frame source Y-position in physical units.\n\t * @protected\n\t * !readonly sy: number;\n\t */\n\tsy: 0,\n\n\t/**\n\t * Frame source width in physical units.\n\t * @protected\n\t * !readonly swidth: number;\n\t */\n\tswidth: 0,\n\n\t/**\n\t * Frame source height in physical units.\n\t * @protected\n\t * !readonly sheight: number;\n\t */\n\tsheight: 0,\n\n\t/**\n\t * Initializes the instance.\n\t * !constructor();\n\t */\n\t__ctor: function (resource=null, width=null, height=null)\n\t{\n\t\tif (Rinn.isInstanceOf(resource, Drawable))\n\t\t{\n\t\t\tlet drawable = resource;\n\n\t\t\tthis.resource = drawable.resource;\n\t\t\tthis.width = width ?? drawable.width;\n\t\t\tthis.height = height ?? drawable.height;\n\n\t\t\tthis.sx = drawable.sx;\n\t\t\tthis.sy = drawable.sy;\n\t\t\tthis.swidth = drawable.swidth;\n\t\t\tthis.sheight = drawable.sheight;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.resource = resource;\n\n\t\t\tthis.sx = 0;\n\t\t\tthis.sy = 0;\n\n\t\t\tif (this.resource)\n\t\t\t{\n\t\t\t\tthis.width = width ?? resource.targetWidth;\n\t\t\t\tthis.height = height ?? resource.targetHeight;\n\n\t\t\t\tthis.swidth = resource.width;\n\t\t\t\tthis.sheight = resource.height;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.width = width;\n\t\t\t\tthis.height = height;\n\n\t\t\t\tthis.swidth = width;\n\t\t\t\tthis.sheight = height;\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Returns the actual independent drawable object.\n\t * !getDrawable(): Drawable;\n\t */\n\tgetDrawable: function()\n\t{\n\t\treturn this;\n\t},\n\n\t/**\n\t * Returns the underlying Image object, can be used directly with Canvas.drawImage.\n\t * !getImage(): HTMLImageElement|Canvas;\n\t */\n\tgetImage: function()\n\t{\n\t\treturn this.resource;\n\t},\n\n\t/**\n\t * Resizes the logical dimensions of the drawable.\n\t * !resize (width: number|boolean|null, height: number|boolean|null) : Drawable;\n\t */\n\tresize: function (width, height)\n\t{\n\t\twidth = width !== null ? (width !== true ? width : true) : this.width;\n\t\theight = height !== null ? (height !== true ? height : true)  : this.height;\n\n\t\tif (width === true)\n\t\t\twidth = height*(this.width/this.height);\n\t\telse if (height === true)\n\t\t\theight = width*(this.height/this.width);\n\n\t\tthis.width = width;\n\t\tthis.height = height;\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * Draws the drawable on the canvas.\n\t * !draw (g: Canvas, x: number, y: number, width?: number|null, height?: number|null) : void;\n\t */\n\tdraw: function (g, x, y, width=null, height=null)\n\t{\n\t\twidth = width ?? this.width;\n\t\theight = height ?? this.height;\n\n\t\tthis.drawf(g, this.sx, this.sy, this.swidth, this.sheight, x, y, width, height);\n\t},\n\n\t/**\n\t * Draws a section of the drawable on the canvas using full parameters.\n\t * !drawf (g: Canvas, sx:number, sy:number, swidth:number, sheight:number, tx:number, ty:number, twidth:number, theight:number, fwidth?:number|null, fheight?:number|null) : void;\n\t */\n\tdrawf: function (g, sx, sy, swidth, sheight, tx, ty, twidth, theight, fwidth=null, fheight=null)\n\t{\n\t\tg.drawImage (this.resource,\n\t\t\tsx, sy, swidth, sheight,\n\t\t\ttx, ty, twidth, theight,\n\t\t\tnull, null, fwidth ?? twidth, fheight ?? theight);\n\t},\n\n\t/**\n\t * Renders the drawable for the specified element.\n\t * !render (g: Canvas, elem: Element) : void;\n\t */\n\trender: function (g, elem)\n\t{\n\t\tthis.draw (g, elem.bounds.x1, elem.bounds.y1, elem.bounds.width(), elem.bounds.height());\n\t}\n});\n\n\n/**\n * Nine-Slice Drawable.\n */\nconst NineSlice = Drawable.extend\n({\n\tclassName: 'DrawableNineSlice',\n\n\tss: null,\n\tstartingIndex: 0,\n\n\t__ctor: function (spritesheet, startingIndex)\n\t{\n\t\tthis._super.Drawable.__ctor(spritesheet);\n\n\t\tif (spritesheet === null || !Class.instanceOf(spritesheet, 'Spritesheet'))\n\t\t\tthrow new Error('NineSlice: spritesheet required');\n\n\t\tthis.ss = spritesheet;\n\t\tthis.startingIndex = startingIndex;\n\t},\n\n\t__dtor: function()\n\t{\n\t\tdispose(this.ss);\n\t},\n\n\tgetImage: function()\n\t{\n\t\treturn this.ss.getImage();\n\t},\n\n\tdraw: function (g, x, y, width, height)\n\t{\n\t\tconst k = this.startingIndex;\n\n\t\tlet leftWidth = this.ss.getFrame(k+0).width;\n\t\tlet rightWidth = this.ss.getFrame(k+2).width;\n\t\tlet midWidth = this.ss.getFrame(k+1).width;\n\n\t\tlet topHeight = this.ss.getFrame(k+0).height;\n\t\tlet bottomHeight = this.ss.getFrame(k+6).height;\n\t\tlet midHeight = this.ss.getFrame(k+3).height;\n\n\t\tlet n = int((width - leftWidth - rightWidth) / midWidth);\n\t\tlet m = int((height - topHeight - bottomHeight) / midHeight);\n\n\t\tlet x1 = x;\n\t\tlet y1 = y;\n\n\t\t// Corners\n\t\tthis.ss.getFrame(k+0).draw(g, x1, y1);\n\t\tthis.ss.getFrame(k+2).draw(g, x1 + leftWidth + n*midWidth, y1);\n\t\tthis.ss.getFrame(k+6).draw(g, x1, y1 + topHeight + m*midHeight);\n\t\tthis.ss.getFrame(k+8).draw(g, x1 + leftWidth + n*midWidth, y1 + topHeight + m*midHeight);\n\n\t\t// Top/Bottom\n\t\tfor (let i = 0; i < n; i++) {\n\t\t\tthis.ss.getFrame(k+1).draw(g, x1 + leftWidth + i*midWidth, y1);\n\t\t\tthis.ss.getFrame(k+7).draw(g, x1 + leftWidth + i*midWidth, y1 + topHeight + m*midHeight);\n\t\t}\n\n\t\t// Left/Right\n\t\tfor (let i = 0; i < m; i++) {\n\t\t\tthis.ss.getFrame(k+3).draw(g, x1, y1 + topHeight + i*midHeight);\n\t\t\tthis.ss.getFrame(k+5).draw(g, x1 + leftWidth + n*midWidth, y1 + topHeight + i*midHeight);\n\t\t}\n\n\t\t// Center\n\t\tfor (let j = 0; j < m; j++)\n\t\tfor (let i = 0; i < n; i++) {\n\t\t\tthis.ss.getFrame(k+4).draw(g, x1 + leftWidth + i*midWidth, y1 + topHeight + j*midHeight);\n\t\t}\n\t}\n});\n\nRecycler.createPool(NineSlice, 512);\n\n\n/**\n * Repeated drawable.\n */\nconst Repeated = Drawable.extend\n({\n\tclassName: 'DrawableRepeated',\n\n\tdrawable: null,\n\n\t__ctor: function (drawable)\n\t{\n\t\tthis._super.Drawable.__ctor(drawable);\n\t\tthis.drawable = drawable;\n\t},\n\n\t__dtor: function()\n\t{\n\t\tdispose(this.drawable);\n\t},\n\n\tdrawf: function (g, sx, sy, swidth, sheight, tx, ty, twidth, theight, fwidth=null, fheight=null)\n\t{\n\t\tthis.drawable.drawf(g, sx, sy, swidth, sheight, tx, ty, twidth, theight, this.width, this.height);\n\t}\n});\n\nRecycler.createPool(Repeated, 512);\n\n\n/**\n * Clipped drawable.\n */\nconst Clipped = Drawable.extend\n({\n\tclassName: 'DrawableClipped',\n\n\tdrawable: null,\n\n\t__ctor: function (drawable)\n\t{\n\t\tthis._super.Drawable.__ctor(drawable);\n\t\tthis.drawable = drawable;\n\t},\n\n\t__dtor: function()\n\t{\n\t\tdispose(this.drawable);\n\t},\n\n\tdraw: function (g, x, y, width=null, height=null)\n\t{\n\t\tlet img = this.getImage();\n\t\n\t\twidth = width ?? this.width;\n\t\theight = height ?? this.height;\n\n\t\tthis.drawable.drawf (g,\n\t\t\tthis.drawable.sx, this.drawable.sy, width*img.rscale, height*img.rscale,\n\t\t\tx, y, width, height);\n\t}\n});\n\nRecycler.createPool(Clipped, 512);\n\n\n/**\n * Centered drawable.\n */\nconst Centered = Drawable.extend\n({\n\tclassName: 'DrawableCentered',\n\n\tdrawable: null,\n\toffsX: 0,\n\toffsY: 0,\n\n\t__ctor: function (drawable, offsX, offsY)\n\t{\n\t\tthis._super.Drawable.__ctor(drawable);\n\n\t\tthis.drawable = drawable;\n\t\tthis.offsX = offsX;\n\t\tthis.offsY = offsY;\n\t},\n\n\t__dtor: function()\n\t{\n\t\tdispose(this.drawable);\n\t},\n\n\tdraw: function (g, x, y, width=null, height=null)\n\t{\n\t\twidth = width ?? this.width;\n\t\theight = height ?? this.height;\n\n\t\tthis.drawable.draw(g, x+this.offsX+(width-this.width)*0.5, y+this.offsY+(height-this.height)*0.5, this.width, this.height);\n\t}\n});\n\nRecycler.createPool(Centered, 512);\n\n\n/**\n * Static drawable.\n */\nconst Static = Drawable.extend\n({\n\tclassName: 'DrawableStatic',\n\n\tdrawable: null,\n\toffsX: 0,\n\toffsY: 0,\n\n\t__ctor: function (drawable, offsX, offsY)\n\t{\n\t\tthis._super.Drawable.__ctor(drawable);\n\n\t\tthis.drawable = drawable;\n\t\tthis.offsX = offsX;\n\t\tthis.offsY = offsY;\n\t},\n\n\t__dtor: function()\n\t{\n\t\tdispose(this.drawable);\n\t},\n\n\tdraw: function (g, x, y, width=null, height=null)\n\t{\n\t\tthis.drawable.draw(g, x+this.offsX, y+this.offsY, width, height);\n\t}\n});\n\nRecycler.createPool(Static, 512);\n\n\n/**\n * Drawable group.\n */\nconst Group = Drawable.extend\n({\n\tclassName: 'DrawableGroup',\n\n\tlist: null,\n\n\t__ctor: function (list)\n\t{\n\t\tthis._super.Drawable.__ctor();\n\n\t\tthis.list = list;\n\n\t\tthis.width = 0;\n\t\tthis.height = 0;\n\n\t\tfor (let i = 0; i < this.list.length; i++)\n\t\t{\n\t\t\tif (this.list[i].width > this.width) this.width = this.list[i].width;\n\t\t\tif (this.list[i].height > this.height) this.height = this.list[i].height;\n\t\t}\n\n\t\tthis.swidth = this.width;\n\t\tthis.sheight = this.height;\n\t},\n\n\t__dtor: function()\n\t{\n\t\tif (this.list !== null)\n\t\t{\n\t\t\tfor (let i = 0; i < this.list.length; i++)\n\t\t\t\tdispose(this.list[i]);\n\n\t\t\tthis.list = null;\n\t\t}\n\t},\n\n\tdraw: function (g, x, y, width=null, height=null)\n\t{\n\t\tfor (let i = 0; i < this.list.length; i++)\n\t\t\tthis.list[i].draw(g, x, y, width, height);\n\t},\n\n\trender: function (g, elem)\n\t{\n\t\tfor (let i = 0; i < this.list.length; i++)\n\t\t\tthis.list[i].render(g, elem);\n\t}\n});\n\nRecycler.createPool(Group, 512);\n\n\n/**\n * Drawable made with a composition of tiles from a nine-slice spritesheet to create a rectangle.\n * !static nineSlice (spritesheet: Spritesheet, startingIndex?:number|0) : Drawable;\n */\nDrawable.nineSlice = function (spritesheet, startingIndex=0) { return NineSlice.Pool.alloc(spritesheet, startingIndex); }\n/**\n * Drawable made with a composition of tiles from a nine-slice spritesheet to create a rectangle.\n * !nineSlice (startingIndex?:number|0) : Drawable;\n */\nDrawable.prototype.nineSlice = function(startingIndex=0) { return NineSlice.Pool.alloc(this, startingIndex); }\n\n/**\n * Drawable tiles to the target size.\n * !static repeated (drawable: Drawable) : Drawable;\n */\nDrawable.repeated = function (drawable) { return Repeated.Pool.alloc(drawable); }\n/**\n * Drawable tiles to the target size.\n * !repeated () : Drawable;\n */\nDrawable.prototype.repeated = function () { return Repeated.Pool.alloc(this); }\n\n/**\n * Drawable clipped to the target size.\n * !static clipped (drawable: Drawable) : Drawable;\n */\nDrawable.clipped = function (drawable) { return Clipped.Pool.alloc(drawable); }\n/**\n * Drawable clipped to the target size.\n * !clipped () : Drawable;\n */\nDrawable.prototype.clipped = function () { return Clipped.Pool.alloc(this); }\n\n/**\n * Drawable centered to the target rectangle.\n * !static centered (drawable: Drawable, offsX?: number, offsY?: number) : Drawable;\n */\nDrawable.centered = function (drawable, offsX, offsY) { return Centered.Pool.alloc(drawable, offsX, offsY); }\n/**\n * Drawable centered to the target rectangle.\n * !centered (offsX?: number, offsY?: number) : Drawable;\n */\nDrawable.prototype.centered = function (offsX, offsY) { return Centered.Pool.alloc(this, offsX, offsY); }\n\n/**\n * Drawable as-is without stretching it.\n * !static static (drawable: Drawable, offsX?: number, offsY?: number) : Drawable;\n */\nDrawable.static = function (drawable, offsX, offsY) { return Static.Pool.alloc(drawable, offsX, offsY); }\n/**\n * Drawable as-is without stretching it.\n * !static (offsX?: number, offsY?: number) : Drawable;\n */\nDrawable.prototype.static = function (offsX, offsY) { return Static.Pool.alloc(this, offsX, offsY); }\n\n/**\n * Creates a drawable group.\n * !static group (...args: Array<Drawable>) : Drawable;\n */\nDrawable.group = function (...args) { return Group.Pool.alloc(args); }\n\n\n//!/class\n\n//!namespace Drawable\n//!namespace Pool\n\n\t/**\n\t * Allocates a drawable object.\n\t * !function alloc () : Drawable;\n\t */\n\nRecycler.createPool(Drawable, 512);\nexport default Drawable;\n","/*\n**\tresources/custom.js\n**\n**\tCopyright (c) 2016-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport Canvas from '../system/canvas.js';\nimport Drawable from '../flow/drawable.js';\n\n//![import \"../system/canvas\"]\n\nexport default Drawable.extend\n({\n\tclassName: 'DrawableCustom',\n\n\t__ctor: function (r)\n\t{\n\t\tif (r.type != 'object')\n\t\t\tthrow new Error ('Resource is not an object.');\n\n\t\tthis._super.Drawable.__ctor(null, r.width, r.height);\n\n\t\tthis.r = r;\n\t\tthis.r.wrapper = this;\n\t},\n\n\tinit: function (callback)\n\t{\n\t\tCanvas.renderImage(this.r.width, this.r.height,\n\t\t(g) => {\n\t\t\tif (this.r.draw !== null && typeof(this.r.draw) === 'function') {\n\t\t\t\tthis.r.draw(g, this.r);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tg.fillStyle(this.r.color);\n\t\t\t\tg.fillRect(0, 0, this.r.width, this.r.height);\n\t\t\t}\n\t\t},\n\t\t(img) => {\n\t\t\tthis.resource = img;\n\t\t\tthis.swidth = this.resource.width;\n\t\t\tthis.sheight = this.resource.height;\n\t\t\tcallback();\n\t\t});\n\t}\n});\n","/*\n**\tresources/spritesheet.js\n**\n**\tCopyright (c) 2016-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport Drawable from '../flow/drawable.js';\n\n/*\n\tIf source is \"image\":\n\t\tconfig: {\n\t\t\tsheetWidth: int, frameWidth: int, frameHeight: int?, numFrames: int?\n\t\t\t--OR--\n\t\t\tnumFrames: int, frameWidth: int, frameHeight: int?\n\t\t}\n\n\tIf source is \"images\":\n\t\tconfig: {\n\t\t\tframeWidth: int, frameHeight: int\n\t\t}\n\t\t\n\tNOTE: The sheetWidth, frameWidth and frameHeight should reflect the real image size. The system will automatically scale it if the source image is smaller/bigger.\n*/\n\nconst FrameDrawable = Drawable.extend\n({\n\tspritesheet: null,\n\tframeIndex: 0,\n\n\t__ctor: function (spritesheet, frameIndex)\n\t{\n\t\tthis._super.Drawable.__ctor(null, spritesheet.width, spritesheet.height);\n\n\t\tthis.spritesheet = spritesheet;\n\t\tthis.frameIndex = frameIndex;\n\n\t\tthis.width = spritesheet.width;\n\t\tthis.height = spritesheet.height;\n\n\t\tthis.swidth = spritesheet.frameWidth;\n\t\tthis.sheight = spritesheet.frameHeight;\n\t}\n});\n\nexport default Drawable.extend\n({\n\tclassName: 'Spritesheet',\n\n\tnumCols: 0,\n\tnumFrames: 0,\n\n\tframeCache: null,\n\n\t__ctor: function (r)\n\t{\n\t\tthis._super.Drawable.__ctor();\n\n\t\tif ((r.type != 'image' && r.type != 'images'))\n\t\t\tthrow new Error ('Resource is not a sprite sheet.');\n\n\t\tvar r_scale, v_scale;\n\n\t\tif (r.type == 'image')\n\t\t{\n\t\t\tif (!r.config.sheetWidth && (!r.config.numFrames || !r.config.frameWidth))\n\t\t\t\tthrow new Error (r.resName + ': required sheetWidth or numFrames+frameWidth');\n\n\t\t\tif (!r.config.sheetWidth)\n\t\t\t\tr.config.sheetWidth = r.width; //r.config.numFrames * r.config.frameWidth;\n\n\t\t\tif (!r.config.frameHeight)\n\t\t\t\tr.config.frameHeight = r.data.height;\n\n\t\t\tr_scale = r.data.width / r.config.sheetWidth;\n\t\t\tv_scale = r.width / r.config.sheetWidth;\n\t\t}\n\t\telse // r.type == 'images'\n\t\t{\n\t\t\tif (!r.config) r.config = { };\n\n\t\t\tif (!r.config.frameWidth)\n\t\t\t\tr.config.frameWidth = r.data[0].width;\n\n\t\t\tif (!r.config.frameHeight)\n\t\t\t\tr.config.frameHeight = r.data[0].height;\n\n\t\t\tr_scale = r.data[0].data.width / r.config.frameWidth;\n\t\t\tv_scale = r.data[0].width / r.config.frameWidth;\n\t\t}\n\n\t\t// Physical frame dimensions.\n\t\tthis.frameWidth = (r.config.frameWidth * r_scale);\n\t\tthis.frameHeight = (r.config.frameHeight * r_scale);\n\n\t\t// Logical frame dimensions.\n\t\tthis.width = r.config.frameWidth * v_scale;\n\t\tthis.height = r.config.frameHeight * v_scale;\n\n\t\tif (r.type == 'image')\n\t\t{\n\t\t\tthis.numCols = int(r.data.width / this.frameWidth);\n\t\t\tthis.numRows = Math.ceil(r.data.height / this.frameHeight);\n\n\t\t\tthis.numFrames = r.config.numFrames || (this.numCols * this.numRows);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.numCols = this.numRows = 0;\n\t\t\tthis.numFrames = r.data.length;\n\t\t}\n\n\t\tthis.frameCache = { };\n\n\t\tthis.r = r;\n\t\tthis.r.wrapper = this;\n\n\t\t// Preload frameCache.\n\t\tfor (let i = 0; i < this.numFrames; i++)\n\t\t\tthis.getFrame(i);\n\t},\n\n\tgetFrame: function (x, y=null)\n\t{\n\t\tlet frameIndex = y !== null ? y*this.numCols+x : x;\n\t\tif (frameIndex < 0 || frameIndex >= this.numFrames)\n\t\t\tthrow new Error ('frameIndex out of range');\n\n\t\tif (this.frameCache[frameIndex])\n\t\t\treturn this.frameCache[frameIndex];\n\n\t\tlet frameObject = new FrameDrawable (this, frameIndex);\n\n\t\tif (this.numCols != 0)\n\t\t{\n\t\t\tframeObject.sy = int(frameIndex / this.numCols) * this.frameHeight;\n\t\t\tframeObject.sx = (frameIndex % this.numCols) * this.frameWidth;\n\t\t\tframeObject.resource = this.r.data;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tframeObject.resource = this.r.data[frameIndex].data;\n\t\t}\n\n\t\treturn this.frameCache[frameIndex] = frameObject;\n\t},\n\n\tgetImage: function()\n\t{\n\t\treturn this.getFrame(0).getImage();\n\t},\n\n\tgetDrawable: function()\n\t{\n\t\treturn this.getFrame(0);\n\t}\n});\n","/*\n**\tresources/spritesheet-animation.js\n**\n**\tCopyright (c) 2016-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport { Class } from 'rinn';\nimport Spritesheet from './spritesheet.js';\nimport System from '../system/system.js';\nimport List from '../utils/list.js';\nimport Recycler from '../utils/recycler.js';\nimport Drawable from '../flow/drawable.js';\n\n//![import \"./spritesheet\"]\n//![import \"../system/system\"]\n//![import \"../utils/list\"]\n//![import \"../utils/recycler\"]\n\n/*\n\tanim: {\n\t\tdef: string, fps: int?,\n\n\t\tseq: {\n\t\t\tseq1: { loop: bool?, group: [ [int, int, ...], ... ] },\n\t\t\tseq2: { loop: bool?, group: [ [int, int, ...], ... ] },\n\t\t\tseq2: { loop: bool?, group: \"0-12\" },\n\t\t\tseq2: { loop: bool?, group: \"4 1 1 2 3\" },\n\t\t},\n\n\t\ttrans: {\n\t\t\tseq1: {\n\t\t\t\tseq2: [ seq_name, seq_name, ... ]\n\t\t\t}\n\t\t}\n\t}\n\n\tNOTE: When specifying a group such as \"0,12\" it means to draw tiles 0 and the 12 in that single frame.\n*/\n\nexport const Animation = Drawable.extend\n({\n\tclassName: 'Animation',\n\n\tseq: null, seq_i: 0,\n\ttrans: null, trans_i: 0, trans_t: null,\n\n\tqueue: null,\n\n\tfps: 0, frameSeconds: 0, time: 0,\n\n\tframeNumber: -1,\n\n\tfinished: false,\n\t_paused: false,\n\n\tfinishedCallback: null,\n\tfinishedCallbackHandler: null,\n\tfinishedCallbackContext: null,\n\n\tframeCallback: null,\n\n\t__ctor: function (anim, seq, fps)\n\t{\n\t\tthis._super.Drawable.__ctor(anim.getImage(), anim.width, anim.height);\n\n\t\tthis.anim = anim;\n\t\tthis.queue = List.Pool.alloc();\n\n\t\tthis.seq = seq;\n\t\tthis.seq_i = 0;\n\n\t\tthis.trans = null;\n\t\tthis.trans_i = 0;\n\t\tthis.trans_t = null;\n\n\t\tthis.frameNumber = -1;\n\t\tthis.finished = false;\n\t\tthis._paused = false;\n\n\t\tthis.finishedCallback = null;\n\t\tthis.finishedCallbackHandler = null;\n\t\tthis.finishedCallbackContext = null;\n\t\tthis.frameCallback = null;\n\n\t\tthis.fps = fps;\n\t\tthis.setFps (this.seq.fps || this.fps);\n\t},\n\n\t__dtor: function ()\n\t{\n\t\tthis.queue.free();\n\n\t\tif (this.finishedCallbackHandler)\n\t\t\tthis.finishedCallbackHandler.free();\n\n\t\tif (this.finishedCallbackContext)\n\t\t\tthis.finishedCallbackContext.free();\n\t},\n\n\tsetFps: function (fps)\n\t{\n\t\tthis.frameSeconds = 1.0 / fps;\n\t\tthis.time = 0;\n\n\t\treturn this;\n\t},\n\n\tpaused: function (value=null)\n\t{\n\t\tif (value === null)\n\t\t\treturn this._paused;\n\n\t\tthis._paused = value;\n\t\treturn this;\n\t},\n\n\tinitialDelay: function (dt)\n\t{\n\t\tthis.time = -dt;\n\t\treturn this;\n\t},\n\n\tonFinished: function (callback)\n\t{\n\t\tthis.finishedCallback = callback;\n\t\treturn this;\n\t},\n\n\tthen: function (callback, context=null)\n\t{\n\t\tif (callback === false && this.finishedCallback === this.thenCallback)\n\t\t{\n\t\t\tthis.finishedCallbackHandler.clear();\n\t\t\tthis.finishedCallbackContext.clear();\n\t\t}\n\n\t\tif (!callback) return this;\n\n\t\tif (this.finishedCallback !== this.thenCallback)\n\t\t{\n\t\t\tthis.finishedCallback = this.thenCallback;\n\t\t\tthis.finishedCallbackHandler = List.Pool.alloc();\n\t\t\tthis.finishedCallbackContext = List.Pool.alloc();\n\t\t}\n\n\t\tthis.finishedCallbackHandler.push(callback);\n\t\tthis.finishedCallbackContext.push(context);\n\t\treturn this;\n\t},\n\n\tthenCallback: function ()\n\t{\n\t\tif (!this.finishedCallbackHandler.length)\n\t\t\treturn false;\n\n\t\tlet context = this.finishedCallbackContext.shift();\n\t\tthis.finishedCallbackHandler.shift()(this, context);\n\t},\n\n\tonFrame: function (fn)\n\t{\n\t\tthis.frameCallback = fn;\n\t\treturn this;\n\t},\n\n\tsetFrame: function (i)\n\t{\n\t\tthis.seq_i = int(i) % this.seq.group.length;\n\t\treturn this;\n\t},\n\n\tgetFrame: function (normalized)\n\t{\n\t\treturn normalized === true ? (this.seq_i / (this.seq.group.length-1)) : this.seq_i;\n\t},\n\n\tgetLength: function ()\n\t{\n\t\treturn this.seq.group.length;\n\t},\n\n\tdraw: function (g, x=0, y=0, width=null, height=null)\n\t{\n\t\tif (this.time < 0)\n\t\t{\n\t\t\tif (!this._paused)\n\t\t\t{\n\t\t\t\tthis.time += this.frameNumber === System.frameNumber ? 0 : System.frameDelta;\n\t\t\t\tthis.frameNumber = System.frameNumber;\n\t\t\t}\n\n\t\t\tif (this.time > 0) this.time = 0;\n\t\t\treturn;\n\t\t}\n\n\t\tif (this.seq_i === this.seq.group.length)\n\t\t{\n\t\t\tlet t = this.seq.group[this.seq_i-1];\n\n\t\t\tif (g !== null)\n\t\t\t{\n\t\t\t\tfor (let i = 0; i < t.length; i++)\n\t\t\t\t\tthis.anim.getFrame(t[i]).draw(g, x, y, width, height);\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tlet t = this.seq.group[this.seq_i];\n\n\t\tif (g !== null)\n\t\t{\n\t\t\tfor (let i = 0; i < t.length; i++)\n\t\t\t\tthis.anim.getFrame(t[i]).draw(g, x, y, width, height);\n\t\t}\n\n\t\tif (!this._paused)\n\t\t{\n\t\t\tthis.time += this.frameNumber === System.frameNumber ? 0 : System.frameDelta;\n\t\t\tthis.frameNumber = System.frameNumber;\n\t\t}\n\n\t\tif (this.time >= this.frameSeconds)\n\t\t{\n\t\t\tconst frameIndex = this.seq_i;\n\n\t\t\tthis.time -= this.frameSeconds;\n\t\t\tthis.seq_i++;\n\n\t\t\tif (this.seq_i === this.seq.group.length)\n\t\t\t{\n\t\t\t\tif (this.trans != null)\n\t\t\t\t{\n\t\t\t\t\tif (++this.trans_i === this.trans.length)\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.trans = null;\n\t\t\t\t\t\tthis.seq = this.trans_t;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t\tthis.seq = this.trans[this.trans_i];\n\n\t\t\t\t\tthis.setFps (this.seq.fps || this.fps);\n\n\t\t\t\t\tthis.seq_i = 0;\n\t\t\t\t\tthis.time = 0;\n\n\t\t\t\t\tthis.finished = false;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tif (this.seq.loop)\n\t\t\t\t\t\tthis.seq_i = 0;\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\tthis.finished = true;\n\n\t\t\t\t\t\tif (this.finishedCallback)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tif (this.finishedCallback(this) === false)\n\t\t\t\t\t\t\t\tthis.finishedCallback = null;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tif (this.queue.length)\n\t\t\t\t\t\tthis.use(this.queue.shift(), true);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (this.frameCallback)\n\t\t\t{\n\t\t\t\tif (this.frameCallback(frameIndex, this.seq.group.length-1, this) === false)\n\t\t\t\t\tthis.frameCallback = null;\n\t\t\t}\n\t\t}\n\t},\n\n\tgetImage: function()\n\t{\n\t\treturn this.anim.getImage();\n\t},\n\n\tgetDrawable: function()\n\t{\n\t\treturn this;\n\t},\n\n\tadvance: function ()\n\t{\n\t\tthis.paused (false);\n\t\tthis.draw (null, 0, 0);\n\t},\n\n\tgetSequenceName: function ()\n\t{\n\t\treturn (this.trans === null ? this.seq : this.trans_t).name;\n\t},\n\n\tuse: function (seqName, force=false)\n\t{\n\t\tlet seq = this.trans === null ? this.seq : this.trans_t;\n\n\t\tif (seq.name === seqName && !this.finished && force !== true)\n\t\t\treturn false;\n\n\t\tif (seq.trans && seq.trans[seqName])\n\t\t{\n\t\t\tthis.trans_t = this.anim.a.seq[seqName];\n\n\t\t\tthis.trans = seq.trans[seqName];\n\t\t\tthis.trans_i = 0;\n\n\t\t\tthis.seq = this.trans[this.trans_i];\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (force === true)\n\t\t\t\tthis.trans = null;\n\n\t\t\tthis.seq = this.anim.a.seq[seqName];\n\t\t}\n\n\t\tthis.setFps (this.seq.fps || this.fps);\n\n\t\tthis.seq_i = 0;\n\t\tthis.time = 0;\n\n\t\tthis.finished = false;\n\t\treturn true;\n\t},\n\n\tplay: function (name)\n\t{\n\t\tthis.use(name);\n\t\treturn this;\n\t},\n\n\tsetQueue: function (list)\n\t{\n\t\tif (!List.isInstance(list))\n\t\t\tthrow new Error('setQueue: Parameter must be an instance of List');\n\n\t\tif (this.queue != null)\n\t\t\tthis.queue.clear().free();\n\n\t\tthis.queue = list;\n\t\tthis.use(this.queue.shift(), true);\n\t},\n\n\tenqueue: function (seqName, force=false)\n\t{\n\t\tlet seq = this.trans === null ? this.seq : this.trans_t;\n\n\t\tlet lastName = this.queue.length > 0 ? this.queue[this.queue.length-1] : seq.name;\n\n\t\tif (seq.name === seqName && seq.loop)\n\t\t\treturn this;\n\n\t\tif (lastName === seqName && !force)\n\t\t\treturn this;\n\n\t\tif (seq.loop || this.finished)\n\t\t{\n\t\t\tthis.use(seqName, true);\n\t\t\treturn this;\n\t\t}\n\n\t\tthis.queue.push(seqName);\n\t\treturn this;\n\t}\n});\n\nRecycler.createPool(Animation);\n\n/* ********************************************************** */\nexport default Spritesheet.extend\n({\n\tclassName: 'SpritesheetAnimation',\n\n\tdefaultDrawable: null,\n\tsharedAnim: null,\n\n\tr: null,\n\ta: null,\n\n\t__ctor: function (r)\n\t{\n\t\tif (!r.anim) throw new Error (\"Animation descriptors not found.\");\n\n\t\tthis._super.Spritesheet.__ctor (r);\n\n\t\tthis.r = r;\n\t\tthis.r.wrapper = this;\n\n\t\tlet t = this.a = this.r.anim;\n\n\t\tif (t.initialized) return;\n\n\t\tif (!t.def) t.def = 'def';\n\t\tif (!t.seq) t.seq = { };\n\n\t\t// Create default sequence if it wasn't defined.\n\t\tif (!t.seq[t.def] && (t.def == 'def' || t.def == 'defloop'))\n\t\t{\n\t\t\tlet p = { loop: (t.def == 'def' ? false : true), group: [ ] };\n\n\t\t\tfor (let i = 0; i < this.numFrames; i++) {\n\t\t\t\tp.group.push([i]);\n\t\t\t}\n\n\t\t\tt.seq[t.def] = p;\n\t\t}\n\n\t\tif (!t.seq[t.def])\n\t\t\tthrow new Error ('Undefined default sequence: ' + t.def);\n\n\t\tif (!t.fps) t.fps = 25;\n\n\t\tt.def = t.seq[t.def];\n\n\t\tlet frameIndex = 0;\n\n\t\tfor (let i in t.seq)\n\t\t{\n\t\t\tt.seq[i].name = i;\n\n\t\t\tif (!t.seq[i].loop)\n\t\t\t\tt.seq[i].loop = false;\n\n\t\t\tif (typeof(t.seq[i].group) == 'string')\n\t\t\t{\n\t\t\t\tlet a, b, c;\n\n\t\t\t\tif (t.seq[i].group.indexOf(' ') != -1)\n\t\t\t\t{\n\t\t\t\t\ta = t.seq[i].group.split(' ');\n\t\t\t\t\tt.seq[i].group = [ ];\n\n\t\t\t\t\tfor (let j in a)\n\t\t\t\t\t\tt.seq[i].group.push([int(a[j])]);\n\t\t\t\t}\n\t\t\t\telse if (t.seq[i].group.indexOf('-') != -1)\n\t\t\t\t{\n\t\t\t\t\tc = t.seq[i].group.split('-');\n\t\t\t\t\t\n\t\t\t\t\ta = int(c[0]);\n\t\t\t\t\tb = int(c[1]);\n\n\t\t\t\t\tt.seq[i].group = [ ];\n\n\t\t\t\t\tif (a < b) {\n\t\t\t\t\t\tfor (c = a; c <= b; c++)\n\t\t\t\t\t\t\tt.seq[i].group.push([c]);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tfor (c = a; c >= b; c--)\n\t\t\t\t\t\t\tt.seq[i].group.push([c]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\ta = int(t.seq[i].group);\n\t\t\t\t\tt.seq[i].group = [ ];\n\n\t\t\t\t\twhile (a--) t.seq[i].group.push([frameIndex++]);\n\t\t\t\t}\n\n\t\t\t\tt.seq[i].count = t.seq[i].group.length;\n\t\t\t}\n\t\t}\n\n\t\tif (t.trans)\n\t\t{\n\t\t\tfor (let i in t.trans)\n\t\t\t{\n\t\t\t\tt.seq[i].trans = t.trans[i];\n\n\t\t\t\tfor (let j in t.trans[i])\n\t\t\t\t{\n\t\t\t\t\tfor (let k = 0; k < t.trans[i][j].length; k++)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet n = t.trans[i][j][k];\n\n\t\t\t\t\t\tif (!t.seq[n]) throw new Error ('Undefined sequence: ' + n);\n\t\t\t\t\t\tt.trans[i][j][k] = t.seq[n];\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tt.initialized = true;\n\t},\n\n\tgetSharedAnimation: function (initialseq=null)\n\t{\n\t\tif (this.sharedAnim === null)\n\t\t{\n\t\t\tthis.sharedAnim = Animation.Pool.alloc(this, initialseq ? this.a.seq[initialseq] : this.a.def, this.a.fps);\n\t\t\tthis.sharedAnim.lockInstance(true);\n\n\t\t\treturn this.sharedAnim;\n\t\t}\n\n\t\treturn this.sharedAnim.play(initialseq ? initialseq : this.a.def.name);\n\t},\n\n\tgetAnimation: function (initialseq=null, fps=null)\n\t{\n\t\treturn Animation.Pool.alloc(this, initialseq ? this.a.seq[initialseq] : this.a.def, fps || this.a.fps);\n\t},\n\n\tgetSequence: function (name)\n\t{\n\t\treturn this.a.seq[name];\n\t},\n\n\tgetDrawable: function()\n\t{\n\t\tif (this.defaultDrawable === null)\n\t\t\tthis.defaultDrawable = this.getAnimation();\n\n\t\treturn this.defaultDrawable;\n\t}\n});\n","/*\n**\tresources/spritefont.js\n**\n**\tCopyright (c) 2016-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport { Class } from 'rinn';\nimport Canvas from '../system/canvas.js';\n\n//![import \"../system/canvas\"]\n\n/*\n\tfont: {\n\t\tsheetWidth: int?, charWidth: int, charHeight: int, charset: string, widths: [char, width, ...],\n\t\treverseDraw: bool?, paddingX: int?, paddingY: int?, spacingX: int?, spacingY: int?\n\t}\n*/\n\nexport default Class.extend\n({\n\t__ctor: function (r)\n\t{\n\t\tif (r.type != 'image' || !r.font)\n\t\t\tthrow new Error ('Resource is not a sprite font.');\n\n\t\tif (!r.font.sheetWidth)\n\t\t\tr.font.sheetWidth = r.width;\n\n\t\tlet r_scale = r.data.width / r.font.sheetWidth;\n\t\tlet v_scale = r.width / r.font.sheetWidth;\n\n\t\tthis.r_charWidth = (r.font.charWidth * r_scale);\n\t\tthis.r_charHeight = (r.font.charHeight * r_scale);\n\n\t\tthis.charWidth = (r.font.charWidth * v_scale);\n\t\tthis.charHeight = (r.font.charHeight * v_scale);\n\n\t\tthis.paddingX = (r.font.paddingX || 0) * v_scale;\n\t\tthis.paddingY = (r.font.paddingY || 0) * v_scale;\n\n\t\tthis.spacingX = (r.font.spacingX || 0) * v_scale;\n\t\tthis.spacingY = (r.font.spacingY || 0) * v_scale;\n\n\t\tthis.reverseDraw = r.font.reverseDraw || false;\n\n\t\tlet cols = int(r.font.sheetWidth / r.font.charWidth);\n\n\t\tthis.r = r;\n\t\tthis.r.wrapper = this;\n\n\t\tlet n = r.font.charset.length;\n\t\tlet k = 0;\n\t\tlet y = 0;\n\n\t\tthis.charTable = { };\n\n\t\twhile (k < n)\n\t\t{\n\t\t\tlet x = 0;\n\n\t\t\tfor (let i = 0; i < cols && k < n; i++)\n\t\t\t{\n\t\t\t\tlet c = r.font.charset[k++];\n\n\t\t\t\tthis.charTable[c] = { hidden: false, x: x, y: y, charWidth: this.charWidth, r_charWidth: this.r_charWidth, spacingX: 0 };\n\n\t\t\t\tx += this.r_charWidth;\n\t\t\t}\n\n\t\t\ty += this.r_charHeight;\n\t\t}\n\n\t\tif (!(' ' in this.charTable))\n\t\t\tthis.charTable[' '] = { hidden: true, charWidth: int((this.charWidth + this.paddingX)*2/3), r_charWidth: this.r_charWidth, spacingX: 0 };\n\n\t\tif (!r.font.widths) return;\n\n\t\tn = r.font.widths.length;\n\n\t\tfor (let i = 0; i < n; i += 2)\n\t\t{\n\t\t\tlet w = r.font.widths[i+1] * v_scale;\n\t\t\tlet s = r.font.widths[i];\n\n\t\t\tif (typeof(s) === 'number')\n\t\t\t\ts = String.fromCharCode(s);\n\n\t\t\tfor (let j = 0; j < s.length; j++)\n\t\t\t{\n\t\t\t\tif (s[j] in this.charTable)\n\t\t\t\t\tthis.charTable[s[j]].spacingX = w - this.charTable[s[j]].charWidth;\n\t\t\t}\n\t\t}\n\t},\n\n\tdrawText: function (g, x, y, text)\n\t{\n\t\tlet n = text.length;\n\n\t\tlet pX = -2*this.paddingX + this.spacingX;\n\n\t\tx -= this.paddingX;\n\t\ty -= this.paddingY;\n\n\t\tif (!this.reverseDraw)\n\t\t{\n\t\t\tfor (let i = 0; i < n; i++)\n\t\t\t{\n\t\t\t\tlet c = this.charTable[text[i]];\n\t\t\t\tif (!c) continue;\n\n\t\t\t\tif (!c.hidden)\n\t\t\t\t\tg.drawImage (this.r.data, c.x, c.y, c.r_charWidth, this.r_charHeight, x, y, c.charWidth, this.charHeight, null, null, c.charWidth, this.charHeight);\n\n\t\t\t\tx += c.charWidth + pX + c.spacingX;\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tfor (let i = 0; i < n-1; i++)\n\t\t\t{\n\t\t\t\tlet c = this.charTable[text[i]];\n\t\t\t\tif (!c) continue;\n\n\t\t\t\tx += c.charWidth + pX;\n\t\t\t}\n\n\t\t\tfor (let i = n-1; i >= 0; i--)\n\t\t\t{\n\t\t\t\tlet c = this.charTable[text[i]];\n\t\t\t\tif (!c) continue;\n\n\t\t\t\tif (!c.hidden)\n\t\t\t\t\tg.drawImage (this.r.data, c.x, c.y, c.r_charWidth, this.r_charHeight, x, y, c.charWidth, this.charHeight, null, null, c.charWidth, this.charHeight);\n\n\t\t\t\tx -= c.charWidth + pX + c.spacingX;\n\t\t\t}\n\t\t}\n\t},\n\n\tmeasureWidth: function (text)\n\t{\n\t\tlet n = text.length;\n\t\tlet x = 0;\n\n\t\tlet pX = -2*this.paddingX + this.spacingX;\n\n\t\tfor (let i = 0; i < n; i++)\n\t\t{\n\t\t\tlet c = this.charTable[text[i]];\n\t\t\tif (!c) continue;\n\n\t\t\tx += c.charWidth + pX + c.spacingX;\n\t\t}\n\n\t\treturn x;\n\t},\n\n\tmeasureHeight: function (text)\n\t{\n\t\treturn this.charHeight - 2*this.paddingY + this.spacingY;\n\t}\n});\n\n\nCanvas.prototype.drawText = function (r, x, y, text)\n{\n\tr.drawText (this, x, y, text);\n};\n\nCanvas.prototype.drawTextAligned = function (r, x, y, w, h, ax, ay, text)\n{\n\tif (ax == 0) // Align-Center\n\t\tx = x + ((w - r.measureWidth(text)) >> 1);\n\telse if (ax < 0) // Align-Left\n\t\tx = x - ax - 1;\n\telse if (ax > 0) // Align-Right\n\t\tx = x + w - ax + 1 - r.measureWidth(text);\n\n\tif (ay == 0) // Align-Center\n\t\ty = y + ((h - r.measureHeight(text)) >> 1);\n\telse if (ay < 0) // Align-Top\n\t\ty = y - ay - 1;\n\telse if (ay > 0) // Align-Bottom\n\t\ty = y + h - ay + 1 - r.measureHeight(text);\n\n\tr.drawText (this, x, y, text);\n};\n\nCanvas.prototype.drawTextAligned2 = function (r, bounds, ax, ay, text)\n{\n\tthis.drawTextAligned (r, bounds.x1, bounds.y1, bounds.width(), bounds.height(), ax, ay, text);\n};\n","/*\n**\tresources/sound.js\n**\n**\tCopyright (c) 2016-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport { Class } from 'rinn';\nimport Resources from './resources.js';\n\n//![import \"./resources\"]\n\n/*\n\ttrack: string (music|sfx)\n*/\n\nconst Sound = Class.extend\n({\n\tr: null,\n\n\t__ctor: function (r)\n\t{\n\t\tif (r.type != \"audio\")\n\t\t\tthrow new Error (\"Resource is not audio.\");\n\n\t\tthis.r = r;\n\t\tthis.r.wrapper = this;\n\n\t\tthis.track = Sound[this.r.track.toUpperCase()];\n\t},\n\n\tplay: function (callback, volume)\n\t{\n\t\treturn Sound.play (this, callback, volume);\n\t},\n\n\tplayLoop: function (callback, volume)\n\t{\n\t\treturn Sound.playLoop (this, callback, volume);\n\t}\n});\n\nSound.ENGINE_HTML5 = 1;\nSound.ENGINE_WEBAUDIO = 2;\nSound.ENGINE_NATIVEAUDIO = 3;\n\nObject.assign(Sound,\n{\n\tMASTER: {\n\t\tenabled: true,\n\t\tvolume: 1\n\t},\n\n\tSFX: {\n\t\tenabled: true,\n\t\tvolume: 1\n\t},\n\n\tMUSIC: {\n\t\tenabled: true,\n\t\tvolume: 0.8\n\t},\n\n\tVOICE: {\n\t\tenabled: true,\n\t\tvolume: 1\n\t},\n\n\tMAX_POOL_SIZE: 100,\n\n\tpool: [ ],\n\tactive: [ ],\n\n\tregister: function (node)\n\t{\n\t\tif (node.registered) return;\n\n\t\tnode.registered = true;\n\t\tthis.active.push(node);\n\t},\n\n\tunregister: function (node)\n\t{\n\t\tif (!node.registered) return;\n\n\t\tnode.registered = false;\n\n\t\tvar i = Sound.active.indexOf(node);\n\t\tif (i == -1) return;\n\n\t\tSound.active.splice(i, 1);\n\t},\n\n\tupdateNode: function (node, cmd)\n\t{\n\t\tswitch (node.snd.r.engine)\n\t\t{\n\t\t\tcase Sound.ENGINE_WEBAUDIO:\n\t\t\t\treturn this.updateNode_webaudio(node, cmd);\n\n\t\t\tcase Sound.ENGINE_NATIVEAUDIO:\n\t\t\t\treturn this.updateNode_nativeaudio(node, cmd);\n\t\t}\n\n\t\treturn this.updateNode_audio(node, cmd);\n\t},\n\n\t// Web Audio.\n\talloc_webaudio: function (node)\n\t{\n\t\tnode.gainNode = audioContext.createGain();\n\t\tnode.gainNode.gain.value = 0;\n\t\tnode.gainNode.connect(audioContext.destination);\n\n\t\tnode.res = audioContext.createBufferSource();\n\t\tnode.res.buffer = node.snd.r.data;\n\t\tnode.res.loop = false;\n\t\tnode.res.connect(node.gainNode);\n\t\tnode.res.node = node;\n\t},\n\n\tfree_webaudio: function (node)\n\t{\n\t\tif (!node.res) return;\n\n\t\tnode.gainNode.disconnect();\n\n\t\tnode.res = null;\n\t\tnode.gainNode = null;\n\t},\n\n\t// Native Audio (Cordova plugin).\n\talloc_nativeaudio: function (node)\n\t{\n\t\tnode.res = true;\n\t},\n\n\tfree_nativeaudio: function (node)\n\t{\n\t\tnode.res = false;\n\t},\n\n\t// HTML5 Audio.\n\talloc_audio: function (node)\n\t{\n\t\tif (!this.pool.length)\n\t\t\titem = node.cloneNode();\n\t\telse\n\t\t\titem = this.pool.pop();\n\n\t\titem._src = node.src;\n\t\treturn item;\n\t},\n\n\tfree_audio: function (node)\n\t{\n\t\tif (this.pool.length == this.MAX_POOL_SIZE)\n\t\t\treturn;\n\n\t\t//BUG: This causes a GET request of \"/null\" on Chromium.\n\t\t//node.src = null;\n\n\t\tthis.pool.push(node);\n\t},\n\n\t/* *********************** */\n\tupdateNode_webaudio: function (node, cmd)\n\t{\n\t\tif (!node) return null;\n\n\t\tvar volume = Sound.MASTER.volume * node.snd.track.volume * node.volume;\n\n\t\tswitch (cmd)\n\t\t{\n\t\t\t/* **************** */\n\t\t\tcase 'play':\n\t\t\t\tif (node.playing) break;\n\n\t\t\t\tif (!node.res)\n\t\t\t\t\tSound.alloc_webaudio(node);\n\n\t\t\t\tnode.playTime = hrnow();\n\t\t\t\tnode.playing = true;\n\t\t\t\tnode.pause = false;\n\n\t\t\t\tnode.res.onended = Sound.onended_webaudio;\n\t\t\t\tnode.gainNode.gain.value = volume;\n\n\t\t\t\ttry {\n\t\t\t\t\tnode.res.start(0, node.startTime/1000.0);\n\t\t\t\t}\n\t\t\t\tcatch (e) {\n\t\t\t\t\tSound.free_webaudio(node);\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\tSound.register(node);\n\t\t\t\tbreak;\n\n\t\t\t/* **************** */\n\t\t\tcase 'setvolume':\n\t\t\t\tif (!node.res) break;\n\n\t\t\t\tnode.gainNode.gain.value = volume;\n\t\t\t\tbreak;\n\n\t\t\t/* **************** */\n\t\t\tcase 'stop':\n\t\t\t\tif (!node.playing && node.paused)\n\t\t\t\t{\n\t\t\t\t\tnode.startTime = 0;\n\t\t\t\t\tnode.paused = false;\n\n\t\t\t\t\tSound.free_webaudio(node);\n\t\n\t\t\t\t\tif (node.callback) node.callback();\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (!node.res) break;\n\n\t\t\t\tnode.startTime = 0;\n\t\t\t\tnode.playing = false;\n\t\t\t\tnode.pause = false;\n\t\t\t\tnode.res.onended = null;\n\n\t\t\t\tSound.unregister(node);\n\t\t\t\tnode.res.stop();\n\n\t\t\t\tSound.free_webaudio(node);\n\n\t\t\t\tif (node.callback) node.callback();\n\t\t\t\tbreak;\n\n\t\t\t/* **************** */\n\t\t\tcase 'pause':\n\t\t\t\tif (!node.playing || !node.res)\n\t\t\t\t\tbreak;\n\n\t\t\t\tnode.startTime += hrnow() - node.playTime;\n\t\t\t\tnode.playing = false;\n\t\t\t\tnode.pause = true;\n\t\t\t\tnode.res.onended = null;\n\n\t\t\t\tSound.unregister(node);\n\t\t\t\tnode.res.stop();\n\n\t\t\t\tSound.free_webaudio(node);\n\t\t\t\tbreak;\n\n\t\t\t/* **************** */\n\t\t\tcase 'softstop':\n\t\t\t\tif (!node.playing && node.paused)\n\t\t\t\t{\n\t\t\t\t\tnode.startTime = 0;\n\t\t\t\t\tnode.paused = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (!node.playing || !node.res)\n\t\t\t\t\tbreak;\n\n\t\t\t\tnode.startTime = 0;\n\t\t\t\tnode.playing = false;\n\t\t\t\tnode.pause = false;\n\n\t\t\t\tnode.res.loop = false;\n\t\t\t\tbreak;\t\n\t\t}\n\n\t\treturn node;\n\t},\n\n\tonended_webaudio: function (e)\n\t{\n\t\tvar node = e.currentTarget.node;\n\n\t\tif (node.playing && node.loop != 0)\n\t\t{\n\t\t\tSound.free_webaudio(node);\n\n\t\t\tif (node.loop != -1)\n\t\t\t\tnode.loop--;\n\n\t\t\tnode.startTime = 0;\n\t\t\tnode.playing = false;\n\t\t\tnode.pause = false;\n\n\t\t\tSound.updateNode_webaudio (node, 'play');\n\t\t\treturn;\n\t\t}\n\n\t\tnode.res.onended = null;\n\t\tnode.res.volume = 0;\n\n\t\tSound.updateNode_webaudio (node, 'stop');\n\t},\n\n\t/* *********************** */\n\tupdateNode_nativeaudio: function (node, cmd)\n\t{\n\t\tif (!node) return null;\n\n\t\tswitch (cmd)\n\t\t{\n\t\t\t/* **************** */\n\t\t\tcase 'play':\n\t\t\t\tif (node.playing) break;\n\n\t\t\t\tif (!node.res)\n\t\t\t\t\tSound.alloc_nativeaudio(node);\n\n\t\t\t\tnode.playing = true;\n\t\t\t\tnode.pause = false;\n\n\t\t\t\ttry {\n\t\t\t\t\tglobal.plugins.NativeAudio.play (node.snd.r.data, null, null, function() { Sound.onended_nativeaudio(node); } );\n\t\t\t\t}\n\t\t\t\tcatch (e) {\n\t\t\t\t\tSound.free_nativeaudio(node);\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\tSound.register(node);\n\t\t\t\tbreak;\n\n\t\t\t/* **************** */\n\t\t\tcase 'setvolume':\n\t\t\t\t// Unsupported.\n\t\t\t\tbreak;\n\n\t\t\t/* **************** */\n\t\t\tcase 'stop':\n\t\t\t\tif (!node.res) break;\n\n\t\t\t\tnode.playing = false;\n\t\t\t\tnode.pause = false;\n\n\t\t\t\tSound.unregister(node);\n\t\t\t\tglobal.plugins.NativeAudio.stop (node.snd.r.data, null);\n\n\t\t\t\tSound.free_nativeaudio(node);\n\n\t\t\t\tif (node.callback) node.callback();\n\t\t\t\tbreak;\n\n\t\t\t/* **************** */\n\t\t\tcase 'pause':\n\t\t\t\t// Unsupported.\n\t\t\t\tbreak;\n\n\t\t\t/* **************** */\n\t\t\tcase 'softstop':\n\t\t\t\t// Unsupported.\n\t\t\t\tbreak;\t\n\t\t}\n\n\t\treturn node;\n\t},\n\n\tonended_nativeaudio: function (node)\n\t{\n\t\tSound.updateNode_nativeaudio (node, 'stop');\n\t},\n\n\tupdateNode_audio: function (node, cmd)\n\t{\n\t\tif (!node) return null;\n\n\t\tvar volume = Sound.MASTER.volume * node.snd.track.volume * node.volume;\n\n\t\tswitch (cmd)\n\t\t{\n\t\t\t/* **************** */\n\t\t\tcase 'play':\n\t\t\t\tif (node.playing) break;\n\n\t\t\t\tif (!node.res)\n\t\t\t\t{\n\t\t\t\t\tnode.res = Sound.alloc_audio (node.snd.r.data);\n\t\t\t\t\tnode.res.node = node;\n\t\t\t\t\tnode.res.src = node.res._src;\n\t\t\t\t}\n\n\t\t\t\tnode.playTime = hrnow();\n\t\t\t\tnode.playing = true;\n\t\t\t\tnode.pause = false;\n\n\t\t\t\tnode.res.onended = Sound.onended_audio;\n\t\t\t\tnode.res.currentTime = node.startTime/1000.0;\n\t\t\t\tnode.res.volume = volume;\n\n\t\t\t\ttry {\n\t\t\t\t\tnode.res.play();\n\t\t\t\t}\n\t\t\t\tcatch (e) {\n\t\t\t\t\tSound.free_audio (node.res);\n\t\t\t\t\tnode.res = null;\n\t\t\t\t\treturn null;\n\t\t\t\t}\n\n\t\t\t\tSound.register(node);\n\t\t\t\tbreak;\n\n\t\t\t/* **************** */\n\t\t\tcase 'setvolume':\n\t\t\t\tif (!node.res) break;\n\n\t\t\t\tnode.res.volume = volume;\n\t\t\t\tbreak;\n\n\t\t\t/* **************** */\n\t\t\tcase 'stop':\n\t\t\t\tif (!node.playing && node.paused)\n\t\t\t\t{\n\t\t\t\t\tnode.startTime = 0;\n\t\t\t\t\tnode.paused = false;\n\n\t\t\t\t\tSound.free_audio (node.res);\n\t\t\t\t\tnode.res = null;\n\t\n\t\t\t\t\tif (node.callback) node.callback();\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (!node.res) break;\n\n\t\t\t\tnode.startTime = 0;\n\t\t\t\tnode.playing = false;\n\t\t\t\tnode.pause = false;\n\n\t\t\t\tSound.unregister (node);\n\t\t\t\tnode.res.pause();\n\n\t\t\t\tSound.free_audio (node.res);\n\t\t\t\tnode.res = null;\n\n\t\t\t\tif (node.callback) node.callback();\n\t\t\t\tbreak;\n\n\t\t\t/* **************** */\n\t\t\tcase 'pause':\n\t\t\t\tif (!node.playing || !node.res)\n\t\t\t\t\tbreak;\n\n\t\t\t\tnode.startTime += hrnow() - node.playTime;\n\t\t\t\tnode.playing = false;\n\t\t\t\tnode.pause = true;\n\n\t\t\t\tSound.unregister (node);\n\t\t\t\tnode.res.pause();\n\t\t\t\tbreak;\n\n\t\t\t/* **************** */\n\t\t\tcase 'softstop':\n\t\t\t\tif (!node.playing && node.paused)\n\t\t\t\t{\n\t\t\t\t\tnode.startTime = 0;\n\t\t\t\t\tnode.paused = false;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (!node.playing || !node.res)\n\t\t\t\t\tbreak;\n\n\t\t\t\tnode.startTime = 0;\n\t\t\t\tnode.playing = false;\n\t\t\t\tnode.pause = false;\n\t\t\t\tbreak;\t\n\t\t}\n\n\t\treturn node;\n\t},\n\n\tonended_audio: function (e)\n\t{\n\t\tvar node = e.currentTarget.node;\n\n\t\tif (node.playing && node.loop != 0)\n\t\t{\n\t\t\tif (node.loop != -1)\n\t\t\t\tnode.loop--;\n\n\t\t\tnode.startTime = 0;\n\t\t\tnode.playing = false;\n\t\t\tnode.pause = false;\n\n\t\t\tSound.updateNode_audio (node, 'play');\n\t\t\treturn;\n\t\t}\n\n\t\tnode.res.onended = null;\n\t\tnode.res.volume = 0;\n\n\t\tSound.updateNode_audio (node, 'stop');\n\t},\n\n\t/* *************************************** */\n\t/* PUBLIC */\n\n\tenableTrack: function (track)\n\t{\n\t\tif (!track) return;\n\n\t\ttrack.enabled = true;\n\t},\n\n\tdisableTrack: function (track)\n\t{\n\t\tif (!track) return;\n\n\t\ttrack.enabled = false;\n\t},\n\n\tsetVolume: function (track, value)\n\t{\n\t\tif (!track) return;\n\n\t\ttrack.volume = value;\n\t},\n\n\tcreateNode: function (snd, volume)\n\t{\n\t\tvar node = { };\n\n\t\tnode.startVolume = volume;\n\t\tnode.volume = volume;\n\t\tnode.snd = snd;\n\t\tnode.loop = 0;\n\t\tnode.playing = false;\n\t\tnode.paused = false;\n\t\tnode.startTime = 0;\n\t\tnode.playTime = 0;\n\t\tnode.callback = null;\n\t\tnode.timer = null;\n\t\tnode.res = null;\n\n\t\treturn node;\n\t},\n\n\tplay: function (snd, completeCallback, volume)\n\t{\n\t\tif (!this.MASTER.enabled || !snd || !snd.track.enabled)\n\t\t\treturn null;\n\n\t\tvar volume = (volume !== undefined && volume !== null) ? volume : 1.0;\n\n\t\tvar node = this.createNode(snd, volume);\n\t\tnode.callback = completeCallback;\n\n\t\treturn this.updateNode(node, 'play');\n\t},\n\n\tplayLoop: function (snd, completeCallback, volume)\n\t{\n\t\tif (!this.MASTER.enabled || !snd || !snd.track.enabled)\n\t\t\treturn null;\n\n\t\tvolume = (volume !== undefined && volume !== null) ? volume : 1.0;\n\t\n\t\tvar node = this.createNode(snd, volume);\n\t\tnode.callback = completeCallback;\n\t\tnode.loop = -1;\n\n\t\treturn this.updateNode(node, 'play');\n\t},\n\n\tstop: function (node, callback)\n\t{\n\t\tif (!node) return null;\n\n\t\tif (callback && callback !== true) node.callback = callback;\n\t\treturn this.updateNode(node, callback === true ? 'stop' : 'softstop');\n\t},\n\n\tpause: function (node)\n\t{\n\t\tif (!node) return null;\n\n\t\treturn this.updateNode(node, 'pause');\n\t},\n\n\tresume: function (node)\n\t{\n\t\tif (!node) return null;\n\n\t\treturn this.updateNode (node, 'play');\n\t},\n\n\tfadeOut: function (node, millis, callback)\n\t{\n\t\tif (!node) return;\n\n\t\tif (!node.playing || node.timer)\n\t\t{\n\t\t\tif (callback) callback();\n\t\t\treturn;\n\t\t}\n\n\t\tvar startTime = hrnow();\n\t\tnode.startVolume = node.volume;\n\n\t\tnode.timer = setInterval (function()\n\t\t{\n\t\t\tvar t = ((hrnow() - startTime) / millis);\n\t\t\tif (t > 1) t = 1;\n\n\t\t\tnode.volume = node.startVolume*(1-t);\n\t\t\tSound.updateNode(node, 'setvolume');\n\n\t\t\tif (t == 1)\n\t\t\t{\n\t\t\t\tclearInterval (node.timer);\n\t\t\t\tnode.timer = null;\n\n\t\t\t\tif (callback === true)\n\t\t\t\t\tSound.updateNode(node, 'stop');\n\t\t\t\telse\n\t\t\t\t\tSound.updateNode(node, 'pause');\n\n\t\t\t\tif (callback && callback !== true)\n\t\t\t\t\tcallback();\n\t\t\t}\n\t\t},\n\t\t50);\n\t},\n\n\tfadeIn: function (node, millis, callback)\n\t{\n\t\tif (!node) return;\n\n\t\tif (node.playing || node.timer)\n\t\t{\n\t\t\tif (callback) callback();\n\t\t\treturn;\n\t\t}\n\n\t\tvar startTime = hrnow();\n\n\t\tnode.volume = 0;\n\t\tthis.updateNode(node, 'play');\n\n\t\tnode.timer = setInterval (function()\n\t\t{\n\t\t\tvar t = ((hrnow() - startTime) / millis);\n\t\t\tif (t > 1) t = 1;\n\n\t\t\tnode.volume = node.startVolume*t;\n\t\t\tSound.updateNode(node, 'setvolume');\n\n\t\t\tif (t == 1)\n\t\t\t{\n\t\t\t\tclearInterval (node.timer);\n\t\t\t\tnode.timer = null;\n\n\t\t\t\tif (callback) callback();\n\t\t\t}\n\t\t},\n\t\t50);\n\t}\n});\n\n/**\n * \tCreates a descriptor for an audio resource.\n */\nResources.Audio = function (src, opts=null)\n{\n\treturn { type: \"audio\", wrapper: \"Sound\", src: src, ...opts };\n};\n\nexport default Sound;\n","/*\n**\tresources/resources.js\n**\n**\tCopyright (c) 2016-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport { Rinn } from 'rinn';\nimport System from '../system/system.js';\nimport Canvas from '../system/canvas.js';\nimport Log from '../system/log.js';\n\n//[import '../system/system']\n//[import '../system/canvas']\n//[import '../system/log']\n\nconst Resources = { };\n\nimport * as Wrappers from './wrappers.js';\n\nlet reported = false;\n\n\n//!namespace Resources\n\n\t//!type ConfigOptions =\n\n\t\t/**\n\t\t * Enables integer scaling. When enabled, calling `resizeImage` with `pixelated` parameter set to `true` will cause images to be resized to integer\n\t\t * factors. When disabled, images will be resized using the half/double method to eventually end up reaching the exact target size.\n\t\t *\n\t\t * @default true\n\t\t * !integerScalingEnabled?: boolean;\n\t\t */\n\t\t/**\n\t\t * Default value for the `pixelated` parameter of image resources. Controls whether to use integer scaling when resizing images. Also controls the default\n\t\t * scaling filter (LINEAR/NEAREST) the image will use when converted to a WebGL2 texture.\n\t\t * \n\t\t * @default false\n\t\t * !pixelated?: boolean;\n\t\t */\n\t\t/**\n\t\t * Default value for the `filter` parameter of image resources. When an image does not have the `pixelated` property nor `filter`, this value will be used.\n\t\t * \n\t\t * @default NEAREST\n\t\t * !filter?: 'LINEAR'|'NEAREST';\n\t\t */\n\t\t/**\n\t\t * Default value for the `original` parameter of image resources. When set to `true`, no resizing will take place on the image resource at all and the\n\t\t * original will be used as-is.\n\t\t * \n\t\t * @default false\n\t\t * !original?: boolean;\n\t\t */\n\n\t//!/type\n\n//!/namespace\n\n//:/**\n//: * Provides functionality to load and manipulate resources (images, audio, etc).\n//: */\n\n//!class Resources\n\nObject.assign(Resources,\n{\n\t/**\n\t * Enables integer scaling. When enabled, calling `resizeImage` with `pixelated` parameter set to `true` will cause images to be resized to integer\n\t * factors. When disabled, images will be resized using the half/double method to eventually end up reaching the exact target size.\n\t *\n\t * @default true\n\t * !static integerScalingEnabled: boolean;\n\t */\n\tintegerScalingEnabled: true,\n\n\t/**\n\t * Default value for the `pixelated` parameter of image resources. Controls whether to use integer scaling when resizing images. Also controls the default\n\t * scaling filter (LINEAR/NEAREST) the image will use when converted to a WebGL2 texture.\n\t * \n\t * @default false\n\t * !static pixelated: boolean;\n\t */\n\tpixelated: false,\n\n\t/**\n\t * Default value for the `filter` parameter of image resources. When an image does not have the `pixelated` property nor `filter`, this value will be used.\n\t * \n\t * @default LINEAR\n\t * !static filter: 'LINEAR'|'NEAREST';\n\t */\n\tfilter: 'LINEAR',\n\n\t/**\n\t * Default value for the `original` parameter of image resources. When set to `true`, no resizing will take place on the image resource at all and the\n\t * original will be used as-is.\n\t * \n\t * @default false\n\t * !static original: boolean;\n\t */\n\toriginal: false,\n\n\t/**\n\t * Configures the resources object with the specified options.\n\t * !static config (options: Resources.ConfigOptions) : void;\n\t */\n\tconfig: function (opts)\n\t{\n\t\tif (opts !== null)\n\t\t\tObject.assign(this, opts);\n\t},\n\n\t/**\n\t * Loads a list of resources. The list parameter is actually a dictionary with objects as shown in the example below.\n\t *\n\t * { type: \"image\", wrapper: \"\", src: \"assets/ui/btn-left.png\", width: 64, \\[ height: 64 \\], scale: 1, pixelated: false, filter: null, original: false }\n\t * { type: \"images\", wrapper: \"\", src: \"assets/ui/##.png\", count: 16, width: 64, \\[ height: 64 \\], pixelated: false }\n\t * { type: \"audio\", wrapper: \"\", src: \"assets/ui/tap.wav\", track: \"sfx|music\" }\n\t * { type: \"audios\", wrapper: \"\", src: \"assets/ui/snd-##.wav\", count: 4 }\n\t * { type: \"json\", wrapper: \"\", src: \"assets/config.json\" }\n\t * { type: \"data\", wrapper: \"\", src: \"assets/config.dat\" }\n\t * { type: \"text\", wrapper: \"\", src: \"assets/config.frag\" }\n\t * { type: \"object\", wrapper: \"\" }\n\t * \n\t * @param list - Map of resources to load.\n\t * @param progressCallback - Executed once for every resource loaded.\n\t * @param completeCallback - Executed when all resources have been loaded.\n\t * !static load (list: { \\[id: string\\] : object }, progressCallback: (index: number, count: number, ratio: number, name: string) => void, completeCallback: (list: { \\[id: string\\] : object }) => void) : void;\n\t */\n\tload: function (list, progressCallback, completeCallback, keyList, index)\n\t{\n\t\tif (!keyList)\n\t\t{\n\t\t\tkeyList = Object.keys(list);\n\n\t\t\tfor (let i in keyList)\n\t\t\t{\n\t\t\t\tif (!('__loaded' in list[keyList[i]]))\n\t\t\t\t\tlist[keyList[i]].__clone = Rinn.clone(list[keyList[i]]);\n\t\t\t}\n\n\t\t\tindex = 0;\n\t\t}\n\n\t\twhile (index < keyList.length && ('__loaded' in list[keyList[index]]))\n\t\t\tindex++;\n\n\t\tif (progressCallback)\n\t\t\tprogressCallback (index, keyList.length, index / keyList.length, index < keyList.length ? keyList[index] : null);\n\n\t\tif (index == keyList.length)\n\t\t{\n\t\t\tif (completeCallback)\n\t\t\t\tcompleteCallback(list);\n\n\t\t\treturn;\n\t\t}\n\n\t\tlet r = list[keyList[index]];\n\n\t\tr.resName = keyList[index];\n\n\t\tswitch (r.type)\n\t\t{\n\t\t\tcase \"image\":\n\t\t\t\tr.data = new Image ();\n\n\t\t\t\tr.data.onload = function ()\n\t\t\t\t{\n\t\t\t\t\tvar ratio = r.data.width / r.data.height;\n\n\t\t\t\t\tif (r.scale)\n\t\t\t\t\t{\n\t\t\t\t\t\tr.width = int(r.data.width*r.scale);\n\t\t\t\t\t\tr.height = int(r.data.height*r.scale);\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!r.hasOwnProperty('extraScale'))\n\t\t\t\t\t\tr.extraScale = 0.0;\n\n\t\t\t\t\tif (!r.width && !r.height)\n\t\t\t\t\t{\n\t\t\t\t\t\tr.width = r.data.width;\n\t\t\t\t\t\tr.height = r.data.height;\n\t\t\t\t\t}\n\t\t\t\t\telse if (r.width && !r.height)\n\t\t\t\t\t{\n\t\t\t\t\t\tr.height = int(r.width / ratio);\n\t\t\t\t\t}\n\t\t\t\t\telse if (!r.width && r.height)\n\t\t\t\t\t{\n\t\t\t\t\t\tr.width = int(ratio * r.height);\n\t\t\t\t\t}\n\n\t\t\t\t\tr.owidth = r.data.width;\n\t\t\t\t\tr.oheight = r.data.height;\n\n\t\t\t\t\tif (!r.hasOwnProperty('filter'))\n\t\t\t\t\t\tr.filter = !r.hasOwnProperty('pixelated') ? Resources.filter : (r.pixelated === true ? 'NEAREST' : Resources.filter);\n\n\t\t\t\t\tif (!r.hasOwnProperty('pixelated'))\n\t\t\t\t\t\tr.pixelated = Resources.pixelated;\n\n\t\t\t\t\tif (!r.hasOwnProperty('original'))\n\t\t\t\t\t\tr.original = Resources.original;\n\n\t\t\t\t\tif ((r.data.width != r.width || r.data.height != r.height || r.extraScale != 0.0) && r.original !== true)\n\t\t\t\t\t{\n//let t = hrnow();//violet\n\t\t\t\t\t\tr.data = Resources.resizeImage (r, r.width * (r.extraScale + (r.pixelated ? System.integerScaleFactor : System.scaleFactor)), r.height * (r.extraScale + (r.pixelated ? System.integerScaleFactor : System.scaleFactor)), r.pixelated, true);\n//console.log((hrnow() - t) + ': resize to ' + (r.width * (r.pixelated ? System.integerScaleFactor : System.scaleFactor)) + 'x' + (r.height * (r.pixelated ? System.integerScaleFactor : System.scaleFactor)));\n\t\t\t\t\t}\n\n\t\t\t\t\tr.rscale = r.data.width / r.width;\n\n\t\t\t\t\tr.data.rscale = r.rscale;\n\t\t\t\t\tr.data.filter = r.filter;\n\t\t\t\t\tr.data.targetWidth = r.width;\n\t\t\t\t\tr.data.targetHeight = r.height;\n\n\t\t\t\t\t// Pre-draw on an offscreen canvas, used to prevent a delay when rendering an image for the first time on some browsers.\n\t\t\t\t\tSystem.tempDisplayBuffer.drawImage(r.data, 0, 0);\n\t\t\t\t\tSystem.renderer.prepareImage(r.data);\n\n\t\t\t\t\tResources.onLoaded (list, keyList[index], () => {\n\t\t\t\t\t\tResources.load (list, progressCallback, completeCallback, keyList, index+1);\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\tr.data.onerror = function () {\n\t\t\t\t\tconsole.error (\"Error: Unable to load: \" + r.resName);\n\t\t\t\t};\n\n\t\t\t\tr.data.src = r.src + \"?r=\" + Math.random();\n\t\t\t\tbreak;\n\n\t\t\tcase \"images\":\n\t\t\t\tlet src = r.src;\n\n\t\t\t\tlet d0 = src.indexOf(\"#\");\n\t\t\t\tlet d1 = src.lastIndexOf(\"#\");\n\t\t\t\tlet dN = d1 - d0 + 1;\n\n\t\t\t\tif (d0 == -1)\n\t\t\t\t{\n\t\t\t\t\tconsole.error (\"Unable to load: \" + r.resName + \"\\nError: The 'src' attribute requires one or more '#' marks.\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (!r.count)\n\t\t\t\t{\n\t\t\t\t\tconsole.error (\"Unable to load: \" + r.resName + \"\\nError: The 'count' attribute was not found.\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tr._i = 0;\n\t\t\t\tr.data = [ ];\n\n\t\t\t\tvar cb = function ()\n\t\t\t\t{\n\t\t\t\t\tif (r._i == r.count)\n\t\t\t\t\t{\n\t\t\t\t\t\tResources.onLoaded (list, keyList[index], () => {\n\t\t\t\t\t\t\tResources.load (list, progressCallback, completeCallback, keyList, index + 1);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t// violet :add support for extraScale\n\t\t\t\t\tvar tmp = { type: \"image\", width: r.width, height: r.height, scale: r.scale };\n\n\t\t\t\t\ttmp.src = r.src.substr(0, d0) + ((r._i++) / Math.pow(10,dN)).toFixed(dN).substr(2) + r.src.substr(d1+1);\n\t\t\t\t\ttmp.data = new Image ();\n\t\t\t\t\ttmp.resName = r.resName + \"#\" + (r._i - 1);\n\n\t\t\t\t\tif (progressCallback)\n\t\t\t\t\t\tprogressCallback (index, keyList.length, (index / keyList.length) + ((r._i-1)/r.count)*(1 / keyList.length), r.resName + '/' + (r._i-1));\n\n\t\t\t\t\ttmp.data.onload = function ()\n\t\t\t\t\t{\n\t\t\t\t\t\tvar ratio = tmp.data.width / tmp.data.height;\n\n\t\t\t\t\t\tif (tmp.scale)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttmp.width = int(tmp.data.width*tmp.scale);\n\t\t\t\t\t\t\ttmp.height = int(tmp.data.height*tmp.scale);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (!tmp.width && !tmp.height)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttmp.width = tmp.data.width;\n\t\t\t\t\t\t\ttmp.height = tmp.data.height;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (tmp.width && !tmp.height)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttmp.height = int(tmp.width / ratio);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (!tmp.width && tmp.height)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttmp.width = int(ratio * tmp.height);\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif (r._i == 1)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tr.owidth = tmp.data.width;\n\t\t\t\t\t\t\tr.oheight = tmp.data.height;\n\n\t\t\t\t\t\t\tif (!r.hasOwnProperty('filter'))\n\t\t\t\t\t\t\t\tr.filter = !r.hasOwnProperty('pixelated') ? Resources.filter : (r.pixelated === true ? 'NEAREST' : Resources.filter);\n\n\t\t\t\t\t\t\tif (!r.hasOwnProperty('pixelated'))\n\t\t\t\t\t\t\t\tr.pixelated = Resources.pixelated;\n\n\t\t\t\t\t\t\tif (!r.hasOwnProperty('original'))\n\t\t\t\t\t\t\t\tr.original = Resources.original;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttmp.pixelated = r.pixelated;\n\t\t\t\t\t\ttmp.filter = r.filter;\n\t\t\t\t\t\ttmp.original = r.original;\n\n\t\t\t\t\t\tif ((tmp.data.width != tmp.width || tmp.data.height != tmp.height) && tmp.original !== true)\n\t\t\t\t\t\t{\n//let t = hrnow();//violet\n\t\t\t\t\t\t\ttmp.data = Resources.resizeImage (tmp, tmp.width * (r.pixelated ? System.integerScaleFactor : System.scaleFactor), tmp.height * (tmp.pixelated ? System.integerScaleFactor : System.scaleFactor), tmp.pixelated, true);\n//console.log((hrnow() - t) + ': resize to ' + (tmp.width * (r.pixelated ? System.integerScaleFactor : System.scaleFactor)) + 'x' + (tmp.height * (r.pixelated ? System.integerScaleFactor : System.scaleFactor)));\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\ttmp.rscale = tmp.data.width / tmp.width;\n\n\t\t\t\t\t\ttmp.data.rscale = tmp.rscale;\n\t\t\t\t\t\ttmp.data.filter = tmp.filter;\n\t\t\t\t\t\ttmp.data.targetWidth = tmp.width;\n\t\t\t\t\t\ttmp.data.targetHeight = tmp.height;\n\n\t\t\t\t\t\tif (r._i == 1)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tr.width = tmp.width;\n\t\t\t\t\t\t\tr.height = tmp.height;\n\t\t\t\t\t\t\tr.rscale = tmp.rscale;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tSystem.tempDisplayBuffer.drawImage(tmp.data, 0, 0);\n\t\t\t\t\t\tSystem.renderer.prepareImage(tmp.data);\n\n\t\t\t\t\t\tr.data.push(tmp);\n\t\t\t\t\t\tcb();\n\t\t\t\t\t};\n\n\t\t\t\t\ttmp.data.onerror = function () {\n\t\t\t\t\t\tconsole.error(\"Error: Unable to load: \" + tmp.resName);\n\t\t\t\t\t};\n\n\t\t\t\t\ttmp.data.src = tmp.src + \"?r=\" + Math.random();\n\t\t\t\t};\n\n\t\t\t\tcb();\n\t\t\t\tbreak;\n\n\t\t\tcase \"audio\":\n\n\t\t\t\tif (!r.track) r.track = \"sfx\";\n\n\t\t\t\tif (global.plugins && global.plugins.NativeAudio && r.track == \"sfx\")\n\t\t\t\t{\n\t\t\t\t\tif (!reported) {\n\t\t\t\t\t\tLog.write('ENGINE_NATIVEAUDIO');\n\t\t\t\t\t\treported = true;\n\t\t\t\t\t}\n\n\t\t\t\t\tr.engine = Wrappers.Sound.ENGINE_NATIVEAUDIO;\n\t\t\t\t\tr.data = \"snd_\" + index;\n\n\t\t\t\t\tglobal.plugins.NativeAudio.preloadSimple(r.data, r.src,\n\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\tResources.onLoaded (list, keyList[index], () => {\n\t\t\t\t\t\t\t\tResources.load (list, progressCallback, completeCallback, keyList, index + 1);\t\t\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t},\n\t\t\t\t\t\tfunction(e) {\n\t\t\t\t\t\t\tconsole.error(\"Error: Unable to load (sfx): \" + r.resName + \"\\n\" + e);\n\t\t\t\t\t\t}\n\t\t\t\t\t);\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (global.audioContext)\n\t\t\t\t{\n\t\t\t\t\tif (!reported) {\n\t\t\t\t\t\tLog.write('ENGINE_WEBAUDIO');\n\t\t\t\t\t\treported = true;\n\t\t\t\t\t}\n\n\t\t\t\t\tr.engine = Wrappers.Sound.ENGINE_WEBAUDIO;\n\n\t\t\t\t\tfetchAudioBuffer (r.src + \"?r=\" + Math.random())\n\t\t\t\t\t.then (audioBuffer => {\n\t\t\t\t\t\tr.data = audioBuffer;\n\t\t\t\t\t\tResources.onLoaded (list, keyList[index], () => {\n\t\t\t\t\t\t\tResources.load (list, progressCallback, completeCallback, keyList, index + 1);\t\t\n\t\t\t\t\t\t});\n\t\t\t\t\t})\n\t\t\t\t\t.catch (err => {\n\t\t\t\t\t\tconsole.error(\"Error: Unable to load: \" + r.resName);\n\t\t\t\t\t});\n\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tif (!reported) {\n\t\t\t\t\tLog.write('ENGINE_HTML5');\n\t\t\t\t\treported = true;\n\t\t\t\t}\n\n\t\t\t\tr.data = new Audio ();\n\t\t\t\tr.engine = Wrappers.Sound.ENGINE_HTML5;\n\n\t\t\t\tr.data.oncanplaythrough = function ()\n\t\t\t\t{\n\t\t\t\t\tResources.onLoaded (list, keyList[index],  () => {\n\t\t\t\t\t\tResources.load (list, progressCallback, completeCallback, keyList, index + 1);\n\t\t\t\t\t});\n\t\t\t\t};\n\n\t\t\t\tr.data.onerror = function ()\n\t\t\t\t{\n\t\t\t\t\tconsole.error(\"Error: Unable to load: \" + r.resName);\n\t\t\t\t};\n\n\t\t\t\tr.data.src = r.src + \"?r=\" + Math.random();\n\t\t\t\tbreak;\n\n\t\t\tcase \"audios\":\n\n\t\t\t\tvar src = r.src;\n\n\t\t\t\tvar d0 = src.indexOf(\"#\");\n\t\t\t\tvar d1 = src.lastIndexOf(\"#\");\n\t\t\t\tvar dN = d1 - d0 + 1;\n\n\t\t\t\tif (d0 == -1)\n\t\t\t\t{\n\t\t\t\t\tconsole.error (\"Unable to load: \" + r.resName + \"\\nError: The 'src' attribute requires one or more '#' marks.\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (!r.count)\n\t\t\t\t{\n\t\t\t\t\tconsole.error (\"Unable to load: \" + r.resName + \"\\nError: The 'count' attribute was not found.\");\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tr._i = 0;\n\t\t\t\tr.data = [ ];\n\n\t\t\t\tvar cb = function ()\n\t\t\t\t{\n\t\t\t\t\tif (r._i == r.count)\n\t\t\t\t\t{\n\t\t\t\t\t\tResources.onLoaded (list, keyList[index], () => {\n\t\t\t\t\t\t\tResources.load (list, progressCallback, completeCallback, keyList, index + 1);\n\t\t\t\t\t\t});\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar tmp = { type: \"audio\", track: r.track };\n\n\t\t\t\t\ttmp.src = r.src.substr(0, d0) + ((r._i++) / Math.pow(10,dN)).toFixed(dN).substr(2) + r.src.substr(d1+1);\n\t\t\t\t\ttmp.resName = r.resName + \"#\" + (r._i - 1);\n\n\t\t\t\t\tif (!tmp.track) tmp.track = \"sfx\";\n\n\t\t\t\t\tif (global.plugins && global.plugins.NativeAudio && tmp.track == \"sfx\")\n\t\t\t\t\t{\n\t\t\t\t\t\ttmp.engine = Wrappers.Sound.ENGINE_NATIVEAUDIO;\n\t\t\t\t\t\ttmp.data = \"snd_\" + index + \"_\" + r._i;\n\t\n\t\t\t\t\t\tglobal.plugins.NativeAudio.preloadSimple(tmp.data, tmp.src,\n\t\t\t\t\t\t\tfunction() {\n\t\t\t\t\t\t\t\tr.data.push(tmp);\n\t\t\t\t\t\t\t\tcb();\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\tfunction(e) {\n\t\t\t\t\t\t\t\tconsole.error(\"Error: Unable to load (sfx): \" + tmp.resName + \"\\n\" + e);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (global.audioContext)\n\t\t\t\t\t{\n\t\t\t\t\t\ttmp.engine = Wrappers.Sound.ENGINE_WEBAUDIO;\n\n\t\t\t\t\t\tfetchAudioBuffer (tmp.src + \"?r=\" + Math.random())\n\t\t\t\t\t\t.then (audioBuffer => {\n\t\t\t\t\t\t\ttmp.data = audioBuffer;\n\t\t\t\t\t\t\tr.data.push(tmp);\n\t\t\t\t\t\t\tcb();\n\t\t\t\t\t\t})\n\t\t\t\t\t\t.catch (err => {\n\t\t\t\t\t\t\tconsole.error(\"Error: Unable to load: \" + tmp.resName);\n\t\t\t\t\t\t});\n\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\ttmp.data = new Audio ();\n\t\t\t\t\ttmp.engine = Wrappers.Sound.ENGINE_HTML5;\n\n\t\t\t\t\ttmp.data.oncanplaythrough = function ()\n\t\t\t\t\t{\n\t\t\t\t\t\tr.data.push(tmp);\n\t\t\t\t\t\tcb();\n\t\t\t\t\t};\n\n\t\t\t\t\ttmp.data.onerror = function ()\n\t\t\t\t\t{\n\t\t\t\t\t\tconsole.error(\"Error: Unable to load: \" + tmp.resName);\n\t\t\t\t\t};\n\n\t\t\t\t\ttmp.data.src = tmp.src + \"?r=\" + Math.random();\n\t\t\t\t};\n\n\t\t\t\tcb();\n\n\t\t\t\tbreak;\n\n\t\t\tcase \"json\":\n\n\t\t\t\tfetchd (r.src + \"?r=\" + Math.random(), { responseType: 'json' }).then(function(json)\n\t\t\t\t{\n\t\t\t\t\tr.data = json;\n\n\t\t\t\t\tResources.onLoaded (list, keyList[index], () => {\n\t\t\t\t\t\tResources.load (list, progressCallback, completeCallback, keyList, index + 1);\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.catch(function(err)\n\t\t\t\t{\n\t\t\t\t\tconsole.error(\"Error: Unable to load: \" + r.resName + \". Error: \" + err);\n\t\t\t\t});\n\n\t\t\t\tbreak;\n\n\t\t\tcase \"data\":\n\n\t\t\t\tfetchd (r.src + \"?r=\" + Math.random()).then(function(arraybuffer)\n\t\t\t\t{\n\t\t\t\t\tr.data = arraybuffer;\n\n\t\t\t\t\tResources.onLoaded (list, keyList[index], () => {\n\t\t\t\t\t\tResources.load (list, progressCallback, completeCallback, keyList, index + 1);\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.catch(function(err)\n\t\t\t\t{\n\t\t\t\t\tconsole.error(\"Error: Unable to load: \" + r.resName + \". Error: \" + err);\n\t\t\t\t});\n\n\t\t\t\tbreak;\n\n\t\t\tcase \"text\":\n\n\t\t\t\tfetchd (r.src + \"?r=\" + Math.random()).then(function(arrayBuffer)\n\t\t\t\t{\n\t\t\t\t\tr.data = String.fromCharCode.apply(null, new Uint8Array(arrayBuffer));\n\n\t\t\t\t\tResources.onLoaded (list, keyList[index], () => {\n\t\t\t\t\t\tResources.load (list, progressCallback, completeCallback, keyList, index + 1);\n\t\t\t\t\t});\n\t\t\t\t})\n\t\t\t\t.catch(function(err)\n\t\t\t\t{\n\t\t\t\t\tconsole.error(\"Error: Unable to load: \" + r.resName + \". Error: \" + err);\n\t\t\t\t});\n\n\t\t\t\tbreak;\n\n\t\t\tcase \"object\":\n\t\t\t\tr.data = { };\n\n\t\t\t\tResources.onLoaded (list, keyList[index], () => {\n\t\t\t\t\tResources.load (list, progressCallback, completeCallback, keyList, index + 1);\n\t\t\t\t});\n\t\t\t\tbreak;\n\t\t}\n\t},\n\n\t/**\n\t * Unloads the specified list of resources.\n\t * !static unload (list: { \\[id: string\\] : object }) : void;\n\t */\n\tunload: function (list)\n\t{\n\t\tthrow new Error('IMPLEMENTED UNLOAD!');\n\n\t\tvar __original;\n\n\t\tfor (var i in list)\n\t\t{\n\t\t\tif (i == \"__original\")\n\t\t\t{\n\t\t\t\t__original = list[i];\n\t\t\t\tdelete list[i];\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (list[i].r)\n\t\t\t{\n\t\t\t\tdispose(list[i]);\n\t\t\t\tlist[i] = list[i].r;\n\t\t\t}\n\n\t\t\tswitch (list[i].type)\n\t\t\t{\n\t\t\t\tcase \"audio\":\n\t\t\t\t\t// violet: unload audio if using NativeAudio\n\t\t\t\t\t// global.plugins.NativeAudio.unload\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"audios\":\n\t\t\t\t\t// violet: unload audio if using NativeAudio\n\t\t\t\t\t// global.plugins.NativeAudio.unload\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase \"images\":\n\t\t\t\t\tfor (var j = 0; j < list[i].data.length; j++)\n\t\t\t\t\t\tdispose (list[i].data[j]);\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tdispose (list[i].data);\n\t\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tlist[i].data = null;\n\t\t\tdelete list[i];\n\t\t}\n\n\t\tfor (var i in __original)\n\t\t\tlist[i] = __original[i];\n\t},\n\n\t/**\n\t * Executes post-load actions on a resource.\n\t */\n\tonLoaded: function (list, index, callback)\n\t{\n\t\tlet r = list[index];\n\t\tif (!r.wrapper || !(r.wrapper in Wrappers))\n\t\t{\n\t\t\tcallback();\n\t\t\treturn;\n\t\t}\n\n\t\tlist[index] = new Wrappers[r.wrapper] (r);\n\n\t\tif ('init' in list[index])\n\t\t{\n\t\t\tlist[index].init(() => {\n\t\t\t\tlist[index].__loaded = true;\n\t\t\t\tcallback();\n\t\t\t});\n\t\t}\n\t\telse {\n\t\t\tlist[index].__loaded = true;\n\t\t\tcallback();\n\t\t}\n\t},\n\n\t/**\n\t * Resizes the given image to the specified size.\n\t * !static resizeImage (image: HTMLImageElement, targetWidth: number, targetHeight: number, pixelated?: boolean, discardOriginal?: boolean) : HTMLImageElement;\n\t */\n\tresizeImage: function (image, dw, dh, pixelated, discardOriginal)\n\t{\n\t\tvar sw = image.data.width;\n\t\tvar sh = image.data.height;\n\n\t\tdw = int(dw);\n\t\tdh = int(dh);\n\n\t\tif (sw == dw && sh == dh)\n\t\t\treturn image.data;\n\n\t\tif (!this.integerScalingEnabled && pixelated) pixelated = null;\n\n\t\tif (!pixelated)\n\t\t{\n\t\t\tpixelated = pixelated === null ? false : true;\n\n\t\t\tvar temp = new Canvas ({ hidden: true, antialias: pixelated }).resize (sw, sh);\n\t\t\ttemp.drawImage (image.data, 0, 0);\n\n\t\t\twhile (true)\n\t\t\t{\n\t\t\t\tvar tw = sw >> 1;\n\t\t\t\tvar th = sh >> 1;\n\n\t\t\t\tif (tw <= dw || th <= dh)\n\t\t\t\t\tbreak;\n\n\t\t\t\tvar output = new Canvas ({ hidden: true, antialias: pixelated }).resize (tw, th);\n\t\t\t\toutput.drawImage (temp.elem, 0, 0, tw, th);\n\t\t\t\ttemp.dispose ();\n\n\t\t\t\tsw = tw;\n\t\t\t\tsh = th;\n\n\t\t\t\ttemp = output;\n\t\t\t}\n\n\t\t\tvar output = new Canvas ({ hidden: true, antialias: pixelated }).resize (dw, dh);\n\t\t\toutput.drawImage (temp.elem, 0, 0, dw, dh);\n\t\t\ttemp.dispose ();\n\n\t\t\tif (discardOriginal)\n\t\t\t\tdispose (image.data);\n\n\t\t\treturn output.elem;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (int(dw / sw) > 0)\n\t\t\t{\n\t\t\t\tvar ratio = int((dw / sw) + 0.9);\n\n\t\t\t\tdw = ratio * sw;\n\t\t\t\tdh = ratio * sh;\n\n\t\t\t\tvar rep_x = dw / sw;\n\t\t\t\tvar rep_y = dh / sh;\n\n\t\t\t\tvar output = new Canvas ({ hidden: true, antialias: false }).resize (dw, dh);\n\n\t\t\t\tvar temp = new Canvas ({ hidden: true, antialias: false }).resize (sw, sh);\n\t\t\t\ttemp.drawImage (image.data, 0, 0);\n\n\t\t\t\tfor (var j = 0; j < sh; j++)\n\t\t\t\t{\n\t\t\t\t\tvar s = temp.getImageData(0, j, sw, 1).data;\n\t\t\t\t\tvar sp = 0;\n\n\t\t\t\t\tfor (var i = 0; i < sw && sp < s.length; i++, sp += 4)\n\t\t\t\t\t{\n\t\t\t\t\t\toutput.fillStyle(\"rgba(\"+s[sp]+\",\"+s[sp+1]+\",\"+s[sp+2]+\",\"+(s[sp+3] / 255)+\")\");\n\t\t\t\t\t\toutput.fillRect(i*rep_x, j*rep_y, rep_x, rep_y);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\ttemp.dispose();\n\n\t\t\t\treturn output.elem;\n\t\t\t}\n\n\t\t\treturn this.resizeImage (image, dw, dh, null, discardOriginal);\n\t\t}\n\t},\n\n\t/**\n\t * Flips an image horizontally.\n\t * !static flipImageHorz (image: HTMLImageElement) : HTMLImageElement;\n\t */\n\tflipImageHorz: function (image)\n\t{\n\t\tvar temp = new Canvas ({ hidden: true }).resize (image.data.width, image.data.height);\n\n\t\ttemp.translate(image.data.width, 0);\n\t\ttemp.scale(-1, 1);\n\n\t\ttemp.drawImage (image.data, 0, 0);\n\t\treturn temp.elem;\n\t},\n\n\t/**\n\t * Flips an image vertically.\n\t * !static flipImageVert (image: HTMLImageElement) : HTMLImageElement;\n\t */\n\tflipImageVert: function (image)\n\t{\n\t\tvar temp = new Canvas ({ hidden: true }).resize (image.data.width, image.data.height);\n\n\t\ttemp.translate(0, image.data.height);\n\t\ttemp.scale(1, -1);\n\n\t\ttemp.drawImage (image.data, 0, 0);\n\t\treturn temp.elem;\n\t},\n\n\t/**\n\t * Forces the browser to show a download dialog.\n\t * !static showDownload (filename: string, dataUrl: string) : void;\n\t */\n\tshowDownload: function (filename, dataUrl)\n\t{\n\t\tvar link = document.createElement(\"a\");\n\t\tlink.href = dataUrl;\n\n\t\tlink.style.display = 'none';\n\t\tlink.download = filename;\n\t\tlink.target = \"_blank\";\n\n\t\tdocument.body.appendChild(link);\n\t\tlink.click();\n\t\tdocument.body.removeChild(link);\n\t},\n\n\t/**\n\t * Forces the browser to show a file selection dialog.\n\t * !static showFilePicker (allowMultiple: boolean, accept: string, callback: (files: Array<File>) => void) : void;\n\t */\n\tshowFilePicker: function (allowMultiple, accept, callback)\n\t{\n\t\tvar input = document.createElement(\"input\");\n\n\t\tinput.type = \"file\";\n\t\tinput.accept = accept;\n\t\tinput.style.display = 'none';\n\t\tinput.multiple = allowMultiple;\n\n\t\tdocument.body.appendChild(input);\n\n\t\tinput.onchange = function ()\n\t\t{\n\t\t\tcallback(input.files);\n\t\t};\n\n\t\tdocument.body.onfocus = function ()\n\t\t{\n\t\t\tdocument.body.onfocus = null;\n\t\t\tdocument.body.removeChild(input);\n\t\t};\n\n\t\tinput.click();\n\t},\n\n\t/**\n\t * Loads a file using FileReader and returns the result as a dataURL.\n\t * !static loadAsDataURL (file: File, callback: (dataUrl: string) => void) : void;\n\t */\n\tloadAsDataURL: function (file, callback)\n\t{\n\t\tvar reader = new FileReader();\n\n\t\treader.onload = function(e) {\n\t\t\tcallback (e.target.result);\n\t\t};\n\n\t\treader.readAsDataURL(file);\n\t},\n\n\t/**\n\t * Loads a file using FileReader and returns the result as text.\n\t * !static loadAsText (file: File, callback: (text: string) => void) : void;\n\t */\n\tloadAsText: function (file, callback)\n\t{\n\t\tvar reader = new FileReader();\n\n\t\treader.onload = function(e) {\n\t\t\tcallback (e.target.result);\n\t\t};\n\n\t\treader.readAsText(file);\n\t},\n\n\t/**\n\t * Loads a file using FileReader and returns the result as an array buffer.\n\t * !static loadAsArrayBuffer (file: File, callback: (buff: ArrayBuffer) => void) : void;\n\t */\n\tloadAsArrayBuffer: function (file, callback)\n\t{\n\t\tvar reader = new FileReader();\n\n\t\treader.onload = function(e) {\n\t\t\tcallback (e.target.result);\n\t\t};\n\n\t\treader.readAsArrayBuffer(file);\n\t},\n\n\t/**\n\t * Loads an array of File objects using FileReader and returns them as data URLs.\n\t * !static loadAllAsDataURL (fileList: Array<File>, callback: (urlList: Array<{name:string, size:number, url:string}>) => void) : void;\n\t */\n\tloadAllAsDataURL: function (fileList, callback)\n\t{\n\t\tvar result = [];\n\n\t\tif (!fileList || !fileList.length)\n\t\t{\n\t\t\tcallback(result);\n\t\t\treturn;\n\t\t}\n\n\t\tvar loadNext = function (i)\n\t\t{\n\t\t\tif (i == fileList.length)\n\t\t\t{\n\t\t\t\tcallback(result);\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tResources.loadAsDataURL (fileList[i], function(url) {\n\t\t\t\tresult.push({ name: fileList[i].name, size: fileList[i].size, url: url });\n\t\t\t\tloadNext(i+1);\n\t\t\t});\n\t\t};\n\n\t\tloadNext(0);\n\t}\n});\n\n//!/class\n\nexport default Resources;\n","/*\n**\tresources/sound-array.js\n**\n**\tCopyright (c) 2016-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport { Class } from 'rinn';\nimport Sound from './sound.js';\n\n//![import \"./sound.js\"]\n\n/*\n\ttrack: string (music|sfx)\n\tmode: sequential|random\n*/\n\nexport default Class.extend\n({\n\tr: null,\n\n\t__ctor: function (r)\n\t{\n\t\tif (r.type != \"audios\")\n\t\t\tthrow new Error (\"Resource is not audios.\");\n\n\t\tthis.r = r;\n\t\tthis.r.wrapper = this;\n\n\t\tif (!this.r.track)\n\t\t\tthis.r.track = \"sfx\";\n\n\t\tif (!this.r.mode)\n\t\t\tthis.r.mode = \"random\";\n\n\t\tthis.track = Sound[this.r.track.toUpperCase()];\n\n\t\tthis.sounds = [];\n\t\tthis.lastIndex = -1;\n\n\t\tfor (var i = 0; i < this.r.data.length; i++)\n\t\t{\n\t\t\tthis.sounds.push(new Sound (Object.assign (this.r.data[i], { track: this.r.track })));\n\t\t}\n\t},\n\n\tgetRandomSound: function ()\n\t{\n\t\tif (this.r.mode == \"random\")\n\t\t\treturn this.sounds[randr(0, this.sounds.length-1)];\n\n\t\tthis.lastIndex = ++this.lastIndex % this.sounds.length;\n\t\treturn this.sounds[this.lastIndex];\n\t},\n\n\tplay: function (callback, volume)\n\t{\n\t\treturn Sound.play (this.getRandomSound(), callback, volume);\n\t},\n\n\tplayLoop: function (callback, volume)\n\t{\n\t\treturn Sound.playLoop (this.getRandomSound(), callback, volume);\n\t},\n\n\tplayAt: function (index, callback, volume)\n\t{\n\t\treturn Sound.play (this.sounds[index % this.sounds.length], callback, volume);\n\t},\n\n\tplayLoopAt: function (index, callback, volume)\n\t{\n\t\treturn Sound.playLoop (this.sounds[index % this.sounds.length], callback, volume);\n\t}\n});\n","/*\n**\tutils/priority-queue.js\n**\n**\tCopyright (c) 2013-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport { Class } from 'rinn';\n\n//!class PriorityQueue\n\nexport default Class.extend\n({\n\tclassName: 'PriorityQueue',\n\n\tqueue: null,\n\tqueueKeys: null,\n\torder: null,\n\n\t/**\n\t * \tConstructs an priority queue.\n\t * \t!constructor();\n\t */\n\t__ctor: function()\n\t{\n\t\tthis.queue = { };\n\t\tthis.queueKeys = [];\n\t},\n\n\t/**\n\t * \tAdds an object to the priority queue.\n\t * \t!add (obj: object) : object;\n\t */\n\tadd: function (object)\n\t{\n\t\tif (object == null)\n\t\t\treturn null;\n\n\t\tif (!('priority' in object))\n\t\t\tobject.priority = 50;\n\n\t\tif (!(object.priority in this.queue))\n\t\t{\n\t\t\tthis.queue[object.priority] = { is_dirty: false, list: [ ] };\n\t\t\tthis.queueKeys.push(object.priority);\n\n\t\t\tthis.order = Object.keys(this.queue).sort((a,b) => a-b);\n\t\t}\n\n\t\tif (this.queue[object.priority].list.indexOf(object) === -1)\n\t\t\tthis.queue[object.priority].list.push(object);\n\n\t\treturn object;\n\t},\n\n\t/**\n\t * \tMarks an object to be removed from the priority queue. Use `cleanup` to actually remove them.\n\t * \t!remove (obj: object) : object;\n\t */\n\tremove: function (object)\n\t{\n\t\tif (object == null)\n\t\t\treturn null;\n\n\t\tif (!('priority' in object))\n\t\t\tobject.priority = 50;\n\n\t\tif (!(object.priority in this.queue))\n\t\t\treturn object;\n\n\t\tlet i = this.queue[object.priority].list.indexOf(object);\n\t\tif (i === -1) return object;\n\n\t\tthis.queue[object.priority].is_dirty = true;\n\t\tthis.queue[object.priority].list[i] = null;\n\n\t\treturn object;\n\t},\n\n\t/**\n\t * \tRuns a cleanup of the queue by removing any objects marked to be removed.\n\t * \t!cleanup() : void;\n\t */\n\tcleanup: function()\n\t{\n\t\tfor (let i = 0; i < this.queueKeys.length; i++)\n\t\t{\n\t\t\tlet q = this.queue[this.queueKeys[i]];\n\t\t\tif (!q.is_dirty) continue;\n\n\t\t\tfor (let j = 0; j < q.list.length; j++)\n\t\t\t{\n\t\t\t\tif (q.list[j] == null)\n\t\t\t\t{\n\t\t\t\t\tq.list.splice(j--, 1);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tq.is_dirty = false;\n\t\t}\n\t},\n\n\t/**\n\t * \tRuns the specified callback for each object in the queue. Executed in order of priority (from low number to high number).\n\t * \t@param callback - Return `false` to stop the forEach execution immediately.\n\t * \t!forEach (callback: (obj: object) => boolean) : void;\n\t */\n\tforEach: function (callback)\n\t{\n\t\tlet is_dirty = false;\n\t\tlet is_complete = false;\n\n\t\tfor (let i = 0; !is_complete && i < this.order.length; i++)\n\t\t{\n\t\t\tlet list = this.queue[this.order[i]].list;\n\n\t\t\tfor (let j = 0; !is_complete && j < list.length; j++)\n\t\t\t{\n\t\t\t\tif (list[j] != null)\n\t\t\t\t{\n\t\t\t\t\tif (callback(list[j]) === false)\n\t\t\t\t\t\tis_complete = true;\n\t\t\t\t}\n\n\t\t\t\tif (list[j] == null)\n\t\t\t\t\tis_dirty = true;\n\t\t\t}\n\t\t}\n\n\t\tif (is_dirty) this.cleanup();\n\t},\n\n\t/**\n\t * \tRuns the specified callback for each object in the queue. Executed in reverse order of priority (from high number to low number).\n\t * \t@param callback - Return `false` to stop the forEachRev execution immediately.\n\t * \t!forEachRev (callback: (obj: object) => boolean) : void;\n\t */\n\tforEachRev: function (callback)\n\t{\n\t\tlet is_dirty = false;\n\t\tlet is_complete = false;\n\n\t\tfor (let i = this.order.length-1; !is_complete && i >= 0; i--)\n\t\t{\n\t\t\tlet list = this.queue[this.order[i]].list;\n\n\t\t\tfor (let j = list.length-1; !is_complete && j >= 0; j--)\n\t\t\t{\n\t\t\t\tif (list[j] != null)\n\t\t\t\t{\n\t\t\t\t\tif (callback(list[j]) === false)\n\t\t\t\t\t\tis_complete = true;\n\t\t\t\t}\n\n\t\t\t\tif (list[j] == null)\n\t\t\t\t\tis_dirty = true;\n\t\t\t}\n\t\t}\n\n\t\tif (is_dirty) this.cleanup();\n\t},\n\n\t/**\n\t * \tRuns the specified callback for each object in the queue. Executed in order of priority (from low number to high number). When\n\t * \tthe cycle finishes the given `finishedCallback` will be executed.\n\t * \t@param callback - Return `false` to stop the forEachAsync execution immediately. Must manually execute `next` when finished.\n\t * \t!forEachAsync (callback: (obj: object, next: Function) => boolean) : void;\n\t */\n\tforEachAsync: function (callback, finishedCallback=null)\n\t{\n\t\tlet _ = this;\n\n\t\tlet is_dirty = false;\n\t\tlet is_complete = false;\n\n\t\tlet i = -1;\n\t\tlet j = -1;\n\n\t\tlet list = null;\n\n\t\tlet next_j = function()\n\t\t{\n\t\t\tj++;\n\n\t\t\tif (!is_complete && j < list.length)\n\t\t\t{\n\t\t\t\tif (list[j] != null)\n\t\t\t\t{\n\t\t\t\t\tif (callback(list[j], next_j) === false)\n\t\t\t\t\t\tis_complete = true;\n\t\t\t\t}\n\n\t\t\t\tif (list[j] == null)\n\t\t\t\t\tis_dirty = true;\n\n\t\t\t\tif (is_complete) next_j();\n\t\t\t}\n\t\t\telse\n\t\t\t\tnext_i();\n\t\t};\n\n\t\tlet next_i = function()\n\t\t{\n\t\t\ti++;\n\n\t\t\tif (!is_complete && i < _.order.length)\n\t\t\t{\n\t\t\t\tlist = _.queue[_.order[i]].list;\n\t\t\t\tj = -1;\n\t\t\t\tnext_j();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (is_dirty) _.cleanup();\n\t\t\t\tif (finishedCallback) finishedCallback();\n\t\t\t}\n\t\t};\n\n\t\tnext_i();\n\t},\n\n\t/**\n\t * \tRuns the specified callback for each object in the queue. Executed in reverse order of priority (from high number to low number). When\n\t * \tthe cycle finishes the given `finishedCallback` will be executed.\n\t * \t@param callback - Return `false` to stop the forEachRevAsync execution immediately. Must manually execute `next` when finished.\n\t * \t!forEachRevAsync (callback: (obj: object, next: Function) => boolean) : void;\n\t */\n\tforEachRevAsync: function (callback)\n\t{\n\t\talert('NOT IMPLEMENTED: forEachRevAsync');\n\t}\n});\n","/*\n**\tutils/handler.js\n**\n**\tCopyright (c) 2016-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport { Class } from 'rinn';\nimport Recycler from './recycler.js';\nimport Callback from './callback.js';\n\n//![import \"./recycler\"]\n//![import \"./callback\"]\n\n//:/**\n//: * \tThe handler class allows zero or more callbacks to be attached, such that when the `exec` method of the handler is invoked, all attached callbacks will also be executed.\n//: */\n\n//!class Handler\n\nconst Handler = Class.extend\n({\n\tclassName: 'Handler',\n\n\t/**\n\t * \tHandler host element or value.\n\t * \t!host: any;\n\t */\n\thost: null,\n\n\t/**\n\t * \tTop and bottom of the linked list.\n\t */\n\ttop: null,\n\tbottom: null,\n\n\t/**\n\t * \tInitializes the Handler instance.\n\t * \t!constructor (host?: any);\n\t */\n\t__ctor: function (host=null)\n\t{\n\t\tthis.host = host;\n\n\t\tthis.top = null;\n\t\tthis.bottom = null;\n\n\t\treturn this;\n\t},\n\n\t/*\n\t**\tRemoves all callbacks from the handler.\n\t*/\n\t__dtor: function()\n\t{\n\t\tthis.remove();\n\t},\n\n\t/**\n\t * \tAdds the specified callback to the handler.\n\t * \t!add (callback: Function, arg0?: any, arg1?: any, arg2?: any, arg3?: any, arg4?: any, arg5?: any) : Callback;\n\t */\n\tadd: function (callback, arg0=null, arg1=null, arg2=null, arg3=null, arg4=null, arg5=null)\n\t{\n\t\tlet node = Callback.isInstance(callback) ? callback : Callback.Pool.alloc(callback, arg0, arg1, arg2, arg3, arg4, arg5);\n\n\t\tnode.prev = this.bottom;\n\n\t\tif (this.bottom !== null)\n\t\t\tthis.bottom.next = node;\n\n\t\tthis.bottom = node;\n\n\t\tif (this.top === null)\n\t\t\tthis.top = node;\n\n\t\treturn node;\n\t},\n\n\t/**\n\t * \tUnlinks a callback from the handler.\n\t * \t!unlink (node: Callback) : Handler;\n\t */\n\tunlink: function (node)\n\t{\n\t\tif (node.prev) node.prev.next = node.next;\n\t\tif (node.next) node.next.prev = node.prev;\n\n\t\tif (this.top === node)\n\t\t\tthis.top = node.next;\n\n\t\tif (this.bottom === node)\n\t\t\tthis.bottom = node.prev;\n\n\t\tnode.prev = null;\n\t\tnode.next = null;\n\n\t\tdispose(node);\n\t},\n\n\t/**\n\t * \tRemoves all callbacks matching the specified arguments.\n\t * \t!remove (callback?: Function, arg0?: any, arg1?: any, arg2?: any, arg3?: any, arg4?: any, arg5?: any) : Handler;\n\t */\n\tremove: function (callback=null, arg0=null, arg1=null, arg2=null, arg3=null, arg4=null, arg5=null)\n\t{\n\t\tif (callback !== null && Callback.isInstance(callback))\n\t\t{\n\t\t\tthis.unlink(callback);\n\t\t\treturn this;\n\t\t}\n\n\t\tlet node = this.top;\n\n\t\twhile (node !== null)\n\t\t{\n\t\t\tlet next = node.next;\n\n\t\t\tif (node.isEqual(callback, arg0, arg1, arg2, arg3, arg4, arg5))\n\t\t\t\tthis.unlink(node);\n\n\t\t\tnode = next;\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tReturns the first callback matching the specified arguments.\n\t * \t!find (callback: Function, arg0?: any, arg1?: any, arg2?: any, arg3?: any, arg4?: any, arg5?: any) : Callback;\n\t */\n\tfind: function (callback, arg0=null, arg1=null, arg2=null, arg3=null, arg4=null, arg5=null)\n\t{\n\t\tlet node = this.top;\n\n\t\twhile (node !== null)\n\t\t{\n\t\t\tif (node.isEqual(callback, arg0, arg1, arg2, arg3, arg4, arg5))\n\t\t\t\treturn node;\n\n\t\t\tnode = node.next;\n\t\t}\n\n\t\treturn null;\n\t},\n\n\t/**\n\t * \tExecutes all callbacks in the handler.\n\t * \t!exec (host?: any) : void;\n\t */\n\texec: function (host=null)\n\t{\n\t\tlet node = this.top;\n\n\t\thost = host ?? this.host;\n\n\t\twhile (node !== null)\n\t\t{\n\t\t\tlet next = node.next;\n\n\t\t\tif (node.exec(host) === false)\n\t\t\t\tthis.unlink(node);\n\n\t\t\tnode = next;\n\t\t}\n\t},\n\n\t/**\n\t * \tExecutes the first callback matching the specified arguments.\n\t * \t!execf (callback?: Function, arg0?: any, arg1?: any, arg2?: any, arg3?: any, arg4?: any, arg5?: any) : void;\n\t */\n\texecf: function (callback=null, arg0=null, arg1=null, arg2=null, arg3=null, arg4=null, arg5=null)\n\t{\n\t\tlet node = this.top;\n\n\t\twhile (node !== null)\n\t\t{\n\t\t\tlet next = node.next;\n\n\t\t\tif (node.isEqual(callback, arg0, arg1, arg2, arg3, arg4, arg5))\n\t\t\t{\n\t\t\t\tif (node.exec(this.host) === false)\n\t\t\t\t\tthis.unlink(node);\n\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tnode = next;\n\t\t}\n\t},\n\n\t/**\n\t * \tExecutes the specified callback.\n\t * \t!execc (node: Callback, host?: any) : void;\n\t */\n\texecc: function (node, host=null)\n\t{\n\t\tif (node.exec(host ?? this.host) === false)\n\t\t\tthis.unlink(node);\n\t}\n});\n\n//!/class\n\n//!namespace Handler\n//!namespace Pool\n\n/**\n * \tAllocates a new handler instance.\n * \t!function alloc (host?: Object) : Handler;\n */\n\nRecycler.createPool(Handler, 16384, 6144);\nexport default Handler;\n","/*\n**\tutils/callback.js\n**\n**\tCopyright (c) 2016-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport { Class } from 'rinn';\nimport Recycler from './recycler.js';\n\n//![import \"./recycler\"]\n\n//:/**\n//: * \tDefines a callback node. Contains a callback function, and up to six arguments.\n//: */\n\n//!class Callback\n\nconst Callback = Class.extend\n({\n\tclassName: 'Callback',\n\n\t/*\n\t**\tCallback function.\n\t*/\n\tcallback: null,\n\n\t/*\n\t**\tOptional arguments.\n\t*/\n\targ0: null,\n\targ1: null,\n\targ2: null,\n\targ3: null,\n\targ4: null,\n\targ5: null,\n\n\t/*\n\t**\tLink to the previous and next callback.\n\t*/\n\tprev: null,\n\tnext: null,\n\n\t/**\n\t * \tInitializes the callback with the specified arguments.\n\t * \t!constructor (callback: Function, arg0?: any, arg1?: any, arg2?: any, arg3?: any, arg4?: any, arg5?: any);\n\t */\n\t__ctor: function (callback, arg0=null, arg1=null, arg2=null, arg3=null, arg4=null, arg5=null)\n\t{\n\t\tthis.callback = callback;\n\n\t\tthis.arg0 = arg0;\n\t\tthis.arg1 = arg1;\n\t\tthis.arg2 = arg2;\n\t\tthis.arg3 = arg3;\n\t\tthis.arg4 = arg4;\n\t\tthis.arg5 = arg5;\n\n\t\tthis.prev = null;\n\t\tthis.next = null;\n\t},\n\n\t/*\n\t**\tDestructs the instance.\n\t*/\n\t__dtor: function()\n\t{\n\t\tthis.callback = null;\n\n\t\tthis.arg0 = null;\n\t\tthis.arg1 = null;\n\t\tthis.arg2 = null;\n\t\tthis.arg3 = null;\n\t\tthis.arg4 = null;\n\t\tthis.arg5 = null;\n\n\t\tthis.prev = null;\n\t\tthis.next = null;\n\t},\n\n\t/*\n\t**\tReturns true if the specified arguments are the same as the callback. Compares from left to right. All null values are ignored.\n\t*/\n\tisEqual: function (callback=null, arg0=null, arg1=null, arg2=null, arg3=null, arg4=null, arg5=null)\n\t{\n\t\tif (callback !== null && Callback.isInstance(callback))\n\t\t\treturn callback === this;\n\n\t\tif (callback !== null && this.callback !== callback)\n\t\t\treturn false;\n\n\t\tif (arg0 !== null && this.arg0 !== arg0)\n\t\t\treturn false;\n\n\t\tif (arg1 !== null && this.arg1 !== arg1)\n\t\t\treturn false;\n\n\t\tif (arg2 !== null && this.arg2 !== arg2)\n\t\t\treturn false;\n\n\t\tif (arg3 !== null && this.arg3 !== arg3)\n\t\t\treturn false;\n\n\t\tif (arg4 !== null && this.arg4 !== arg4)\n\t\t\treturn false;\n\n\t\tif (arg5 !== null && this.arg5 !== arg5)\n\t\t\treturn false;\n\n\t\treturn true;\n\t},\n\n\t/**\n\t * \tExecutes the callback. Returns `false` if the callback has finished and should be removed.\n\t * \t@param host - Host object.\n\t * \t!exec (host: Object) : boolean;\n\t */\n\texec: function (host)\n\t{\n\t\tif (this.callback !== null)\n\t\t\treturn this.callback (host, this.arg0, this.arg1, this.arg2, this.arg3, this.arg4, this.arg5);\n\n\t\treturn true;\n\t}\n});\n\n//!/class\n\n//!namespace Callback\n//!namespace Pool\n\n/**\n * \tAllocates a callback with the specified arguments.\n * \t!function alloc (callback: Function, arg0?: any, arg1?: any, arg2?: any, arg3?: any, arg4?: any, arg5?: any) : Callback;\n */\n\nRecycler.createPool(Callback, 16384, 6144);\nexport default Callback;\n","/*\n**\tmath/rect.js\n**\n**\tCopyright (c) 2016-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport { Class } from 'rinn';\nimport Recycler from '../utils/recycler.js';\n\n//![import \"../utils/recycler\"]\n//![import \"./vec2\"]\n\n//:/**\n//: * \tRepresents a 2D rectangle.\n//: */\n\n//!class Rect\n\nconst Rect = Class.extend\n({\n\tclassName: 'Rect',\n\n\t/**\n\t * \tCoordinates of the rectangle (cx and cy are for the center). Note that this fields are readonly they should be\n\t * \tmodified through methods only.\n\t */\n\n\t/**\n\t * \t!readonly cx: number;\n\t */\n\tcx: 0,\n\t/**\n\t * \t!readonly cy: number;\n\t */\n\tcy: 0,\n\t/**\n\t * \t!readonly x1: number;\n\t */\n\tx1: 0,\n\t/**\n\t * \t!readonly y1: number;\n\t */\n\ty1: 0,\n\t/**\n\t * \t!readonly x2: number;\n\t */\n\tx2: 0,\n\t/**\n\t * \t!readonly y2: number;\n\t */\n\ty2: 0,\n\n\t/**\n\t * \tConstructs a rectangle of zero size, centered at (0, 0).\n\t * \t!constructor();\n\t */\n\t/**\n\t * \tConstructs a rectangle centered at (0, 0) with the specified size.\n\t * \t!constructor (width: number, height: number);\n\t */\n\t/**\n\t * \tConstructs a rectangle with the specified coordinates.\n\t * \t!constructor (x1: number, y1: number, x2: number, y2: number);\n\t */\n\t__ctor: function (x1=null, y1=null, x2=null, y2=null)\n\t{\n\t\tif (x1 === null)\n\t\t{\n\t\t\tthis.x1 = this.y1 = this.x2 = this.y2 = this.cx = this.cy = 0;\n\t\t\treturn this;\n\t\t}\n\n\t\tif (x2 === null)\n\t\t{\n\t\t\tthis.set (0, 0, 0, 0);\n\t\t\tthis.resize (x1, y1);\n\t\t\treturn this;\n\t\t}\n\n\t\treturn this.set(x1, y1, x2, y2);\n\t},\n\n\t/*\n\t**\tDestructor.\n\t*/\n\t__dtor: function ()\n\t{\n\t},\n\n\t/**\n\t * \tReturns a clone of the rectangle.\n\t * \t!clone() : Rect;\n\t */\n\tclone: function ()\n\t{\n\t\treturn Rect.Rool.alloc(this.x1, this.y1, this.x2, this.y2);\n\t},\n\n\t/**\n\t * \tSets all coordinates of the rectangle to zero.\n\t * \t!zero() : Rect;\n\t */\n\tzero: function ()\n\t{\n\t\tthis.cx = 0; this.cy = 0;\n\t\tthis.x1 = 0; this.y1 = 0;\n\t\tthis.x2 = 0; this.y2 = 0;\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tSets all coordinates of the rectangle to `null` for subsequent use with `extendWithPoint`.\n\t * \t!reset() : Rect;\n\t */\n\treset: function ()\n\t{\n\t\tthis.cx = null; this.cy = null;\n\t\tthis.x1 = null; this.y1 = null;\n\t\tthis.x2 = null; this.y2 = null;\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tExtends the rectangle to contain the specified vector coordinates.\n\t * \t!extendWithPoint (v: Vec2) : Rect;\n\t */\n\t/**\n\t * \tExtends the rectangle to contain the specified point.\n\t * \t!extendWithPoint (x: number, y: number) : Rect;\n\t */\n\textendWithPoint: function (x, y=null)\n\t{\n\t\tif (y === null)\n\t\t{\n\t\t\tconst r = x;\n\t\t\tx = r.x;\n\t\t\ty = r.y;\n\t\t}\n\n\t\tif (this.x1 === null || x < this.x1) this.x1 = x;\n\t\tif (this.y1 === null || y < this.y1) this.y1 = y;\n\t\tif (this.x2 === null || x > this.x2) this.x2 = x;\n\t\tif (this.y2 === null || y > this.y2) this.y2 = y;\n\n\t\tthis.cx = (this.x1 + this.x2) / 2;\n\t\tthis.cy = (this.y1 + this.y2) / 2;\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tTranslates the rectangle by the given deltas.\n\t * \t!translate (dx: number, dy: number) : Rect;\n\t */\n\ttranslate: function (dx, dy)\n\t{\n\t\tthis.x1 += dx; this.y1 += dy;\n\t\tthis.x2 += dx; this.y2 += dy;\n\t\tthis.cx += dx; this.cy += dy;\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tMoves the center of the rectangle to the specified position.\t \n\t * \t@param normalized - When `true` the arguments `x` and `y` are treated as normalized ranging from 0 to 1 (inclusive).\n\t * \t!centerAt (x: number, y: number, normalized?: false) : Rect;\n\t */\n\tcenterAt: function (x, y, normalized=false)\n\t{\n\t\tif (normalized == true)\n\t\t{\n\t\t\tx = this.x1 + x*(this.x2 - this.x1);\n\t\t\ty = this.y1 + y*(this.y2 - this.y1);\n\t\t}\n\n\t\treturn this.translate (x - this.cx, y - this.cy);\n\t},\n\n\t/**\n\t * \tCopies the coordinates of the specified rectangle.\n\t * \t!set (r: Rect) : Rect;\n\t */\n\t/**\n\t * \tSets the coordinates of the rectangle.\n\t * \t!set (x1: number, y1: number, x2: number, y2: number) : Rect;\n\t */\n\tset: function (x1, y1=null, x2=null, y2=null)\n\t{\n\t\tif (y1 === null)\n\t\t{\n\t\t\tconst r = x1;\n\t\t\tx1 = r.x1; y1 = r.y1;\n\t\t\tx2 = r.x2; y2 = r.y2;\n\t\t}\n\n\t\tthis.cx = (x1 + x2) / 2;\n\t\tthis.cy = (y1 + y2) / 2;\n\n\t\tthis.x1 = x1;\n\t\tthis.y1 = y1;\n\t\tthis.x2 = x2;\n\t\tthis.y2 = y2;\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tReturns `true` if the given rectangle coordinates are equal.\n\t * \t!equals (r: Rect) : boolean;\n\t */\n\t/**\n\t * \tReturns `true` if the coordinates are equal.\n\t * \t!equals (x1: number, y1: number, x2: number, y2: number) : boolean;\n\t */\n\tequals: function (x1, y1=null, x2=null, y2=null)\n\t{\n\t\tif (y1 === null)\n\t\t{\n\t\t\tconst r = x1;\n\t\t\tx1 = r.x1; y1 = r.y1;\n\t\t\tx2 = r.x2; y2 = r.y2;\n\t\t}\n\n\t\treturn x1 == this.x1 && x2 == this.x2 && y1 == this.y1 && y2 == this.y2;\n\t},\n\n\t/**\n\t * \tReturns `true` if the specified rectangle is contained in the current one.\n\t * \t!contains (r: Rect) : boolean;\n\t */\n\t/**\n\t * \tReturns `true` if the specified rectangle is contained in the current one.\n\t * \t!contains (x1: number, y1: number, x2: number, y2: number) : boolean;\n\t */\n\tcontains: function (x1, y1=null, x2=null, y2=null)\n\t{\n\t\tif (y1 === null)\n\t\t{\n\t\t\tconst r = x1;\n\t\t\tx1 = r.x1; y1 = r.y1;\n\t\t\tx2 = r.x2; y2 = r.y2;\n\t\t}\n\n\t\treturn (x1 == Math.max(this.x1, x1)) && (y1 == Math.max(this.y1, y1)) && (x2 == Math.min(this.x2, x2)) && (y2 == Math.min(this.y2, y2));\n\t},\n\n\t/**\n\t * \tSets the coordinates of the rectangle to the union of it and the given one.\n\t * \t!setAsUnion (r: Rect) : Rect;\n\t */\n\t/**\n\t * \tSets the coordinates of the rectangle to the union of it and the given one.\n\t * \t!setAsUnion (x1: number, y1: number, x2: number, y2: number) : Rect;\n\t */\n\tsetAsUnion: function (x1, y1=null, x2=null, y2=null)\n\t{\n\t\tif (y1 === null)\n\t\t{\n\t\t\tconst r = x1;\n\t\t\tx1 = r.x1; y1 = r.y1;\n\t\t\tx2 = r.x2; y2 = r.y2;\n\t\t}\n\n\t\tthis.x1 = Math.min(this.x1, x1);\n\t\tthis.y1 = Math.min(this.y1, y1);\n\t\tthis.x2 = Math.max(this.x2, x2);\n\t\tthis.y2 = Math.max(this.y2, y2);\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tReturns `true` if the rectangles intersect.\n\t * \t!intersects (r: Rect) : boolean;\n\t */\n\t/**\n\t * \tReturns `true` if the rectangles intersect.\n\t * \t!intersects (x1: number, y1: number, x2: number, y2: number) : boolean;\n\t */\n\tintersects: function (x1, y1=null, x2=null, y2=null)\n\t{\n\t\tif (y1 === null)\n\t\t{\n\t\t\tconst r = x1;\n\t\t\tx1 = r.x1; y1 = r.y1;\n\t\t\tx2 = r.x2; y2 = r.y2;\n\t\t}\n\n\t\tlet _x1 = Math.max(this.x1, x1);\n\t\tlet _y1 = Math.max(this.y1, y1);\n\t\tlet _x2 = Math.min(this.x2, x2);\n\t\tlet _y2 = Math.min(this.y2, y2);\n\n\t\treturn Math.max(0, _y2-_y1) * Math.max(0, _x2-_x1) > 0;\n\t},\n\n\t/**\n\t * \tSets the coordinates of the rectangle to the intersection of it and the given one.\n\t * \t@returns Boolean indicating if the intersection is non-empty.\n\t * \t!setAsIntersection (r: Rect) : boolean;\n\t */\n\t/**\n\t * \tSets the coordinates of the rectangle to the intersection of it and the given one.\n\t * \t@returns Boolean indicating if the intersection is non-empty.\n\t * \t!setAsIntersection (x1: number, y1: number, x2: number, y2: number) : boolean;\n\t */\n\tsetAsIntersection: function (x1, y1=null, x2=null, y2=null)\n\t{\n\t\tif (y1 === null)\n\t\t{\n\t\t\tconst r = x1;\n\t\t\tx1 = r.x1; y1 = r.y1;\n\t\t\tx2 = r.x2; y2 = r.y2;\n\t\t}\n\n\t\tthis.x1 = Math.max(this.x1, x1);\n\t\tthis.y1 = Math.max(this.y1, y1);\n\t\tthis.x2 = Math.min(this.x2, x2);\n\t\tthis.y2 = Math.min(this.y2, y2);\n\n\t\treturn Math.max(0, this.y2-this.y1) * Math.max(0, this.x2-this.x1) > 0;\n\t},\n\n\t/**\n\t * \tResizes the rectangle to the given size using its center or top-left corner as reference.\n\t * \t@param topLeftRelative - When `true` reference will be top-left corner, set to `false` to use the center.\n\t * \t@param normalized - When `true` the `w` and `h` will be treated as normalized ranging from 0 to 1 (inclusive).\n\t * \t!resize (w: number, h: number, normalized?: boolean, topLeftRelative?: boolean) : Rect;\n\t */\n\tresize: function (w, h, topLeftRelative=false, normalized=false)\n\t{\n\t\tif (normalized == true)\n\t\t{\n\t\t\tw *= (this.x2 - this.x1);\n\t\t\th *= (this.y2 - this.y1);\n\t\t}\n\n\t\tif (topLeftRelative == true)\n\t\t{\n\t\t\tthis.x2 = this.x1 + w;\n\t\t\tthis.y2 = this.y1 + h;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tw /= 2; h /= 2;\n\n\t\t\tthis.x1 = this.cx - w; this.y1 = this.cy - h;\n\t\t\tthis.x2 = this.cx + w; this.y2 = this.cy + h;\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tResizes the rectangle using the specified deltas, relative to its center or top-left corner.\n\t * \t@param topLeftRelative - When `true` reference will be top-left corner, set to `false` to use the center.\n\t * \t!resizeBy (dw: number, dh: number, topLeftRelative?: boolean) : Rect;\n\t */\n\tresizeBy: function (dw, dh, topLeftRelative=false)\n\t{\n\t\tif (topLeftRelative == true)\n\t\t{\n\t\t\tthis.x2 += dw;\n\t\t\tthis.y2 += dh;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tdw /= 2; dh /= 2;\n\n\t\t\tthis.x1 -= dw; this.y1 -= dh;\n\t\t\tthis.x2 += dw; this.y2 += dh;\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tReturns the width of the rectangle.\n\t * \t!width() : number;\n\t */\n\twidth: function ()\n\t{\n\t\treturn this.x2 - this.x1;\n\t},\n\n\t/**\n\t * \tReturns the height of the rectangle.\t \n\t * \t!height() : number;\n\t */\n\theight: function ()\n\t{\n\t\treturn this.y2 - this.y1;\n\t},\n\n\t/**\n\t * \tReturns the normalized center X-coordinate of the rectangle.\n\t * \t!ncx() : number;\n\t */\n\tncx: function ()\n\t{\n\t\treturn (this.cx - this.x1) / (this.x2 - this.x1);\n\t},\n\n\t/**\n\t * \tReturns the normalized center Y-coordinate of the rectangle.\n\t * \t!ncy() : number;\n\t */\n\tncy: function ()\n\t{\n\t\treturn (this.cy - this.y1) / (this.y2 - this.y1);\n\t},\n\n\t/**\n\t * \tReturns `true` if the rectangle is a right rectangle, that is: x1 < x2 and y1 < y2.\n\t * \t!isRight() : boolean;\n\t */\n\tisRight: function ()\n\t{\n\t\treturn this.x1 <= this.x2 && this.y1 <= this.y2;\n\t},\n\n\t/**\n\t * \tReturns `true` if the specified point is contained in the rectangle.\n\t * \t@param tol - Used to specify a tolerance value (default is zero).\n\t * \t!containsPoint (x: number, y: number, tol?: number) : boolean;\n\t */\n\tcontainsPoint: function (x, y, tol=0)\n\t{\n\t\treturn (this.x1-tol <= x && x <= this.x2+tol) && (this.y1-tol <= y && y <= this.y2+tol);\n\t},\n\n\t/**\n\t * \tReturns the area of the rectangle.\n\t * \t@param strict - Indicates if the area is returned only if the rectangle is a right rectangle. \t \n\t * \t!area (strict?: boolean) : number;\n\t */\n\tarea: function (strict)\n\t{\n\t\treturn strict ? (this.isRight() ? (this.y2-this.y1)*(this.x2-this.x1) : 0) : ((this.y2-this.y1)*(this.x2-this.x1));\n\t},\n\n\t/**\n\t * \tSets the components of the rectangle to their rounded-down integer parts.\n\t * \t!floor() : Rect;\n\t */\n\tfloor: function()\n\t{\n\t\tthis.x1 = Math.floor(this.x1);\n\t\tthis.y1 = Math.floor(this.y1);\n\t\tthis.x2 = Math.floor(this.x2);\n\t\tthis.y2 = Math.floor(this.y2);\n\t\tthis.cx = Math.floor(this.cx);\n\t\tthis.cy = Math.floor(this.cy);\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tSets the components of the rectangle to their rounded-up integer parts.\n\t * \t!ceil() : Rect;\n\t */\n\tceil: function()\n\t{\n\t\tthis.x1 = Math.ceil(this.x1);\n\t\tthis.y1 = Math.ceil(this.y1);\n\t\tthis.x2 = Math.ceil(this.x2);\n\t\tthis.y2 = Math.ceil(this.y2);\n\t\tthis.cx = Math.ceil(this.cx);\n\t\tthis.cy = Math.ceil(this.cy);\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tReturns the string representation of the rectangle.\n\t * \t!toString() : string;\n\t */\n\ttoString: function ()\n\t{\n\t\treturn \"(\" + this.x1.toFixed(2) + \", \" + this.y1.toFixed(2) + \", \" + this.x2.toFixed(2) + \", \" + this.y2.toFixed(2) + \")\";\n\t},\n\n\t/**\n\t * \tFlattens the rectangle.\n\t * \t!flatten() : Array<number>;\n\t */\n\tflatten: function ()\n\t{\n\t\treturn [this.x1, this.y1, this.x2, this.y2];\n\t},\n\n\t/**\n\t * \tUnflattens the rectangle.\n\t * \t!unflatten(input: Array<number>) : Rect;\n\t */\n\tunflatten: function (o)\n\t{\n\t\tthis.set (o[0], o[1], o[2], o[3]);\n\t\treturn this;\n\t}\n});\n\n//!/class\n\n//!namespace Rect\n//!namespace Pool\n\n\t/**\n\t * \tAllocates a new rectangle of zero size.\n\t * \t!function alloc() : Rect;\n\t */\n\t/**\n\t * \tAllocates a new rectangle centered at (0, 0) with the specified size.\n\t * \t!function alloc (width: number, height: number) : Rect;\n\t */\n\t/**\n\t * \tAllocates a new rectangle with the specified coordinates.\n\t * \t!function alloc (x1: number, y1: number, x2: number, y2: number) : Rect;\n\t */\n\nRecycler.createPool (Rect, 4096, 2048);\nexport default Rect;\n","/*\n**\tmath/tfunction.js\n**\n**\tCopyright (c) 2016-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport { Class } from 'rinn';\n\n//:/**\n//: * \tDescribes a function dependent of time (t-function), multiple sampling points (t,y) can be added, this class\n//: * \tprovides methods to access any value for a given time, or the integral of a time range.\n//: */\n\n//!class TFunction\n\nconst TFunction = Class.extend\n({\n\tclassName: 'TFunction',\n\n\t/**\n\t * \tContains the time values `t` in the t-function, for each time value there is a corresponding `y` and `f`.\n\t * \t!t: Array<number>;\n\t */\n\tt: null,\n\n\t/**\n\t * \tContains the values (y) for each of the time values (t) in the t-function.\n\t * \t!y: Array<number>;\n\t */\n\ty: null,\n\n\t/**\n\t * \tContains the easing function (f) for each of the time values (t).\n\t * \t!f: Array< (t:number) => number >;\n\t */\n\tf: null,\n\n\t/**\n\t * \tConstructs the time function.\n\t * \t@param value - Initial value of the t-function for t=0, defaults to 0.\n\t * \t!constructor (value?: number);\n\t */\n\t__ctor: function (value=0)\n\t{\n\t\tthis.reset(value);\n\t},\n\n\t/**\n\t * \tResets the t-function to its initial state.\n\t * \t@param value - Initial value of the t-function for t=0. Default is 0.\n\t * \t!reset (value?: number) : TFunction;\n\t */\n\treset: function (value=0)\n\t{\n\t\tthis.t = [0];\n\t\tthis.y = [value];\n\t\tthis.f = [null];\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tResets the t-function and copies data from the specified source.\n\t * \t@param src - Source TFunction.\n\t * \t@param t0 - Initial time, if none specified will be assumed to be the min time of the source.\n\t * \t@param t1 - Final time, if none specified will be assumed to the the max time of the source.\n\t * \t@returns A TFunction or `null` if the specified time range could not be resolved.\n\t * \t!copyFrom (src: TFunction, t0: number, t1: number) : TFunction;\n\t */\n\tcopyFrom: function (src, t0, t1)\n\t{\n\t\tthis.t = [];\n\t\tthis.y = [];\n\t\tthis.f = [];\n\n\t\tif (t0 == null && t1 == null)\n\t\t{\n\t\t\tfor (let i = 0; i < src.t.length; i++)\n\t\t\t{\n\t\t\t\tthis.t.push(src.t[i]);\n\t\t\t\tthis.y.push(src.y[i]);\n\t\t\t\tthis.f.push(src.f[i]);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t}\n\n\t\tif (t0 == null) t0 = src.t[0];\n\t\tif (t1 == null) t1 = src.t[src.t.length-1];\n\n\t\tif (t0 < src.t[0]) t0 = src.t[0];\n\n\t\tlet i0 = src.find(t0);\n\t\tlet i1 = src.find(t1);\n\n\t\tif (i0 == null) return null;\n\t\tif (i1 == null) return null;\n\n\t\tif (src.t[i0] != t0) {\n\t\t\tthis.set(t0, src.getAt(t0), src.f[i0]);\n\t\t\ti0++;\n\t\t}\n\n\t\tfor (let i = i0; i <= i1; i++)\n\t\t\tthis.set(src.t[i], src.y[i], src.f[i]);\n\n\t\tif (src.t[i1] != t1)\n\t\t{\n\t\t\tlet dt = (t1 - src.t[i1]) / Math.ceil(Math.log(t1 - src.t[i1]));\n\t\t\tlet t = this.t[this.t.length-1];\n\n\t\t\tif (dt <= 0) dt = 1;\ndt = t1-t; // Force just one step.\n\t\t\twhile (t != t1)\n\t\t\t{\n\t\t\t\tif (t+dt > t1)\n\t\t\t\t\tdt = t1 - t;\n\n\t\t\t\tt += dt;\n\t\t\t\tthis.set(float4(t), src.getAt(t), src.f[i1]);\n\t\t\t}\n\t\t}\n\t\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tCreates a new t-function with the same values as the current one.\n\t * \t@param t0 - Initial time, if none specified will be assumed to be the min time of the source.\n\t * \t@param t1 - Final time, if none specified will be assumed to the the max time of the source.\n\t * \t!clone (t0: number, t1: number) : TFunction;\n\t */\n\tclone: function (t0, t1)\n\t{\n\t\treturn (new TFunction()).copyFrom(this, t0, t1);\n\t},\n\n\t/**\n\t * \tReturns the maximum time value in the t-function plus the given delta.\n\t * \t@param delta - Delta value to add to the result.\n\t * \t!endTime (delta?: number) : number;\n\t */\n\tendTime: function (delta=0)\n\t{\n\t\treturn this.t[this.t.length-1] + delta;\n\t},\n\n\t/**\n\t * \tReturns the start time of the t-function plus the given delta.\n\t * \t@param delta - Delta value to add to the result.\n\t * \t!startTime (delta?: number) : number;\n\t */\n\tstartTime: function (delta=0)\n\t{\n\t\treturn this.t[0] + delta;\n\t},\n\n\t/**\n\t * \tFinds the index of a sampling point whose sampling range contains the given time.\n\t * \t@param time - Time value to search.\n\t * \t@returns Index of the sampling point or `null` if not within range.\n\t * \t!find (time: number) : number|null;\n\t */\n\tfind: function (time)\n\t{\n\t\tif (time < this.t[0])\n\t\t\treturn null;\n\n\t\tconst n = this.t.length;\n\n\t\tfor (let i = 1; i < n; i++)\n\t\t{\n\t\t\tif (time < this.t[i])\n\t\t\t\treturn i-1;\n\t\t}\n\n\t\treturn n-1;\n\t},\n\n\t/**\n\t * \tSets a sampling point (t,y).\n\t * \t@param t - Time value of the sampling point.\n\t * \t@param y - Y-value for the given t.\n\t * \t@param f - Easing function.\n\t * \t!set (t: number, y: number, f?: (t: number) => number) : TFunction;\n\t */\n\tset: function (t, y, f=null)\n\t{\n\t\tlet i = this.find(t);\n\t\tif (i == null) return false;\n\n\t\tif (this.t[i] == t)\n\t\t{\n\t\t\tthis.y[i] = y;\n\t\t\tif (f != null) this.f[i] = f;\n\t\t}\n\t\telse\n\t\t{\n\t\t\ti++;\n\t\t\tthis.t.splice(i, 0, t);\n\t\t\tthis.y.splice(i, 0, y);\n\t\t\tthis.f.splice(i, 0, f);\n\t\t}\n\n\t\treturn true;\n\t},\n\n\t/**\n\t * \tReturns the last Y-value in the t-function.\n\t *\t!get() : number;\n\t */\n\tget: function ()\n\t{\n\t\treturn this.y[this.y.length-1];\n\t},\n\n\t/**\n\t * \tReturns the Y-value in the t-function corresponding to some point in time (t).\n\t * \t@param t - Time (t) value.\n\t * \t!getAt (t: number) : number;\n\t */\n\tgetAt: function (t)\n\t{\n\t\tlet i0 = this.find(t);\n\t\tif (i0 == null) return 0;\n\n\t\tlet i1 = i0 + 1;\n\n\t\tif (this.t[i0] == t || i1 >= this.t.length || this.y[i0] == this.y[i1] || this.f[i0] == null)\n\t\t\treturn this.y[i0];\n\n\t\tif (this.f[i0] == null)\n\t\t\treturn this.y[i0];\n\n\t\tlet x = t;\n\t\tlet x0 = this.t[i0];\n\t\tlet x1 = this.t[i1];\n\t\tlet y0 = this.y[i0];\n\t\tlet y1 = this.y[i1];\n\n\t\tt = (x - x0) / (x1 - x0);\n\t\tt = this.f[i0](t);\n\n\t\treturn t*y1 + (1-t)*y0;\n\t},\n\n\t/**\n\t * \tReturns the approximate definite integral of the t-function for the given time range.\n\t * \t@param t0 - Initial time value, defaults to minimum time of the t-function.\n\t * \t@param t1 - Final time value, defaults to the maximum time of the t-function.\n\t * \t@param c0 - Constant of integration, defaults to 0.\n\t * \t@returns Definite integral of t-function from t0 to t1.\n\t * \t!integral (t0?: number, t1?: number, c0?: number) : number;\n\t */\n\tintegral: function (t0=null, t1=null, c0=0)\n\t{\n\t\tif (t0 == null) t0 = this.t[0];\n\t\tif (t1 == null) t1 = this.t[this.t.length-1];\n\n\t\tif (t0 < this.t[0]) t0 = this.t[0];\n\n\t\tlet sign = 1;\n\n\t\tif (t0 > t1) {\n\t\t\tlet tmp; tmp = t0; t0 = t1; t1 = tmp;\n\t\t\tsign = -1;\n\t\t}\n\n\t\tlet accum = c0;\n\n\t\tfor (let time = t0; time < t1; )\n\t\t{\n\t\t\tlet i0 = this.find(time);\n\t\t\tif (i0 == null) return 0;\n\n\t\t\tlet i1 = i0 + 1;\n\n\t\t\tlet x0 = Math.max(this.t[i0], time);\n\t\t\tlet x1 = Math.min(i1 < this.t.length ? this.t[i1] : t1, t1);\n\n\t\t\tlet y0 = this.getAt(x0);\n\t\t\tlet y1 = this.getAt(x1);\n\n\t\t\tlet dx = x1 - x0;\n\t\t\tlet dy = y1 - y0;\n\n\t\t\tif (this.f[i0] == null)\n\t\t\t\taccum += y0*dx;\n\t\t\telse\n\t\t\t\taccum += 0.5*dy*(x1+x0) - x0*dy + y0*dx;\n\n\t\t\ttime += dx;\n\t\t}\n\n\t\treturn sign*accum;\n\t},\n\n\t/**\n\t * \tReturns the approximate definite second integral of the t-function for the given time range.\n\t * \t@param t0 - Initial time value, defaults to minimum time of the t-function.\n\t * \t@param t1 - Final time value, defaults to the maximum time of the t-function.\n\t * \t@param c0 - Constant of integration, defaults to 0.\n\t * \t@returns Definite second integral of t-function from t0 to t1.\n\t * \t!integral (t0?: number, t1?: number, c0?: number) : number;\n\t */\n\tsecond_integral: function (t0=null, t1=null, c0=0)\n\t{\n\t\tif (t0 == null) t0 = this.t[0];\n\t\tif (t1 == null) t1 = this.t[this.t.length-1];\n\n\t\tlet a0 = TFunction.Temp1.copyFrom(this, this.t[0], t0).integrate(c0).integral();\n\t\tlet a1 = TFunction.Temp2.copyFrom(this, this.t[0], t1).integrate(c0).integral();\n\n\t\treturn a1 - a0;\n\t},\n\n\t/**\n\t * \tTransforms the t-function to its integral. For every sampling range in the t-function their Y-value will be set to the integral\n\t * \tof the sampling range plus any previous integrals.\n\t *\n\t * \t@param c0 - Constant of integration. Defaults to 0.\n\t * \t!integrate (c0?: number) : TFunction;\n\t */\n\tintegrate: function (c0=0)\n\t{\n\t\tlet y = [];\n\n\t\ty.push(c0);\n\n\t\tfor (let i = 1; i < this.t.length; i++)\n\t\t\ty.push(y[i-1] + this.integral(this.t[i-1], this.t[i]));\n\n\t\tthis.y = y;\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tTransforms the t-function Y-values to the accumulated sum of each Y-value plus the given c0.\n\t * \t@param c0 - Initial value (defaults to 0).\n\t * \t!accumulate(c0?: number) : TFunction;\n\t */\n\taccumulate: function (c0=0)\n\t{\n\t\tthis.y[0] += c0;\n\n\t\tfor (let i = 1; i < this.t.length; i++)\n\t\t\tthis.y[i] += this.y[i-1];\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tRemoves all sampling-points located before the given index.\n\t *\t!chopLeft (i: number) : TFunction;\n\t */\n\tchopLeft: function (i)\n\t{\n\t\tthis.t.splice(0, i);\n\t\tthis.f.splice(0, i);\n\t\tthis.y.splice(0, i);\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tRemoves all sampling-points located after the given index.\n\t * \t!chopRight (i: number) : TFunction;\n\t */\n\tchopRight: function (i)\n\t{\n\t\tthis.t.splice(i+1, this.t.length-i-1);\n\t\tthis.f.splice(i+1, this.f.length-i-1);\n\t\tthis.y.splice(i+1, this.y.length-i-1);\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tMaps the Y-value to other Y-values using the specified mapping function.\n\t * \t@param fn - Receives parameters `y` (y-value), `t` (t-value), and `i` (index).\n\t * \t!map (fn: (y: number, t: number, i: number) => number) : TFunction;\n\t */\n\tmap: function (fn)\n\t{\n\t\tfor (let i = 0; i < this.y.length; i++)\n\t\t\tthis.y[i] = fn (this.y[i], this.t[i], i);\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tReturns a string representation of the variable state.\n\t * \t!toString (c0?: number) : string;\n\t */\n\ttoString: function(c0=0)\n\t{\n\t\tlet s = '';\n\t\tlet n = 10;\n\n\t\tconst pad = function (value, n, char)\n\t\t{\n\t\t\tvalue = value.toString();\n\n\t\t\tif (char == null) char = ' ';\n\t\t\tchar = char[0];\n\n\t\t\twhile (value.length < n)\n\t\t\t\tvalue += char;\n\n\t\t\treturn value;\n\t\t};\n\n\t\ts += '\\n';\n\t\ts += pad(' Time', n) + ' ' + pad(' Value', n) + ' ' + pad(' Integral', n) + '\\n';\n\t\ts += pad('', n, '-') + ' ' + pad('', n, '-') + ' ' + pad('', n, '-') + '\\n';\n\n\t\tfor (let i = 0; i < this.t.length; i++)\n\t\t{\n\t\t\ts += pad(' '+float4(this.t[i]), n) + ' ' + pad(' '+float4(this.y[i]), n) + ' ' + pad(' '+float4(this.integral(this.t[0], this.t[i], c0)), n) + '\\n';\n\t\t}\n\n\t\treturn s;\n\t}\n});\n\nTFunction.Temp1 = new TFunction();\nTFunction.Temp2 = new TFunction();\n\nexport default TFunction;\n","/*\n**\tmath/bounds2.js\n**\n**\tCopyright (c) 2016-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport { Class } from 'rinn';\nimport Recycler from '../utils/recycler.js';\nimport Point2 from './point2.js';\nimport Rect from './rect.js';\n\n//![import \"../utils/recycler\"]\n//![import \"./point2\"]\n//![import \"./rect\"]\n\n//:/**\n//: * \tRepresentation of a bounding box in 2D space. The component values are upscaled by a fixed number of bits to allow sub-pixel\n//: * \ttranslations (internally), but the public values will always be integers.\n//: */\n\n//!class Bounds2\n\nconst Bounds2 = Class.extend\n({\n\tclassName: 'Bounds2',\n\n\t/**\n\t * \tCoordinates of the bounds (cx and cy are for the center). Note that this fields are read only and should be\n\t * \tmodified through methods only.\n\t */\n\n\t/**\n\t * \t!readonly cx: number;\n\t */\n\tcx: 0,\n\t/**\n\t * \t!readonly cy: number;\n\t */\n\tcy: 0,\n\t/**\n\t * \t!readonly x1: number;\n\t */\n\tx1: 0,\n\t/**\n\t * \t!readonly y1: number;\n\t */\n\ty1: 0,\n\t/**\n\t * \t!readonly x2: number;\n\t */\n\tx2: 0,\n\t/**\n\t * \t!readonly y2: number;\n\t */\n\ty2: 0,\n\n\t/**\n\t * \tUpscaled coordinates.\n\t */\n\tucx: 0, ucy: 0,\n\tux1: 0, uy1: 0,\n\tux2: 0, uy2: 0,\n\n\t/**\n\t * !constructor ();\n\t */\n\t/**\n\t * !constructor (bounds: Bounds2);\n\t */\n\t/**\n\t * !constructor (rect: Rect);\n\t */\n\t/**\n\t * !constructor (width: number, height: number);\n\t */\n\t/**\n\t * !constructor (x1: number, y1: number, x2: number, y2: number, upscaled?: boolean|false);\n\t */\n\t__ctor: function (x1=null, y1=null, x2=null, y2=null, upscaled=false)\n\t{\n\t\tif (x1 === null)\n\t\t{\n\t\t\tthis.ux1 = this.uy1 = this.ux2 = this.uy2 = this.ucx = this.ucy = 0;\n\t\t\treturn this.downscale();\n\t\t}\n\n\t\tif (y1 !== null && x2 === null)\n\t\t\treturn this.set(0, 0, 0, 0).resize(x1, y1);\n\n\t\treturn this.set(x1, y1, x2, y2, upscaled);\n\t},\n\n\t/**\n\t * Populates the downscaled components.\n\t */\n\tdownscale: function ()\n\t{\n\t\tthis.x1 = downscale(this.ux1);\n\t\tthis.y1 = downscale(this.uy1);\n\t\tthis.x2 = downscale(this.ux2);\n\t\tthis.y2 = downscale(this.uy2);\n\t\tthis.cx = downscale(this.ucx);\n\t\tthis.cy = downscale(this.ucy);\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * Truncates the components to remove fractional parts.\n\t * !trunc() : Bounds2;\n\t */\n\ttrunc: function ()\n\t{\n\t\tthis.ux1 = upscale(this.x1);\n\t\tthis.uy1 = upscale(this.y1);\n\t\tthis.ux2 = upscale(this.x2);\n\t\tthis.uy2 = upscale(this.y2);\n\t\tthis.ucx = upscale(this.cx);\n\t\tthis.ucy = upscale(this.cy);\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * Clones the bounds and returns a new object.\n\t * !clone() : Bounds2;\n\t */\n\tclone: function ()\n\t{\n\t\treturn Bounds2.Pool.alloc(this.ux1, this.uy1, this.ux2, this.uy2, true);\n\t},\n\n\t/**\n\t * Sets the components to zero.\n\t * !zero() : Bounds2;\n\t */\n\tzero: function ()\n\t{\n\t\tthis.ux1 = 0; this.uy1 = 0;\n\t\tthis.ux2 = 0; this.uy2 = 0;\n\t\tthis.ucx = 0; this.ucy = 0;\n\n\t\treturn this.downscale();\n\t},\n\n\t/**\n\t * Resets the component values to `null` for subsequent use with `setAsUnion`.\n\t * !reset() : Bounds2;\n\t */\n\treset: function ()\n\t{\n\t\tthis.ux1 = null; this.uy1 = null;\n\t\tthis.ux2 = null; this.uy2 = null;\n\t\tthis.ucx = null; this.ucy = null;\n\n\t\tthis.x1 = null; this.y1 = null;\n\t\tthis.x2 = null; this.y2 = null;\n\t\tthis.cx = null; this.cy = null;\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * Translates the bounds by the given deltas.\n\t * !translate (point: Point2) : Bounds2;\n\t */\n\t/**\n\t * Translates the bounds by the given deltas.\n\t * !translate (vec: Vec2) : Bounds2;\n\t */\n\t/**\n\t * Translates the bounds by the given deltas.\n\t * !translate (dx: number, dy: number, upscaled?: boolean) : Bounds2;\n\t */\n\ttranslate: function (dx, dy=null, upscaled=false)\n\t{\n\t\tif (dy === null)\n\t\t{\n\t\t\tif (Point2.isInstance(dx)) {\n\t\t\t\tdy = dx.uy;\n\t\t\t\tdx = dx.ux;\n\t\t\t} else { // Vec2\n\t\t\t\tdy = upscale(dx.y);\n\t\t\t\tdx = upscale(dx.x);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif (!upscaled) {\n\t\t\t\tdx = upscale(dx);\n\t\t\t\tdy = upscale(dy);\n\t\t\t}\n\t\t}\n\n\t\tthis.ux1 += dx; this.uy1 += dy;\n\t\tthis.ux2 += dx; this.uy2 += dy;\n\t\tthis.ucx += dx; this.ucy += dy;\n\n\t\treturn this.downscale();\n\t},\n\n\t/*\n\t**\tSets the coordinates of the bounds.\n\t**\n\t**\tBounds2 set (Bounds2 b)\n\t**\tBounds2 set (Rect r)\n\t**\tBounds2 set (float x1, float y1, float x2, float y2, bool upscaled=false)\n\t*/\n\tset: function (x1, y1=null, x2=null, y2=null, upscaled=false)\n\t{\n\t\tif (y1 === null)\n\t\t{\n\t\t\tif (Bounds2.isInstance(x1)) {\n\t\t\t\ty2 = x1.uy2;\n\t\t\t\tx2 = x1.ux2;\n\t\t\t\ty1 = x1.uy1;\n\t\t\t\tx1 = x1.ux1;\n\t\t\t} else {\n\t\t\t\ty2 = upscale(x1.y2);\n\t\t\t\tx2 = upscale(x1.x2);\n\t\t\t\ty1 = upscale(x1.y1);\n\t\t\t\tx1 = upscale(x1.x1);\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (!upscaled) {\n\t\t\t\tx1 = upscale(x1);\n\t\t\t\ty1 = upscale(y1);\n\t\t\t\tx2 = upscale(x2);\n\t\t\t\ty2 = upscale(y2);\n\t\t\t}\n\t\t}\n\n\t\tthis.ux1 = x1;\n\t\tthis.uy1 = y1;\n\t\tthis.ux2 = x2;\n\t\tthis.uy2 = y2;\n\n\t\tthis.ucx = (x1 + x2) >> 1;\n\t\tthis.ucy = (y1 + y2) >> 1;\n\n\t\treturn this.downscale();\n\t},\n\n\t/*\n\t**\tAdds the specified coordinates to the current ones.\n\t**\n\t**\tBounds2 add (Bounds2 b)\n\t**\tBounds2 add (Rect r)\n\t**\tBounds2 add (float x1, float y1, float x2, float y2, bool upscaled=false)\n\t*/\n\tadd: function (x1, y1=null, x2=null, y2=null, upscaled=false)\n\t{\n\t\tif (y1 === null)\n\t\t{\n\t\t\tif (Bounds2.isInstance(x1)) {\n\t\t\t\ty2 = x1.uy2;\n\t\t\t\tx2 = x1.ux2;\n\t\t\t\ty1 = x1.uy1;\n\t\t\t\tx1 = x1.ux1;\n\t\t\t} else {\n\t\t\t\ty2 = upscale(x1.y2);\n\t\t\t\tx2 = upscale(x1.x2);\n\t\t\t\ty1 = upscale(x1.y1);\n\t\t\t\tx1 = upscale(x1.x1);\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (!upscaled) {\n\t\t\t\tx1 = upscale(x1);\n\t\t\t\ty1 = upscale(y1);\n\t\t\t\tx2 = upscale(x2);\n\t\t\t\ty2 = upscale(y2);\n\t\t\t}\n\t\t}\n\n\t\tthis.ux1 += x1;\n\t\tthis.uy1 += y1;\n\t\tthis.ux2 += x2;\n\t\tthis.uy2 += y2;\n\n\t\tthis.ucx += (x1 + x2) >> 1;\n\t\tthis.ucy += (y1 + y2) >> 1;\n\n\t\treturn this.downscale();\n\t},\n\n\t/*\n\t**\tReturns true if the integer coordinates have the same values as the given argument.\n\t**\n\t**\tbool equals (Bounds2 b)\n\t**\tbool equals (Rect r)\n\t**\tbool equals (float x1, float y1, float x2, float y2)\n\t*/\n\tequals: function (x1, y1=null, x2=null, y2=null)\n\t{\n\t\tif (y1 === null)\n\t\t{\n\t\t\tif (Bounds2.isInstance(x1)) {\n\t\t\t\ty2 = x1.y2;\n\t\t\t\tx2 = x1.x2;\n\t\t\t\ty1 = x1.y1;\n\t\t\t\tx1 = x1.x1;\n\t\t\t} else {\n\t\t\t\ty2 = int(x1.y2);\n\t\t\t\tx2 = int(x1.x2);\n\t\t\t\ty1 = int(x1.y1);\n\t\t\t\tx1 = int(x1.x1);\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tx1 = int(x1);\n\t\t\ty1 = int(y1);\n\t\t\tx2 = int(x2);\n\t\t\ty2 = int(y2);\n\t\t}\n\n\t\treturn x1 == this.x1 && x2 == this.x2 && y1 == this.y1 && y2 == this.y2;\n\t},\n\n\t/*\n\t**\tReturns a bool indicating if the specified bounds are contained by the current bounds.\n\t**\n\t**\tbool contains (Bounds2 b)\n\t**\tbool contains (Rect r)\n\t**\tbool contains (float x1, float y1, float x2, float y2)\n\t*/\n\tcontains: function (x1, y1=null, x2=null, y2=null)\n\t{\n\t\tif (y1 === null)\n\t\t{\n\t\t\tif (Bounds2.isInstance(x1)) {\n\t\t\t\ty2 = x1.y2;\n\t\t\t\tx2 = x1.x2;\n\t\t\t\ty1 = x1.y1;\n\t\t\t\tx1 = x1.x1;\n\t\t\t} else {\n\t\t\t\ty2 = int(x1.y2);\n\t\t\t\tx2 = int(x1.x2);\n\t\t\t\ty1 = int(x1.y1);\n\t\t\t\tx1 = int(x1.x1);\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tx1 = int(x1);\n\t\t\ty1 = int(y1);\n\t\t\tx2 = int(x2);\n\t\t\ty2 = int(y2);\n\t\t}\n\n\t\treturn (x1 == Math.max(this.x1, x1)) && (y1 == Math.max(this.y1, y1)) && (x2 == Math.min(this.x2, x2)) && (y2 == Math.min(this.y2, y2));\n\t},\n\n\t/*\n\t**\tExtends the coordinates to ensure the specified argument is contained.\n\t**\n\t**\tBounds2 setAsUnion (Bounds2 b)\n\t**\tBounds2 setAsUnion (Rect r)\n\t**\tBounds2 setAsUnion (Point2 p)\n\t**\tBounds2 setAsUnion (Vec2 v)\n\t**\tBounds2 setAsUnion (float x, float y)\n\t**\tBounds2 setAsUnion (float x1, float y1, float x2, float y2)\n\t*/\n\tsetAsUnion: function (x1, y1=null, x2=null, y2=null)\n\t{\n\t\tif (y1 === null)\n\t\t{\n\t\t\tif (Bounds2.isInstance(x1))\n\t\t\t{\n\t\t\t\tthis.setAsUnion(x1.ux1, x1.uy1, true);\n\t\t\t\tthis.setAsUnion(x1.ux2, x1.uy2, true);\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\telse if (Rect.isInstance(x1))\n\t\t\t{\n\t\t\t\tthis.setAsUnion(x1.x1, x1.y1);\n\t\t\t\tthis.setAsUnion(x1.x2, x1.y2);\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\telse if (Point2.isInstance(x1))\n\t\t\t{\n\t\t\t\ty1 = x1.uy;\n\t\t\t\tx1 = x1.ux;\n\t\t\t}\n\t\t\telse // Vec2\n\t\t\t{\n\t\t\t\ty1 = upscale(x1.y);\n\t\t\t\tx1 = upscale(x1.x);\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (y2 !== null)\n\t\t\t{\n\t\t\t\tthis.setAsUnion(x1, y1);\n\t\t\t\tthis.setAsUnion(x2, y2);\n\t\t\t\treturn this;\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tif (x2 !== true)\n\t\t\t\t{\n\t\t\t\t\tx1 = upscale(x1);\n\t\t\t\t\ty1 = upscale(y1);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (this.ux1 === null || x1 < this.ux1) this.ux1 = x1;\n\t\tif (this.uy1 === null || y1 < this.uy1) this.uy1 = y1;\n\t\tif (this.ux2 === null || x1 > this.ux2) this.ux2 = x1;\n\t\tif (this.uy2 === null || y1 > this.uy2) this.uy2 = y1;\n\n\t\tthis.ucx = (this.ux1 + this.ux2) >> 1;\n\t\tthis.ucy = (this.uy1 + this.uy2) >> 1;\n\n\t\treturn this.downscale();\n\t},\n\n\t/*\n\t**\tReturns a bool indicating if the integer components of the bounds intersect with the specified argument.\n\t**\n\t**\tbool intersects (Bounds2 b)\n\t**\tbool intersects (Rect r)\n\t**\tbool intersects (float x1, float y1, float x2, float y2)\n\t*/\n\tintersects: function (x1, y1=null, x2=null, y2=null)\n\t{\n\t\tif (y1 === null)\n\t\t{\n\t\t\tif (Bounds2.isInstance(x1)) {\n\t\t\t\ty2 = x1.y2;\n\t\t\t\tx2 = x1.x2;\n\t\t\t\ty1 = x1.y1;\n\t\t\t\tx1 = x1.x1;\n\t\t\t} else {\n\t\t\t\ty2 = int(x1.y2);\n\t\t\t\tx2 = int(x1.x2);\n\t\t\t\ty1 = int(x1.y1);\n\t\t\t\tx1 = int(x1.x1);\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tx1 = int(x1);\n\t\t\ty1 = int(y1);\n\t\t\tx2 = int(x2);\n\t\t\ty2 = int(y2);\n\t\t}\n\n\t\tlet _x1 = Math.max(this.x1, x1);\n\t\tlet _y1 = Math.max(this.y1, y1);\n\t\tlet _x2 = Math.min(this.x2, x2);\n\t\tlet _y2 = Math.min(this.y2, y2);\n\n\t\treturn Math.max(0, _y2-_y1) * Math.max(0, _x2-_x1) > 0;\n\t},\n\n\t/*\n\t**\tSets the bounds to the intersection formed by the current bounds and the given argument.\n\t**\n\t**\tBounds2 setAsIntersection (Bounds2 b)\n\t**\tBounds2 setAsIntersection (Rect r)\n\t**\tBounds2 setAsIntersection (float x1, float y1, float x2, float y2)\n\t*/\n\tsetAsIntersection: function (x1, y1=null, x2=null, y2=null)\n\t{\n\t\tif (y1 === null)\n\t\t{\n\t\t\tif (Bounds2.isInstance(x1)) {\n\t\t\t\ty2 = x1.y2;\n\t\t\t\tx2 = x1.x2;\n\t\t\t\ty1 = x1.y1;\n\t\t\t\tx1 = x1.x1;\n\t\t\t} else {\n\t\t\t\ty2 = int(x1.y2);\n\t\t\t\tx2 = int(x1.x2);\n\t\t\t\ty1 = int(x1.y1);\n\t\t\t\tx1 = int(x1.x1);\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tx1 = int(x1);\n\t\t\ty1 = int(y1);\n\t\t\tx2 = int(x2);\n\t\t\ty2 = int(y2);\n\t\t}\n\n\t\tthis.ux1 = upscale(Math.max(this.x1, x1));\n\t\tthis.uy1 = upscale(Math.max(this.y1, y1));\n\t\tthis.ux2 = upscale(Math.min(this.x2, x2));\n\t\tthis.uy2 = upscale(Math.min(this.y2, y2));\n\n\t\tthis.ucx = (this.ux1 + this.ux2) >> 1;\n\t\tthis.ucy = (this.uy1 + this.uy2) >> 1;\n\n\t\tthis.downscale();\n\n\t\treturn Math.max(0, this.uy2-this.uy1) * Math.max(0, this.ux2-this.ux1) > 0;\n\t},\n\n\t/**\n\t * Resizes the bounds to the given size using center or top-left as reference.\t \n\t * @param {boolean} topLeftRelative (default `false`)\n\t * !resize (width: number|boolean|null, height: number|boolean|null, topLeftRelative?: boolean) : Bounds2;\n\t */\n\tresize: function (width, height, topLeftRelative=false)\n\t{\n\t\twidth = width !== null ? (width !== true ? upscale(width) : true) : this.ux2 - this.ux1;\n\t\theight = height !== null ? (height !== true ? upscale(height) : true)  : this.uy2 - this.uy1;\n\n\t\tif (width === true)\n\t\t\twidth = height*this.ratio();\n\t\telse if (height === true)\n\t\t\theight = width/this.ratio();\n\n\t\tif (topLeftRelative === true)\n\t\t{\n\t\t\tthis.ux2 = this.ux1 + width;\n\t\t\tthis.uy2 = this.uy1 + height;\n\n\t\t\tthis.ucx = (this.ux1 + this.ux2) >> 1;\n\t\t\tthis.ucy = (this.uy1 + this.uy2) >> 1;\n\t\t}\n\t\telse\n\t\t{\n\t\t\twidth >>= 1; height >>= 1;\n\n\t\t\tthis.ux1 = this.ucx - width; this.uy1 = this.ucy - height;\n\t\t\tthis.ux2 = this.ucx + width; this.uy2 = this.ucy + height;\n\t\t}\n\n\t\treturn this.downscale();\n\t},\n\n\t/**\n\t * Resizes the bounds using the specified deltas (using the center or top-left corner as reference).\n\t * !resizeBy (dWidth: number|boolean, dHeight: number|boolean, topLeftRelative?: boolean) : Bounds2;\n\t */\n\tresizeBy: function (dWidth, dHeight, topLeftRelative=false)\n\t{\n\t\tdWidth = dWidth !== true ? upscale(dWidth) : true;\n\t\tdHeight = dHeight !== true ? upscale(dHeight) : true;\n\n\t\tif (dWidth === true)\n\t\t\tdWidth = dHeight*this.ratio();\n\t\telse if (dHeight === true)\n\t\t\tdHeight = dWidth/this.ratio();\n\n\t\tif (topLeftRelative === true)\n\t\t{\n\t\t\tthis.ux2 += dWidth;\n\t\t\tthis.uy2 += dHeight;\n\n\t\t\tthis.ucx = (this.ux1 + this.ux2) >> 1;\n\t\t\tthis.ucy = (this.uy1 + this.uy2) >> 1;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tdWidth >>= 1; dHeight >>= 1;\n\n\t\t\tthis.ux1 -= dWidth; this.uy1 -= dHeight;\n\t\t\tthis.ux2 += dWidth; this.uy2 += dHeight;\n\t\t}\n\n\t\treturn this.downscale();\n\t},\n\n\t/**\n\t * Returns the width of the bounds.\n\t * !width(): number\n\t */\n\twidth: function ()\n\t{\n\t\treturn this.x2 - this.x1;\n\t},\n\n\t/**\n\t * Returns the height of the bounds.\n\t * !height(): number\n\t */\n\theight: function ()\n\t{\n\t\treturn this.y2 - this.y1;\n\t},\n\n\t/**\n\t * Returns the aspect ratio (width divided by height).\n\t * !ratio(): number\n\t */\n\tratio: function ()\n\t{\n\t\treturn (this.x2 - this.x1) / (this.y2 - this.y1);\n\t},\n\n\t/**\n\t * Returns true if the bounds are in forward position (x1 < x2 and y1 < y2).\n\t * !isForward() : boolean;\n\t */\n\tisForward: function ()\n\t{\n\t\treturn this.ux1 <= this.ux2 && this.uy1 <= this.uy2;\n\t},\n\n\t/**\n\t * Returns true if the specified point is within the bounds. The `tol` parameter is used to specify a tolerance value.\n\t * !containsPoint (x: number, y: number, tol?: number) : boolean;\n\t */\n\tcontainsPoint: function (x, y, tol=0)\n\t{\n\t\tx = upscale(x);\n\t\ty = upscale(y);\n\t\ttol = upscale(tol);\n\n\t\treturn (this.ux1-tol <= x && x <= this.ux2+tol) && (this.uy1-tol <= y && y <= this.uy2+tol);\n\t},\n\n\t/**\n\t * Returns the area of the bounds. When strict is true, the area will be returned only if the bounds are forward.\n\t * !area (strict?: boolean|false) : number;\n\t */\n\tarea: function (strict=false)\n\t{\n\t\treturn strict ? (this.isForward() ? (this.y2-this.y1)*(this.x2-this.x1) : 0) : ((this.y2-this.y1)*(this.x2-this.x1));\n\t},\n\n\t/**\n\t * Returns the string representation of the rect coordinates.\n\t * !toString() : string;\n\t */\n\ttoString: function ()\n\t{\n\t\treturn '(' + this.x1 + ', ' + this.y1 + ', ' + this.x2 + ', ' + this.y2 + ')';\n\t},\n\n\t/**\n\t * Flattens the contents of the bounds.\n\t * !flatten() : \\[number,number,number,number\\];\n\t */\n\tflatten: function ()\n\t{\n\t\treturn [this.ux1, this.uy1, this.ux2, this.uy2];\n\t},\n\n\t/**\n\t * Unflattens the given array into the bounds object.\n\t * !unflatten (data: \\[number,number,number,number\\]) : Bounds2;\n\t */\n\tunflatten: function (x)\n\t{\n\t\tthis.ux1 = x[0];\n\t\tthis.uy1 = x[1];\n\t\tthis.ux2 = x[2];\n\t\tthis.uy2 = x[3];\n\n\t\tthis.ucx = (this.ux1 + this.ux2) >> 1;\n\t\tthis.ucy = (this.uy1 + this.uy2) >> 1;\n\n\t\treturn this.downscale();\n\t}\n});\n\n//!/class\n\n//!namespace Rect\n//!namespace Pool\n\n\t/**\n\t * \tAllocates a new object of zero size.\n\t * \t!function alloc() : Bounds2;\n\t */\n\nRecycler.createPool (Bounds2, 8192, 3072);\nexport default Bounds2;\n","/*\n**\tmath/point2.js\n**\n**\tCopyright (c) 2016-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport { Class } from 'rinn';\nimport Recycler from '../utils/recycler.js';\n\n//![import \"../utils/recycler\"]\n//![import \"./vec2\"]\n\n//:/**\n//: * \tRepresentation of a point in 2D space. The coordinate values are upscaled by a fixed number of bits to allow\n//: * \tsub-pixel translations (internally), but the public values will always be integers.\n//: */\n\n//!class Point2\n\nconst Point2 = Class.extend\n({\n\tclassName: 'Point2',\n\n\t/**\n\t * \tUpscaled coordinates of the point.\n\t * \t!readonly ux: number;\n\t * \t!readonly uy: number;\n\t */\n\tux: 0, uy: 0,\n\n\t/**\n\t * \tCoordinates of the point.\n\t * \t!readonly x: number;\n\t * \t!readonly y: number;\n\t */\n\tx: 0, y: 0,\n\n\t/**\n\t *\tConstructs the Point2 instance from another Point2.\n\t * \t!constructor (value: Point2);\n\t */\n\t/**\n\t *\tConstructs the Point2 instance from a Vec2.\n\t * \t!constructor (value: Vec2);\n\t */\n\t/**\n\t *\tConstructs the Point2 instance with the specified coordinates.\n\t * \t!constructor (x?: number, y?: number);\n\t */\n\t__ctor: function (x=null, y=null)\n\t{\n\t\treturn this.set(x, y);\n\t},\n\n\t/**\n\t *\tPopulates the downscaled coordinates.\n\t */\n\tdownscale: function ()\n\t{\n\t\tthis.x = downscale(this.ux);\n\t\tthis.y = downscale(this.uy);\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tClones the point coordinates into a new Point2 object.\n\t * \t!clone() : Point2;\n\t */\n\tclone: function ()\n\t{\n\t\treturn Point2.Pool.alloc(this);\n\t},\n\n\t/**\n\t *\tSets the coordinates of the point from another Point2.\n\t *\t!set (value: Point2) : Point2;\n\t */\n\t/**\n\t *\tSets the coordinates of the point from a Vec2 object.\n\t *\t!set (value: Vec2) : Point2;\n\t */\n\t/**\n\t *\tSets the coordinates of the point.\n\t *\t@param upscaled - When `true` the specified values are assumed to have already been upscaled.\n\t *\n\t *\t!set (x: number, y: number, upscaled?: boolean) : Point2;\n\t */\n\tset: function (x, y=null, upscaled=false)\n\t{\n\t\tif (x === null) {\n\t\t\tx = 0;\n\t\t\ty = 0;\n\t\t}\n\t\telse if (y === null)\n\t\t{\n\t\t\tif (Point2.isInstance(x)) {\n\t\t\t\ty = x.uy;\n\t\t\t\tx = x.ux;\n\t\t\t} else { // Point2\n\t\t\t\ty = upscale(x.y);\n\t\t\t\tx = upscale(x.x);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif (!upscaled) {\n\t\t\t\tx = upscale(x);\n\t\t\t\ty = upscale(y);\n\t\t\t}\n\t\t}\n\n\t\tthis.ux = x;\n\t\tthis.uy = y;\n\n\t\treturn this.downscale(this);\n\t},\n\n\t/**\n\t * \tSets the X-coordinate of the point.\n\t * \t!setX (x: number) : Point2;\n\t */\n\tsetX: function (x)\n\t{\n\t\tthis.ux = upscale(x);\n\t\treturn this.downscale(this);\n\t},\n\n\t/**\n\t * \tSets the Y-coordinate of the point.\n\t * \t!setY (y: number) : Point2;\n\t */\n\tsetY: function (y)\n\t{\n\t\tthis.uy = upscale(y);\n\t\treturn this.downscale(this);\n\t},\n\n\t/**\n\t * \tSets the coordinates of the point to zero.\n\t * \t!zero() : Point2;\n\t */\n\tzero: function()\n\t{\n\t\treturn this.set(0, 0);\n\t},\n\n\t/**\n\t * \tReturns true if the point coordinates are both zero.\n\t * \t!isZero() : boolean;\n\t */\n\tisZero: function()\n\t{\n\t\treturn this.x == 0 && this.y == 0;\n\t},\n\n\t/**\n\t *\tReturns true if the coordinates of the point have the same values as the given Point2.\n\t *\t!equals (value: Point2) : boolean;\n\t */\n\t/**\n\t *\tReturns true if the coordinates of the point have the same values as the given Vec2.\n\t *\t!equals (value: Vec2) : boolean;\n\t */\n\t/**\n\t *\tReturns true if the coordinates of the point have the same values as the given ones.\n\t *\t!equals (x: number, y: number) : boolean;\n\t */\n\tequals: function (x, y=null)\n\t{\n\t\tif (y === null)\n\t\t{\n\t\t\tif (Point2.isInstance(x)) {\n\t\t\t\ty = x.y;\n\t\t\t\tx = x.x;\n\t\t\t} else { // Point2\n\t\t\t\ty = int(x.y);\n\t\t\t\tx = int(x.x);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tx = int(x);\n\t\t\ty = int(y);\n\t\t}\n\n\t\treturn this.x == x && this.y == y;\n\t},\n\n\t/**\n\t *\tAdds the coordinates of the given Point2 to the point.\n\t *\t!add (value: Point2) : Point2;\n\t */\n\t/**\n\t *\tAdds the coordinates of the given Vec2 to the point.\n\t *\t!add (value: Vec2) : Point2;\n\t */\n\t/**\n\t *\tAdds the given delta values to the point.\n\t *\t@param upscaled - When `true` the specified values are assumed to have already been upscaled.\n\t *\t!add (dx: number, dy: number, upscaled?: boolean) : Point2;\n\t */\n\tadd: function (dx, dy=null, upscaled=false)\n\t{\n\t\tif (dy === null)\n\t\t{\n\t\t\tif (Point2.isInstance(dx)) {\n\t\t\t\tdy = dx.uy;\n\t\t\t\tdx = dx.ux;\n\t\t\t} else { // Point2\n\t\t\t\tdy = upscale(dx.y);\n\t\t\t\tdx = upscale(dx.x);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif (!upscaled) {\n\t\t\t\tdx = upscale(dx);\n\t\t\t\tdy = upscale(dy);\n\t\t\t}\n\t\t}\n\n\t\tthis.ux += dx, this.uy += dy;\n\t\treturn this.downscale();\n\t},\n\n\t/**\n\t *\tSubtracts the coordinates of the given Point2 from the point.\n\t *\t!sub (value: Point2) : Point2;\n\t */\n\t/**\n\t *\tSubtracts the coordinates of the given Vec2 from the point.\n\t *\t!sub (value: Vec2) : Point2;\n\t */\n\t/**\n\t *\tSubtracts the given delta values from the point.\n\t *\t@param upscaled - When `true` the specified values are assumed to have already been upscaled.\n\t *\t!sub (dx: number, dy: number, upscaled?: boolean) : Point2;\n\t */\n\tsub: function (dx, dy, upscaled=false)\n\t{\n\t\tif (dy === null)\n\t\t{\n\t\t\tif (Point2.isInstance(dx)) {\n\t\t\t\tdy = dx.uy;\n\t\t\t\tdx = dx.ux;\n\t\t\t} else { // Point2\n\t\t\t\tdy = upscale(dx.y);\n\t\t\t\tdx = upscale(dx.x);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tif (!upscaled) {\n\t\t\t\tdx = upscale(dx);\n\t\t\t\tdy = upscale(dy);\n\t\t\t}\n\t\t}\n\n\t\tthis.ux -= dx, this.uy -= dy;\n\t\treturn this.downscale();\n\t},\n\n\t/**\n\t * \tReturns the string representation of the coordinates of the point.\n\t * \ttoString() : string;\n\t */\n\ttoString: function ()\n\t{\n\t\treturn `(${this.x}, ${this.y})`;\n\t}\n});\n\n//!/class\n\n//!namespace Point2\n//!namespace Pool\n\n/**\n *\tAllocates a Point2 instance from another Point2.\n * \t!function alloc (value: Point2) : Point2;\n */\n/**\n *\tAllocates a Point2 instance from a Vec2.\n * \t!function alloc (value: Vec2) : Point2;\n */\n/**\n *\tAllocates a Point2 instance with the specified coordinates.\n * \t!function alloc (x?: number, y?: number) : Point2;\n */\n\nRecycler.createPool (Point2, 2048, 1024);\nexport default Point2;\n","/*\n**\tfroxel/anim/easing.js\n**\n**\tCopyright (c) 2016-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\n/**\n**\tCollection of useful easing functions.\n*/\n\n//!namespace Easing\n\nconst Easing =\n{\n\t/* ******************************************** */\n\t//!namespace Linear\n\tLinear:\n\t{\n\t\t/**\n\t\t * \t!function IN (t: number) : number;\n\t\t */\n\t\tIN: function (t)\n\t\t{\n\t\t\treturn t;\n\t\t},\n\n\t\t/**\n\t\t * \t!function OUT (t: number) : number;\n\t\t */\n\t\tOUT: function (t)\n\t\t{\n\t\t\treturn t;\n\t\t},\n\n\t\t/**\n\t\t * \t!function IN_OUT (t: number) : number;\n\t\t */\n\t\tIN_OUT: function (t)\n\t\t{\n\t\t\treturn t;\n\t\t}\n\t},\n\t//!/namespace\n\n\t/* ******************************************** */\n\t//!namespace Back\n\tBack:\n\t{\n\t\tk: 1.70158,\n\n\t\t/**\n\t\t * \t!function IN (t: number, k?: number) : number;\n\t\t */\n\t\tIN: function (t, k=null)\n\t\t{\n\t\t\tif (k === null) k = Easing.Back.k;\n\t\t\treturn t*t*((k+1)*t - k);\n\t\t},\n\n\t\t/**\n\t\t * \t!function OUT (t: number, k?: number) : number;\n\t\t */\n\t\tOUT: function (t, k=null)\n\t\t{\n\t\t\treturn 1 - Easing.Back.IN(1 - t, k);\n\t\t},\n\n\t\t/**\n\t\t * \t!function IN_OUT (t: number, k?: number) : number;\n\t\t */\n\t\tIN_OUT: function (t, k=null)\n\t\t{\n\t\t\tif (t < 0.5)\n\t\t\t\treturn Easing.Back.IN(t*2, k)/2;\n\t\t\telse\n\t\t\t\treturn Easing.Back.OUT((t-0.5)*2, k)/2 + 0.5;\n\t\t}\n\t},\n\t//!/namespace\n\n\t/* ******************************************** */\n\t//!namespace Bounce\n\tBounce:\n\t{\n\t\tgetConst: function (t)\n\t\t{\n\t\t\tif (t < 1.0/2.75)\n\t\t\t\treturn 7.5625 * t * t;\n\t\t\telse if (t < 2.0/2.75)\n\t\t\t\treturn 7.5625 * (t -= 1.5/2.75)*t + 0.75;\n\t\t\telse if (t < 2.5/2.75)\n\t\t\t\treturn 7.5625 * (t -= 2.250/2.75) * t + 0.9375;\n\n\t\t\treturn 7.5625 * (t -= 2.625/2.75) * t + 0.984375;\n\t\t},\n\n\t\t/**\n\t\t * \t!function IN (t: number) : number;\n\t\t */\n\t\tIN: function (t)\n\t\t{\n\t\t\treturn 1 - Easing.Bounce.getConst(1-t);\n\t\t},\n\n\t\t/**\n\t\t * \t!function OUT (t: number) : number;\n\t\t */\n\t\tOUT: function (t)\n\t\t{\n\t\t\treturn Easing.Bounce.getConst(t);\n\t\t},\n\n\t\t/**\n\t\t * \t!function IN_OUT (t: number) : number;\n\t\t */\n\t\tIN_OUT: function (t)\n\t\t{\n\t\t\tif (t < 0.5)\n\t\t\t\treturn (1 - Easing.Bounce.getConst(1-2*t))/2;\n\t\t\telse\n\t\t\t\treturn (Easing.Bounce.getConst((t-0.5)*2)/2)+0.5;\n\t\t}\n\t},\n\t//!/namespace\n\n\t/* ******************************************** */\n\t//!namespace Circ\n\tCirc:\n\t{\n\t\t/**\n\t\t * \t!function IN (t: number) : number;\n\t\t */\n\t\tIN: function (t)\n\t\t{\n\t\t\treturn 1 - Math.sqrt(1 - t*t);\n\t\t},\n\n\t\t/**\n\t\t * \t!function OUT (t: number) : number;\n\t\t */\n\t\tOUT: function (t)\n\t\t{\n\t\t\treturn 1 - Easing.Circ.IN(1 - t);\n\t\t},\n\n\t\t/**\n\t\t * \t!function IN_OUT (t: number) : number;\n\t\t */\n\t\tIN_OUT: function (t)\n\t\t{\n\t\t\tif (t < 0.5)\n\t\t\t\t\treturn Easing.Circ.IN(t*2)/2;\n\t\t\t\telse\n\t\t\t\t\treturn Easing.Circ.OUT((t-0.5)*2)/2 + 0.5;\n\t\t}\n\t},\n\t//!/namespace\n\n\t/* ******************************************** */\n\t//!namespace Cubic\n\tCubic:\n\t{\n\t\t/**\n\t\t * \t!function IN (t: number) : number;\n\t\t */\n\t\tIN: function (t)\n\t\t{\n\t\t\treturn t*t*t;\n\t\t},\n\n\t\t/**\n\t\t * \t!function OUT (t: number) : number;\n\t\t */\n\t\tOUT: function (t)\n\t\t{\n\t\t\treturn 1 - Easing.Cubic.IN(1 - t);\n\t\t},\n\n\t\t/**\n\t\t * \t!function IN_OUT (t: number) : number;\n\t\t */\n\t\tIN_OUT: function (t)\n\t\t{\n\t\t\tif (t < 0.5)\n\t\t\t\treturn Easing.Cubic.IN(t*2)/2;\n\t\t\telse\n\t\t\t\treturn Easing.Cubic.OUT((t-0.5)*2)/2 + 0.5;\n\t\t}\n\t},\n\t//!/namespace\n\n\t/* ******************************************** */\n\t//!namespace Expo\n\tExpo:\n\t{\n\t\t/**\n\t\t * \t!function IN (t: number) : number;\n\t\t */\n\t\tIN: function (t)\n\t\t{\n\t\t\treturn Math.pow(2, 12*(t-1));\n\t\t},\n\n\t\t/**\n\t\t * \t!function OUT (t: number) : number;\n\t\t */\n\t\tOUT: function (t)\n\t\t{\n\t\t\treturn -Math.pow(2, -12*t) + 1;\n\t\t},\n\n\t\t/**\n\t\t * \t!function IN_OUT (t: number) : number;\n\t\t */\n\t\tIN_OUT: function (t)\n\t\t{\n\t\t\tif ((t *= 2) < 1)\n\t\t\t\treturn Math.pow (2, 12 * (t - 1)) / 2;\n\t\t\telse\n\t\t\t\treturn (-Math.pow (2, -12 * (t - 1)) + 2) / 2;\n\t\t}\n\t},\n\t//!/namespace\n\n\t/* ******************************************** */\n\t//!namespace Power\n\tPower:\n\t{\n\t\t/**\n\t\t * \t!function IN (t: number, p?: number) : number;\n\t\t */\n\t\tIN: function (t, p=12)\n\t\t{\n\t\t\treturn Math.pow(t, p);\n\t\t},\n\n\t\t/**\n\t\t * \t!function OUT (t: number, p?: number) : number;\n\t\t */\n\t\tOUT: function (t, p=12)\n\t\t{\n\t\t\treturn 1 - Easing.Power.IN(1 - t, p);\n\t\t},\n\n\t\t/**\n\t\t * \t!function IN_OUT (t: number, p?: number) : number;\n\t\t */\n\t\tIN_OUT: function (t, p=12)\n\t\t{\n\t\t\tif (t < 0.5)\n\t\t\t\treturn Easing.Power.IN(t*2, p)/2;\n\t\t\telse\n\t\t\t\treturn Easing.Power.OUT((t-0.5)*2, p)/2 + 0.5;\n\t\t}\n\t},\n\t//!/namespace\n\n\t/* ******************************************** */\n\t//!namespace Quad\n\tQuad:\n\t{\n\t\t/**\n\t\t * \t!function IN (t: number) : number;\n\t\t */\n\t\tIN: function (t)\n\t\t{\n\t\t\treturn t*t;\n\t\t},\n\n\t\t/**\n\t\t * \t!function OUT (t: number) : number;\n\t\t */\n\t\tOUT: function (t)\n\t\t{\n\t\t\treturn 1 - Easing.Quad.IN(1 - t);\n\t\t},\n\n\t\t/**\n\t\t * \t!function IN_OUT (t: number) : number;\n\t\t */\n\t\tIN_OUT: function (t)\n\t\t{\n\t\t\tif (t < 0.5)\n\t\t\t\treturn Easing.Quad.IN(t*2)/2;\n\t\t\telse\n\t\t\t\treturn Easing.Quad.OUT((t-0.5)*2)/2 + 0.5;\n\t\t}\n\t},\n\t//!/namespace\n\n\t/* ******************************************** */\n\t//!namespace Quartic\n\tQuartic:\n\t{\n\t\t/**\n\t\t * \t!function IN (t: number) : number;\n\t\t */\n\t\tIN: function (t)\n\t\t{\n\t\t\treturn t*t*t*t;\n\t\t},\n\n\t\t/**\n\t\t * \t!function OUT (t: number) : number;\n\t\t */\n\t\tOUT: function (t)\n\t\t{\n\t\t\treturn 1 - Easing.Quartic.IN(1 - t);\n\t\t},\n\n\t\t/**\n\t\t * \t!function IN_OUT (t: number) : number;\n\t\t */\n\t\tIN_OUT: function (t)\n\t\t{\n\t\t\tif (t < 0.5)\n\t\t\t\treturn Easing.Quartic.IN(t*2)/2;\n\t\t\telse\n\t\t\t\treturn Easing.Quartic.OUT((t-0.5)*2)/2 + 0.5;\n\t\t}\n\t},\n\t//!/namespace\n\n\t/* ******************************************** */\n\t//!namespace Quintic\n\tQuintic:\n\t{\n\t\t/**\n\t\t * \t!function IN (t: number) : number;\n\t\t */\n\t\tIN: function (t)\n\t\t{\n\t\t\treturn t*t*t*t*t;\n\t\t},\n\n\t\t/**\n\t\t * \t!function OUT (t: number) : number;\n\t\t */\n\t\tOUT: function (t)\n\t\t{\n\t\t\treturn 1 - Easing.Quintic.IN(1 - t);\n\t\t},\n\n\t\t/**\n\t\t * \t!function IN_OUT (t: number) : number;\n\t\t */\n\t\tIN_OUT: function (t)\n\t\t{\n\t\t\tif (t < 0.5)\n\t\t\t\t\treturn Easing.Quintic.IN(t*2)/2;\n\t\t\t\telse\n\t\t\t\t\treturn Easing.Quintic.OUT((t-0.5)*2)/2 + 0.5;\n\t\t}\n\t},\n\t//!/namespace\n\n\t/* ******************************************** */\n\t//!namespace Sine\n\tSine:\n\t{\n\t\t/**\n\t\t * \t!function IN (t: number) : number;\n\t\t */\n\t\tIN: function (t)\n\t\t{\n\t\t\treturn 1 - Math.sin (1.5708 * (1 - t));\n\t\t},\n\n\t\t/**\n\t\t * \t!function OUT (t: number) : number;\n\t\t */\n\t\tOUT: function (t)\n\t\t{\n\t\t\treturn Math.sin (1.5708 * t);\n\t\t},\n\n\t\t/**\n\t\t * \t!function IN_OUT (t: number) : number;\n\t\t */\n\t\tIN_OUT: function (t)\n\t\t{\n\t\t\treturn (Math.cos (3.1416*t) - 1) / -2;\n\t\t}\n\t},\n\t//!/namespace\n\n\t/* ******************************************** */\n\t//!namespace Step\n\tStep:\n\t{\n\t\t/**\n\t\t * \t!function IN (t: number) : number;\n\t\t */\n\t\tIN: function (t)\n\t\t{\n\t\t\treturn t != 1.0 ? 0 : 1.0;\n\t\t},\n\n\t\t/**\n\t\t * \t!function OUT (t: number) : number;\n\t\t */\n\t\tOUT: function (t)\n\t\t{\n\t\t\treturn t != 1.0 ? 0 : 1.0;\n\t\t},\n\n\t\t/**\n\t\t * \t!function IN_OUT (t: number) : number;\n\t\t */\n\t\tIN_OUT: function (t)\n\t\t{\n\t\t\treturn t != 1.0 ? 0 : 1.0;\n\t\t}\n\t}\n};\n\nexport default Easing;\n","/*\n**\tfroxel/anim/anim.js\n**\n**\tCopyright (c) 2013-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport { Class } from 'rinn';\nimport List from '../utils/list.js';\nimport Recycler from '../utils/recycler.js';\nimport sys from '../fxl/system.js';\n\n//![import \"../utils/list\"]\n//![import \"../utils/recycler\"]\n\nimport Block from './block.js';\nimport Command from './command.js';\n\n//![import \"./block\"]\n//![import \"./command\"]\n\nimport PARALLEL from './parallel.js';\nimport SERIAL from './serial.js';\nimport REPEAT from './repeat.js';\nimport SET from './set.js';\nimport RESTART from './restart.js';\nimport WAIT from './wait.js';\nimport RANGE from './range.js';\nimport RAND from './rand.js';\nimport RANDT from './randt.js';\n\n//:/**\n//: * \tClass to animate properties using commands.\n//: */\n\n//!class Anim\n\nconst Anim = Class.extend\n({\n\tclassName: 'Anim',\n\n\tinitialData: null,\n\tdata: null,\n\n\tblockStack: null,\n\tcmdStack: null,\n\n\ttimeScale: 1,\n\tblock: null,\n\ttime: 0,\n\n\tpaused: false,\n\tfinished: false,\n\trunning: false,\n\n\tfinishedCallback: null,\n\tfinishedCallbackHandler: null,\n\tfinishedCallbackContext: null,\n\n\tautoDispose: false,\n\n\t__ctor: function ()\n\t{\n\t\t// VIOLET: Possibly optimize this { } objects.\n\t\tthis.initialData = { };\n\t\tthis.data = { };\n\n\t\tthis.block = Block.alloc();\n\t\tthis.blockStack = List.Pool.alloc();\n\t\tthis.cmdStack = List.Pool.alloc();\n\n\t\tthis.running = false;\n\t\tthis.autoDispose = false;\n\n\t\tthis.finishedCallback = null;\n\t\tthis.finishedCallbackHandler = null;\n\t\tthis.finishedCallbackContext = null;\n\n\t\treturn this.reset();\n\t},\n\n\t__dtor: function ()\n\t{\n\t\tthis.block.free();\n\t\tthis.blockStack.clear().free();\n\t\tthis.cmdStack.clear().free();\n\n\t\tif (this.finishedCallbackHandler !== null)\n\t\t{\n\t\t\tthis.finishedCallbackHandler.free();\n\t\t\tthis.finishedCallbackHandler = null;\n\t\t}\n\n\t\tif (this.finishedCallbackContext !== null)\n\t\t{\n\t\t\tthis.finishedCallbackContext.free();\n\t\t\tthis.finishedCallbackContext = null;\n\t\t}\n\t},\n\n\tcopyTo: function (target)\n\t{\n\t\ttarget.clear();\n\n\t\tdispose(target.block);\n\t\ttarget.block = this.block.clone();\n\n\t\ttarget.initialData = this.initialData;\n\t\treturn target.reset();\n\t},\n\n\tclone: function (autoDispose=false)\n\t{\n\t\tlet anim = new Anim();\n\t\tanim.autoDispose = autoDispose;\n\n\t\tthis.copyTo(anim);\n\t\treturn anim;\n\t},\n\n\tonFinished: function (callback)\n\t{\n\t\tthis.finishedCallback = callback;\n\t\treturn this;\n\t},\n\n\tthen: function (callback, context=null)\n\t{\n\t\tif (!callback) return this;\n\n\t\tif (this.finishedCallback !== this.thenCallback)\n\t\t{\n\t\t\tthis.finishedCallback = this.thenCallback;\n\n\t\t\tif (this.finishedCallbackHandler === null)\n\t\t\t{\n\t\t\t\tthis.finishedCallbackHandler = List.Pool.alloc();\n\t\t\t\tthis.finishedCallbackContext = List.Pool.alloc();\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tthis.finishedCallbackHandler.reset();\n\t\t\t\tthis.finishedCallbackContext.reset();\n\t\t\t}\n\t\t}\n\n\t\tthis.finishedCallbackHandler.push(callback);\n\t\tthis.finishedCallbackContext.push(context);\n\t\treturn this;\n\t},\n\n\tthenCallback: function ()\n\t{\n\t\tif (!this.finishedCallbackHandler.length)\n\t\t\treturn false;\n\n\t\tlet context = this.finishedCallbackContext.shift();\n\t\tthis.finishedCallbackHandler.shift()(this, context);\n\t},\n\n\t/*\n\t**\tClears the object, removes all commands and callbacks. The `initialData` and `data` objects aren't changed.\n\t*/\n\tclear: function ()\n\t{\n\t\tthis.blockStack.clear();\n\t\tthis.cmdStack.clear();\n\t\tthis.block.clear();\n\n\t\tthis.paused = false;\n\t\tthis.finished = false;\n\t\tthis.time = 0;\n\t\tthis.timeScale = 1;\n\n\t\tif (this.finishedCallbackHandler !== null)\n\t\t{\n\t\t\tthis.finishedCallbackHandler.free();\n\t\t\tthis.finishedCallbackHandler = null;\n\t\t}\n\n\t\tif (this.finishedCallbackContext !== null)\n\t\t{\n\t\t\tthis.finishedCallbackContext.free();\n\t\t\tthis.finishedCallbackContext = null;\n\t\t}\n\n\t\tthis.finishedCallback = null;\n\t\treturn this;\n\t},\n\n\t/*\n\t**\tResets the animation to its initial state.\n\t*/\n\treset: function ()\n\t{\n\t\tthis.blockStack.clear();\n\t\tthis.cmdStack.clear();\n\t\tthis.block.reset();\n\n\t\tthis.paused = false;\n\t\tthis.finished = false;\n\t\tthis.time = 0;\n\t\tthis.timeScale = 1;\n\n\t\tObject.assign (this.data, this.initialData);\n\t\treturn this;\n\t},\n\n\t/*\n\t**\tSets the initial data.\n\t*/\n\tinitial: function (data=null)\n\t{\n\t\tif (data !== null)\n\t\t\tthis.initialData = data;\n\n\t\tObject.assign (this.data, this.initialData);\n\t\treturn this;\n\t},\n\n\t/*\n\t**\tSets the time scale (animation speed).\n\t*/\n\tspeed: function (value)\n\t{\n\t\tthis.timeScale = value > 0.0 ? value : 1.0;\n\t\treturn this;\n\t},\n\n\t/*\n\t**\tSets the output data object.\n\t*/\n\toutput: function (data)\n\t{\n\t\tthis.data = data;\n\t\treturn this;\n\t},\n\n\t/*\n\t**\tPauses the animation.\n\t*/\n\tpause: function ()\n\t{\n\t\tif (!this.paused)\n\t\t\tthis.paused = true;\n\n\t\treturn this;\n\t},\n\n\t/*\n\t**\tResumes the animation.\n\t*/\n\tresume: function ()\n\t{\n\t\tthis.finished = false;\n\t\tthis.paused = false;\n\n\t\tif (!this.running)\n\t\t\tthis.run(false);\n\n\t\treturn this;\n\t},\n\n\t/*\n\t**\tBegins execution of the animation.\n\t*/\n\trun: function (reset=true)\n\t{\n\t\tif (this.running)\n\t\t\treturn this;\n\n\t\tif (reset == true)\n\t\t\tthis.reset();\n\n\t\tsys.update.add(this.update, this);\n\t\tthis.running = true;\n\n\t\treturn this;\n\t},\n\n\t/*\n\t**\tSets the value of a field.\n\t*/\n\tsetValue: function (fieldName, value)\n\t{\n\t\tlet curr = this.data;\n\n\t\tif (typeof(fieldName) !== 'string')\n\t\t{\n\t\t\tif (typeof(fieldName) === 'function')\n\t\t\t{\n\t\t\t\tfieldName (this, value);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tlet i = 0;\n\n\t\t\t\twhile (curr !== null && i < fieldName.length-1)\n\t\t\t\t\tcurr = curr[fieldName[i++]];\n\n\t\t\t\tcurr[fieldName[i]] = value;\n\t\t\t}\n\t\t}\n\t\telse\n\t\t\tcurr[fieldName] = value;\n\t},\n\n\t/*\n\t**\tReturns the value of a field. Performs special transforms to the value if certain prefix is found.\n\t*/\n\tgetValue: function (fieldName, value=null, initialValue=null)\n\t{\n\t\tlet curr = this.data;\n\t\t\n\t\tif (typeof(fieldName) !== 'string')\n\t\t{\n\t\t\tif (typeof(fieldName) === 'function')\n\t\t\t{\n\t\t\t\tcurr = fieldName (this, null);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tlet i = 0;\n\n\t\t\t\twhile (curr !== null && i < fieldName.length)\n\t\t\t\t\tcurr = curr[fieldName[i++]];\n\t\t\t}\n\t\t}\n\t\telse\n\t\t\tcurr = curr[fieldName];\n\n\t\tif (value === null)\n\t\t\tvalue = curr;\n\n\t\tif (initialValue === null)\n\t\t\tinitialValue = curr;\n\n\t\tif (typeof(value) === 'string')\n\t\t{\n\t\t\tswitch(value[0])\n\t\t\t{\n\t\t\t\tcase '+':\n\t\t\t\t\tvalue = initialValue + Number(value.substr(1));\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase '-':\n\t\t\t\t\tvalue = initialValue - Number(value.substr(1));\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\tvalue = Number(value);\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\telse if (typeof(value) === 'function')\n\t\t\tvalue = value (curr, initialValue, this);\n\n\t\treturn value;\n\t},\n\n\t/**\n\t * Updates the animation by the specified delta, which must be in the same unit as the duration of the commands.\n\t * Returns false when the animation has been completed.\n\t *\n\t * @param {number} dt\n\t * @returns {boolean}\n\t */\n\tupdate: function (dt, self=null)\n\t{\n\t\tif (self === null)\n\t\t\tself = this;\n\n\t\tif (self.paused || self.block.isFinished())\n\t\t{\n\t\t\tself.running = false;\n\t\t\treturn false;\n\t\t}\n\n\t\tself.time += dt*self.timeScale*Anim.timeScale;\n\n\t\tif (self.block.update(self) !== true)\n\t\t\treturn true;\n\n\t\tlet finished = self.finished;\n\t\tlet count = self.block.length;\n\t\tlet block = self.block;\n\n\t\tself.finished = true;\n\n\t\tif (!finished && self.finishedCallback !== null)\n\t\t{\n\t\t\tif (self.finishedCallback(self.data, self) === false)\n\t\t\t\tself.finishedCallback = null;\n\n\t\t\tif (self.block !== block || self.block.length != count)\n\t\t\t{\n\t\t\t\tself.resume();\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\tself.running = false;\n\n\t\tif (self.autoDispose)\n\t\t\tdispose(self);\n\n\t\treturn false;\n\t},\n\n\t/*\n\t**\tEnsures that the field name is correct for subsequent rules.\n\t*/\n\tprepareFieldName: function (value)\n\t{\n\t\tif (typeof(value) === 'function')\n\t\t\treturn value;\n\n\t\treturn value.indexOf('.') != -1 ? value.split('.') : value;\n\t},\n\n\t/* ****************************************************************************************** */\n\n\t/*\n\t**\tRuns the subsequent commands in parallel. Should end the parallel block by calling end().\n\t*/\n\tparallel: function ()\n\t{\n\t\tlet cmd = this.block.add(Command.alloc(PARALLEL));\n\n\t\tthis.blockStack.push (this.block);\n\t\tthis.cmdStack.push (cmd);\n\n\t\tthis.block = cmd.block;\n\t\treturn this;\n\t},\n\n\t/*\n\t**\tRuns the subsequent commands in series. Should end the serial block by calling end().\n\t*/\n\tserial: function ()\n\t{\n\t\tlet cmd = this.block.add(Command.alloc(SERIAL));\n\n\t\tthis.blockStack.push (this.block);\n\t\tthis.cmdStack.push (cmd);\n\n\t\tthis.block = cmd.block;\n\t\treturn this;\n\t},\n\n\t/*\n\t**\tRepeats a block the specified number of times.\n\t*/\n\trepeat: function (count)\n\t{\n\t\tlet cmd = this.block.add(Command.alloc(REPEAT));\n\t\tcmd.count = count;\n\n\t\tthis.blockStack.push (this.block);\n\t\tthis.cmdStack.push (cmd);\n\n\t\tthis.block = cmd.block;\n\t\treturn this;\n\t},\n\n\t/*\n\t**\tEnds a parallel(), serial() or repeat() block.\n\t*/\n\tend: function ()\n\t{\n\t\tthis.cmdStack.pop().ready();\n\t\tthis.block = this.blockStack.pop();\n\t\treturn this;\n\t},\n\n\t/*\n\t**\tSets the value of a variable.\n\t*/\n\tset: function (field, value)\n\t{\n\t\tlet cmd = this.block.add(Command.alloc(SET));\n\n\t\tcmd.field = this.prepareFieldName(field);\n\t\tcmd.value = value;\n\n\t\treturn this;\n\t},\n\n\t/*\n\t**\tRestarts the current block.\n\t*/\n\trestart: function ()\n\t{\n\t\tthis.block.add(Command.alloc(RESTART));\n\t\treturn this;\n\t},\n\n\t/*\n\t**\tWaits for the specified duration.\n\t*/\n\twait: function (duration)\n\t{\n\t\tlet cmd = this.block.add(Command.alloc(WAIT));\n\n\t\tcmd.duration = duration;\n\n\t\treturn this;\n\t},\n\n\t/*\n\t**\tSets the range of a variable.\n\t*/\n\trange: function (field, duration, startValue, endValue, easing=null)\n\t{\n\t\tlet cmd = this.block.add(Command.alloc(RANGE));\n\n\t\tcmd.field = this.prepareFieldName(field);\n\t\tcmd.duration = duration;\n\t\tcmd.startValue = startValue;\n\t\tcmd.endValue = endValue;\n\t\tcmd.easing = easing;\n\n\t\treturn this;\n\t},\n\n\t/*\n\t**\tSets the range of a variable, using the current value as startValue.\n\t*/\n\trangeTo: function (field, duration, endValue, easing=null)\n\t{\n\t\tlet cmd = this.block.add(Command.alloc(RANGE));\n\n\t\tcmd.field = this.prepareFieldName(field);\n\t\tcmd.duration = duration;\n\t\tcmd.startValue = null;\n\t\tcmd.endValue = endValue;\n\t\tcmd.easing = easing;\n\n\t\treturn this;\n\t},\n\n\t/*\n\t**\tGenerates a certain amount of random numbers in the given range (inclusive).\n\t*/\n\trand: function (field, duration, count, startValue, endValue, easing=null)\n\t{\n\t\tlet cmd = this.block.add(Command.alloc(RAND));\n\n\t\tcmd.field = this.prepareFieldName(field);\n\t\tcmd.duration = duration;\n\t\tcmd.count = count;\n\t\tcmd.startValue = startValue;\n\t\tcmd.endValue = endValue;\n\t\tcmd.easing = easing;\n\n\t\treturn this;\n\t},\n\n\t/*\n\t**\tGenerates a certain amount of random numbers in the given range (inclusive). This uses a static random table to determine the next values.\n\t*/\n\trandt: function (field, duration, count, startValue, endValue, easing)\n\t{\n\t\tlet cmd = this.block.add(Command.alloc(RANDT));\n\n\t\tcmd.field = this.prepareFieldName(field);\n\t\tcmd.duration = duration;\n\t\tcmd.count = count;\n\t\tcmd.startValue = startValue;\n\t\tcmd.endValue = endValue;\n\t\tcmd.easing = easing;\n\n\t\tcmd.ready();\n\n\t\treturn this;\n\t},\n\n\t/*\n\t**\tPlays a sound.\n\t*/\n\tplay: function (snd)\n\t{\n\t\tlet cmd = this.block.add(Command.alloc(PLAY));\n\t\tcmd.snd = snd;\n\n\t\treturn this;\n\t},\n\n\t/*\n\t**\tExecutes a function.\n\t*/\n\texec: function (fn)\n\t{\n\t\tlet cmd = this.block.add(Command.alloc(EXEC));\n\t\tcmd.fn = fn;\n\n\t\treturn this;\n\t},\n\n\t/* ********************************************************** */\n\n\t_bounds_x1: function (anim, value)\n\t{\n\t\tif (value === null)\n\t\t\treturn anim.data.bounds.x1;\n\n\t\tanim.data.translate(int(value) - anim.data.bounds.x1, 0);\n\t},\n\n\t_bounds_y1: function (anim, value)\n\t{\n\t\tif (value === null)\n\t\t\treturn anim.data.bounds.y1;\n\n\t\tanim.data.translate(0, int(value) - anim.data.bounds.y1);\n\t},\n\n\t/*\n\t**\tSets X coordinate.\n\t*/\n\tsetX: function (value)\n\t{\n\t\treturn this.set(this._bounds_x1, value);\n\t},\n\n\t/*\n\t**\tSets Y coordinate.\n\t*/\n\tsetY: function (value)\n\t{\n\t\treturn this.set(this._bounds_y1, value);\n\t},\n\n\t/*\n\t**\tSets X and Y coordinates.\n\t*/\n\tposition: function (x, y)\n\t{\n\t\treturn this.set(this._bounds_x1, x).set(this._bounds_y1, y);\n\t},\n\n\t/*\n\t**\tTranslates the X coordinate.\n\t*/\n\ttranslateX: function (duration, deltaValue, easing)\n\t{\n\t\treturn this.range(this._bounds_x1, duration, null, (deltaValue < 0 ? '-' : '+') + Math.abs(deltaValue), easing);\n\t},\n\n\t/*\n\t**\tTranslates the Y coordinate.\n\t*/\n\ttranslateY: function (duration, deltaValue, easing)\n\t{\n\t\treturn this.range(this._bounds_y1, duration, null, (deltaValue < 0 ? '-' : '+') + Math.abs(deltaValue), easing);\n\t},\n\n\t/*\n\t**\tTranslates the X and Y coordinates.\n\t*/\n\ttranslate: function (duration, deltaValueX, deltaValueY, easingX, easingY=null)\n\t{\n\t\treturn this.parallel()\n\t\t\t\t\t.range(this._bounds_x1, duration, null, (deltaValueX < 0 ? '-' : '+') + Math.abs(deltaValueX), easingX)\n\t\t\t\t\t.range(this._bounds_y1, duration, null, (deltaValueY < 0 ? '-' : '+') + Math.abs(deltaValueY), easingY ? easingY : easingX)\n\t\t\t\t.end();\n\t},\n\n\t/*\n\t**\tSets the X and Y coordinates to the specified values.\n\t*/\n\tmoveTo: function (duration, endValueX, endValueY, easingX, easingY=null)\n\t{\n\t\treturn this.parallel()\n\t\t\t\t.range(this._bounds_x1, duration, null, endValueX, easingX)\n\t\t\t\t.range(this._bounds_y1, duration, null, endValueY, easingY ? easingY : easingX)\n\t\t\t\t.end();\n\t},\n\n\t/*\n\t**\tSets the X coordinate to the specified value.\n\t*/\n\tmoveX: function (duration, endValue, easing=null)\n\t{\n\t\treturn this.range(this._bounds_x1, duration, null, endValue, easing);\n\t},\n\n\t/*\n\t**\tSets the Y coordinate to the specified value.\n\t*/\n\tmoveY: function (duration, endValue, easing=null)\n\t{\n\t\treturn this.range(this._bounds_y1, duration, null, endValue, easing);\n\t},\n\n\t/*\n\t**\tScales the X coordinate.\n\t*/\n\tscaleX: function (duration, endValue, easing)\n\t{\n\t\treturn this.range('sx', duration, null, endValue, easing);\n\t},\n\n\t/*\n\t**\tScales the Y coordinate.\n\t*/\n\tscaleY: function (duration, endValue, easing)\n\t{\n\t\treturn this.range('sy', duration, null, endValue, easing);\n\t},\n\n\t/*\n\t**\tScales the X and Y coordinates.\n\t*/\n\tscale: function (duration, endValueX, endValueY, easingX, easingY=null)\n\t{\n\t\treturn this.parallel()\n\t\t\t\t.range('sx', duration, null, endValueX, easingX)\n\t\t\t\t.range('sy', duration, null, endValueY, easingY ? easingY : easingX)\n\t\t\t\t.end();\n\t},\n\n\t/*\n\t**\tRotates a certain number of radians.\n\t*/\n\trotate: function (duration, deltaValue, easing)\n\t{\n\t\treturn this.range('angle', duration, null, (deltaValue < 0 ? '-' : '+') + Math.abs(deltaValue), easing);\n\t}\n});\n\n/*\n**\tGlobal time scale.\n*/\nAnim.timeScale = 1.0;\n\n/*\n**\tSets the global time scale (animation speed).\n*/\nAnim.speed = function (value)\n{\n\tAnim.timeScale = value > 0.0 ? value : 1.0;\n};\n\nRecycler.createPool(Anim, 8192);\nexport default Anim;\n","/*\n**\tfxl/system.js\n**\n**\tCopyright (c) 2016-2022, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport System from '../system/system.js';\nimport Resources from '../resources/resources.js';\nimport Boot from '../flow/boot.js';\nimport Handler from '../utils/handler.js';\n\n//!class sys\n\nconst system =\n{\n\t/**\n\t * Indicates if the system module has already been initialized.\n\t */\n\tinitialized: false,\n\n\t/**\n\t * Screen width (available after calling `init`).\n\t * !static readonly screenWidth: number;\n\t */\n\tscreenWidth: 0,\n\n\t/**\n\t * Screen height (available after calling `init`).\n\t * !static readonly screenHeight: number;\n\t */\n\tscreenHeight: 0,\n\n\t/**\n\t * Primary renderer (available after calling `init`).\n\t * !static readonly renderer: Canvas;\n\t */\n\trenderer: null,\n\n\t/**\n\t * Logical system time (mirrors the value of System.frameTime).\n\t * !static readonly time: Number;\n\t */\n\ttime: 0,\n\n\t/**\n\t * Logical system delta time (mirrors the value of System.frameDelta).\n\t * !static readonly dt: Number;\n\t */\n\tdt: 0,\n\n\t/**\n\t * Timeout update handler.\n\t */\n\t_timeout: null,\n\n\t/**\n\t * Interval update handler.\n\t */\n\t_interval: null,\n\n\t/**\n\t * Time span update handler.\n\t */\n\t_span: null,\n\n\t/**\n\t * Update handler executed on every frame start.\n\t * !static readonly update: Handler;\n\t */\n\tupdate: null,\n\n\t/**\n\t * Draw handler executed on every frame start.\n\t * !static readonly draw: Handler;\n\t */\n\tdraw: null,\n\n\t/**\n\t * Executed when the system is paused.\n\t * !static onPaused: (fromExternalEvent: boolean) => void;\n\t */\n\tonPaused: null,\n\n\t/**\n\t * Executed when the system is resumed.\n\t * !static onResumed: (fromExternalEvent: boolean) => void;\n\t */\n\tonResumed: null,\n\n\t/**\n\t * System initialization options.\n\t */\n\toptions:\n\t{\n\t\t/**\n\t\t * \tTells the system to enable WebGL support.\n\t\t */\n\t\tgl: true,\n\n\t\t/**\n\t\t * \tIndicates if on-screen logging should be enabled.\n\t\t */\n\t\tlog: false,\n\n\t\t/**\n\t\t * \tEnables or disables antialised canvas. Set to `false` when pixel-perfect is desired.\n\t\t */\n\t\tantialias: false,\n\n\t\t/**\n\t\t * \tBackground of the system canvas.\n\t\t */\n\t\tbackground: '#000000',\n\n\t\t/**\n\t\t * \tDesired orientaton of the display.\n\t\t */\n\t\torientation: 'automatic',\n\n\t\t/**\n\t\t * \tDesired display width. When not specified (null) the maximum screen width to maintain the aspect ratio will be used.\n\t\t */\n\t\tscreenWidth: null,\n\n\t\t/**\n\t\t * \tDesired display height. When not specified (null) the maximum screen height to maintain the aspect ratio will be used.\n\t\t */\n\t\tscreenHeight: null,\n\n\t\t/**\n\t\t * \tTarget frames per second (FPS). Used to determine delay between frames.\n\t\t */\n\t\tfps: 144,\n\n\t\t/**\n\t\t * \tMinimum allowed frames per second (FPS). If system FPS drops below this value, the `frameDelta` property of System will be truncated to 1/minFps.\n\t\t */\n\t\tminFps: 24,\n\n\t\t/**\n\t\t * \tIndicates if recycler pool preallocation should be automatically executed. Additionally if this value is a number, it will be used as\n\t\t * \tmaximum preallocation parameter for the recycler.\n\t\t */\n\t\tpreallocate: false\n\t},\n\n\t/**\n\t * Initializes the system with the specified options.\n\t * !static init (options: System.Options) : Promise<void>;\n\t */\n\t/**\n\t * Initializes the system using the default options.\n\t * !static init () : Promise<void>;\n\t */\n\tinit: function (options)\n\t{\n\t\treturn new Promise ((resolve, reject) =>\n\t\t{\n\t\t\tif (this.initialized)\n\t\t\t\treturn resolve();\n\n\t\t\tObject.assign(this.options, options);\n\n\t\t\tResources.config ({ pixelated: !this.options.antialias, filter: this.options.antialias ? 'LINEAR' : 'NEAREST' });\n\t\t\tSystem.init (this.options);\n\n\t\t\tSystem.updateQueueAdd\n\t\t\t({\n\t\t\t\tupdate: function(dt)\n\t\t\t\t{\n\t\t\t\t\tsystem.time = System.frameTime;\n\t\t\t\t\tsystem.dt = dt;\n\n\t\t\t\t\tsystem._timeout.exec(dt);\n\t\t\t\t\tsystem._interval.exec(dt);\n\t\t\t\t\tsystem._span.exec(dt);\n\n\t\t\t\t\tsystem.update.exec(dt);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tSystem.drawQueueAdd\n\t\t\t({\n\t\t\t\tdraw: function(g)\n\t\t\t\t{\n\t\t\t\t\tsystem.draw.exec(g);\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tBoot.startup(function()\n\t\t\t{\n\t\t\t\tSystem.start();\n\n\t\t\t\tsystem.screenWidth = System.screenWidth;\n\t\t\t\tsystem.screenHeight = System.screenHeight;\n\t\t\t\tsystem.renderer = System.renderer;\n\n\t\t\t\tsystem._timeout = Handler.Pool.alloc();\n\t\t\t\tsystem._interval = Handler.Pool.alloc();\n\t\t\t\tsystem._span = Handler.Pool.alloc();\n\n\t\t\t\tsystem.update = Handler.Pool.alloc();\n\t\t\t\tsystem.draw = Handler.Pool.alloc();\n\n\t\t\t\twindow.onblur = function() {\n\t\t\t\t\tsystem.pause(true);\n\t\t\t\t};\n\n\t\t\t\twindow.onfocus = function() {\n\t\t\t\t\tsystem.resume(true);\n\t\t\t\t};\n\n\t\t\t\tsystem.initialized = true;\n\n\t\t\t\tresolve();\n\t\t\t});\n\t\t});\n\t},\n\n\t/**\n\t * Pauses the system.\n\t * !static pause (fromExternalEvent?: boolean|false) : void;\n\t */\n\tpause: function (fromExternalEvent=false)\n\t{\n\t\tif (system.onPaused !== null)\n\t\t\tsystem.onPaused(fromExternalEvent);\n\t},\n\n\t/**\n\t * Resumes the system.\n\t * !static resume (fromExternalEvent?: boolean|false) : void;\n\t */\n\tresume: function (fromExternalEvent=false)\n\t{\n\t\tif (system.onResumed !== null)\n\t\t\tsystem.onResumed(fromExternalEvent);\n\t},\n\n\t/**\n\t * Creates a timeout callback.\n\t * !static timeout (duration: number, callback: Function, arg0?: any, arg1?: any, arg2?: any, arg3?: any) : void;\n\t */\n\ttimeout: function (duration, callback, arg0=null, arg1=null, arg2=null, arg3=null)\n\t{\n\t\tthis._timeout.add(this._updateTimeout, duration, callback, arg0, arg1, arg2, arg3);\n\t},\n\n\t_updateTimeout: function (dt, _, callback, arg0, arg1, arg2, arg3)\n\t{\n\t\tthis.arg0 -= dt;\n\t\tif (this.arg0 > 0) return true;\n\n\t\tcallback (arg0, arg1, arg2, arg3);\n\t\treturn false;\n\t},\n\n\t/**\n\t * Creates an interval callback.\n\t * !static interval (period: number, callback: Function, arg0?: any, arg1?: any, arg2?: any) : void;\n\t */\n\tinterval: function (period, callback, arg0=null, arg1=null, arg2=null)\n\t{\n\t\tthis._interval.add(this._updateInterval, 0, period, callback, arg0, arg1, arg2);\n\t},\n\n\t_updateInterval: function (dt, _0, _1, callback, arg0, arg1, arg2)\n\t{\n\t\tthis.arg0 += dt;\n\t\tif (this.arg0 < this.arg1) return true;\n\n\t\tthis.arg0 -= this.arg1;\n\t\treturn callback (arg0, arg1, arg2);\n\t},\n\n\t/**\n\t * Creates a a time-span callback.\n\t * !static span (period: number, callback: (t:number, dt:number, ...args:any) => boolean, arg0?: any, arg1?: any, arg2?: any) : void;\n\t */\n\tspan: function (duration, callback, arg0=null, arg1=null, arg2=null)\n\t{\n\t\tthis._span.add(this._updateSpan, 0, duration, callback, arg0, arg1, arg2);\n\t},\n\n\t_updateSpan: function (dt, _0, _1, callback, arg0, arg1, arg2)\n\t{\n\t\tthis.arg0 += dt;\n\t\tif (this.arg0 > this.arg1) {\n\t\t\tdt -= this.arg0 - this.arg1;\n\t\t\tthis.arg0 = this.arg1;\n\t\t}\n\n\t\tif (callback (this.arg0/this.arg1, dt, arg0, arg1, arg2) === false)\n\t\t\treturn false;\n\n\t\treturn this.arg0 !== this.arg1;\n\t}\n};\n\nexport default system;\n","/*\n**\tflow/boot.js\n**\n**\tCopyright (c) 2013-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport { Class } from 'rinn';\nimport PriorityQueue from '../utils/priority-queue.js';\n\n//![import \"../utils/priority-queue\"]\n\n//!class Boot\n\nconst Boot =\n{\n\tmodules: new PriorityQueue(),\n\n\t/**\n\t * \tRegisters a new boot module.\n\t * \t!static register (module: Boot.Module) : Boot.Module;\n\t */\n\tregister: function (module)\n\t{\n\t\treturn this.modules.add(module);\n\t},\n\n\t/**\n\t * \tRemoves a boot module.\n\t * \t!static unregister (module: Boot.Module) : void;\n\t */\n\tunregister: function (module)\n\t{\n\t\tthis.modules.remove(module);\n\t\tthis.modules.cleanup();\n\t},\n\n\t/**\n\t * \tExecutes the startup sequence.\n\t * \t!static startup (finishedCallback?: () => void) : void;\n\t */\n\tstartup: function (finishedCallback=null)\n\t{\n\t\tthis.modules.forEachAsync((m,r) => { if (m.onStartup(r) !== false) r(); }, finishedCallback);\n\t},\n\n\t/**\n\t * \tExecutes the shutdown sequence.\n\t * \t!static shutdown (finishedCallback?: () => void) : void;\n\t */\n\tshutdown: function (finishedCallback=null)\n\t{\n\t\tthis.modules.forEachAsyncRev( (m,r) => { if (m.onShutdown(r) !== false) r(); }, finishedCallback);\n\t}\n};\n\n//!/class\n\n//!namespace Boot\n//!interface Module\n\nBoot.Module = Class.extend\n({\n\tclassName: \"Module\",\n\n\t/**\n\t * \tPriority of the module (from 0 to 100), lower number means higher priority.\n\t * \t!priority: number;\n\t */\n\tpriority: 5,\n\n\t__ctor: function()\n\t{\n\t\tBoot.register(this);\n\t},\n\n\t__dtor: function()\n\t{\n\t\tBoot.unregister(this);\n\t},\n\n\t/**\n\t * \tShould return `false` if the method is async. When async ensure to call `next` once the operation is complete.\n\t * \t!onStartup (next: () => void) : boolean;\n\t */\n\tonStartup: function (next)\n\t{\n\t},\n\n\t/**\n\t * \tShould return `false` if the method is async. When async ensure to call `next` once the operation is complete.\n\t * \t!onShutdown (next: () => void) : boolean;\n\t */\n\tonShutdown: function (next)\n\t{\n\t}\n});\n\n//!/interface\n//!/namespace\n\nexport default Boot;\n","/*\n**\tfroxel/anim/block.js\n**\n**\tCopyright (c) 2013-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport { Class } from 'rinn';\nimport List from '../utils/list.js';\nimport Recycler from '../utils/recycler.js';\n\n//!class Block\n\nconst Block = Class.extend\n({\n\tclassName: 'Anim:Block',\n\n\tcommands: null,\n\n\tfirst: true,\n\tcurrent: false,\n\ttime: 0,\n\n\t/**\n\t * \tInitializes the block to its initial state.\n\t * \t!init() : Block;\n\t */\n\tinit: function()\n\t{\n\t\tthis.commands = List.Pool.alloc();\n\t\tthis.reset(0);\n\t\treturn this;\n\t},\n\n\t__dtor: function()\n\t{\n\t\tthis.clear();\n\t\tthis.commands.free();\n\t},\n\n\t/**\n\t * \tAdds a command to the block.\n\t * \t!add (cmd: Command) : Command;\n\t */\n\tadd: function(cmd)\n\t{\n\t\tthis.commands.push(cmd);\n\t\treturn cmd;\n\t},\n\n\t/**\n\t * \tClones the block.\n\t * \t!clone() : Block;\n\t */\n\tclone: function()\n\t{\n\t\tlet block = Block.alloc();\n\n\t\tfor (let node = this.commands.top; node !== null; node = node.next)\n\t\t\tblock.commands.push(node.value.clone());\n\n\t\treturn block;\n\t},\n\n\t/**\n\t * \tClears the block by removing all commands and resetting it to initial state.\n\t * \t!clear() : Block;\n\t */\n\tclear: function()\n\t{\n\t\tthis.commands.clear();\n\t\tthis.reset(0);\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tResets the block to its initial state. Does not remove commands.\n\t * \t!reset (time: number) : Block;\n\t */\n\treset: function (time=0)\n\t{\n\t\tthis.first = true;\n\t\tthis.current = null;\n\t\tthis.time = time;\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tSets the block to use the first command in the next call to `update`.\n\t * \t!restart() : Block;\n\t */\n\trestart: function()\n\t{\n\t\tthis.first = true;\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tReturns `true` if all commands in the block have been executed to completion.\n\t * \t!isFinished() : boolean;\n\t */\n\tisFinished: function()\n\t{\n\t\tif (this.first === true)\n\t\t{\n\t\t\tthis.current = this.commands.top;\n\t\t\tthis.first = false;\n\t\t}\n\n\t\treturn this.current === null;\n\t},\n\n\t/**\n\t * \tExecutes the next command in the block. Returns `true` when block execution is complete.\n\t * \t!update (anim: Anim) : boolean;\n\t */\n\tupdate: function (anim)\n\t{\n\t\twhile (!this.isFinished())\n\t\t{\n\t\t\tlet r = this.current.value.update(anim, this);\n\t\t\tif (r !== true) return r;\n\n\t\t\tthis.current = this.current.next;\n\t\t}\n\n\t\treturn true;\n\t}\n});\n\n/**\n * \tAllocates a new block.\n * \t!static alloc () : Block;\n */\n\n/**\n * \tAllocates a new block and initializes it.\n * \t!static calloc () : Block;\n */\n\nRecycler.attachTo(Block, 8192);\nexport default Block;\n","/*\n**\tfroxel/anim/command.js\n**\n**\tCopyright (c) 2013-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport { Class } from 'rinn';\nimport List from '../utils/list.js';\nimport Recycler from '../utils/recycler.js';\n\n//!class Command\n\nconst Command = Class.extend\n({\n\tclassName: 'Anim:Command',\n\n\t/**\n\t * \tObject having the code of the operation to execute.\n\t */\n\top: null,\n\n\t/**\n\t * \tIndicates if execution of the command has started.\n\t */\n\tstarted: false,\n\n\t/**\n\t * \tField related to the command.\n\t */\n\tfield: null,\n\n\t/**\n\t * \tValue related to the field of the command.\n\t */\n\tvalue: null,\n\n\t/**\n\t * \tDuration of the command.\n\t */\n\tduration: 0, _duration: 0,\n\n\t/**\n\t * \tNumber of cicles of the command.\n\t */\n\tcount: 0, _count: 0,\n\n\t/**\n\t * \tInitial value for the command's field.\n\t */\n\tstartValue: 0, _startValue: 0,\n\n\t/**\n\t * \tFinal value for the command's field.\n\t */\n\tendValue: 0, _endValue: 0,\n\n\t/**\n\t * \tEasing function to use to interpolate values of the command's field.\n\t */\n\teasing: null,\n\n\t_cur: null,\n\t_last: null,\n\n\t/**\n\t * \tBlock where the command is stored.\n\t */\n\tblock: null, /* Block */\n\n\t/**\n\t * \tBlocks to execute (for commands having multiple blocks).\n\t */\n\tblocks: null, /* List<Block> */\n\n\t/**\n\t * \tTable with values.\n\t */\n\ttable: null,\n\n\t/**\n\t * \tSound resource.\n\t */\n\tsnd: null,\n\n\t/**\n\t * \tFunction to execute.\n\t */\n\tfn: null,\n\n\t/**\n\t * \tInitializes the command.\n\t * \t!init (op: object) : Command;\n\t */\n\tinit: function (op, autoInit)\n\t{\n\t\tthis.op = op;\n\t\tthis.started = false;\n\n\t\tthis.block = null;\n\t\tthis.blocks = null;\n\t\n\t\tthis.table = null;\n\t\tthis.snd = null;\n\t\tthis.fn = null;\n\n\t\tif (autoInit !== false)\n\t\t\top.init(this, false);\n\n\t\treturn this;\n\t},\n\n\t__dtor: function()\n\t{\n\t\tif (this.block !== null) this.block.clear().free();\n\t\tif (this.blocks !== null) this.blocks.clear().free();\n\t},\n\n\tclone: function()\n\t{\n\t\tlet cmd = Command.alloc(this.op, false);\n\n\t \tcmd.field = this.field\n\t \tcmd.value = this.value\n\t \tcmd.duration = this.duration\n\t \tcmd.count = this.count\n\t \tcmd.startValue = this.startValue\n\t \tcmd.endValue = this.endValue\n\t \tcmd.easing = this.easing;\n\t\tcmd.table = this.table;\n\t\tcmd.snd = this.snd;\n\t\tcmd.fn = this.fn;\n\n\t\tif (this.block !== null)\n\t\t\tcmd.block = this.block.clone();\n\n\t\tif (this.blocks !== null)\n\t\t{\n\t\t\tcmd.blocks = List.Pool.alloc();\n\n\t\t\tfor (let node = this.blocks.top; node !== null; node = node.next)\n\t\t\t\tcmd.blocks.push(node.value.clone());\n\t\t}\n\n\t\treturn cmd;\n\t},\n\n\t/**\n\t * \tExecuted when the command properties are ready, to initialize the operation code.\n\t * \t!ready() : void;\n\t */\n\tready: function()\n\t{\n\t\tthis.op.init(this, true);\n\t},\n\n\t/**\n\t * \tUpdates the command execution.\n\t * \t!update (anim: Anim, block: Block) : boolean;\n\t */\n\tupdate: function(anim, block)\n\t{\n\t\treturn this.op.update(anim, block, this);\n\t}\n});\n\n/**\n * \tAllocates a new command.\n * \t!static alloc () : Command;\n */\n\n/**\n * \tAllocates a new command and initializes it.\n * \t!static calloc () : Command;\n */\n\nRecycler.attachTo(Command);\nexport default Command;\n","/*\n**\tfroxel/anim/parallel.js\n**\n**\tCopyright (c) 2013-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport List from '../utils/list.js';\nimport Block from './block.js';\n\nexport default\n{\n\tinit: function(cmd, postinit=false)\n\t{\n\t\tif (!postinit)\n\t\t{\n\t\t\tcmd.block = Block.alloc();\n\t\t\tcmd.blocks = List.Pool.alloc();\n\t\t\treturn;\n\t\t}\n\n\t\tlet i;\n\n\t\twhile ((i = cmd.block.commands.shift()) != null)\n\t\t{\n\t\t\tlet block = Block.alloc();\n\t\t\tblock.add(i);\n\t\t\tcmd.blocks.push(block);\n\t\t}\n\n\t\tcmd.block.free();\n\t\tcmd.block = null;\n\t},\n\n\tupdate: function (anim, block, cmd)\n\t{\n\t\tif (cmd.started === false)\n\t\t{\n\t\t\tfor (let i = cmd.blocks.top; i !== null; i = i.next)\n\t\t\t{\n\t\t\t\ti.value.reset (block.time);\n\t\t\t}\n\n\t\t\tcmd.started = true;\n\t\t}\n\n\t\tlet time = block.time;\n\t\tlet n = 0, m = 0;\n\n\t\tfor (let i = cmd.blocks.top; i !== null; i = i.next)\n\t\t{\n\t\t\tlet r = i.value.update(anim);\n\t\t\tif (r === true) n++; else if (r === null) m++;\n\n\t\t\tif (i.value.time > time)\n\t\t\t\ttime = i.value.time;\n\t\t}\n\n\t\tif ((n+m) != cmd.blocks.length)\n\t\t\treturn false;\n\n\t\tcmd.started = false;\n\t\tblock.time = time;\n\n\t\treturn true;\n\t}\n};\n","/*\n**\tfroxel/anim/serial.js\n**\n**\tCopyright (c) 2013-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport Block from './block.js';\n\nexport default\n{\n\tinit: function(cmd, postinit=false)\n\t{\n\t\tif (!postinit)\n\t\t\tcmd.block = Block.alloc();\n\t},\n\n\tupdate: function(anim, block, cmd)\n\t{\n\t\tif (cmd.started === false)\n\t\t{\n\t\t\tcmd.block.reset (block.time);\n\t\t\tcmd.started = true;\n\t\t}\n\n\t\tlet r = cmd.block.update(anim);\n\t\tif (r !== true) return r;\n\n\t\tcmd.started = false;\n\t\tblock.time = cmd.block.time;\n\t\treturn true;\n\t}\n};\n","/*\n**\tfroxel/anim/serial.js\n**\n**\tCopyright (c) 2013-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport Block from './block.js';\n\nexport default\n{\n\tinit: function(cmd, postinit=false)\n\t{\n\t\tif (!postinit)\n\t\t\tcmd.block = Block.alloc();\n\t},\n\n\tupdate: function(anim, block, cmd)\n\t{\n\t\tif (cmd.started === false)\n\t\t{\n\t\t\tcmd.block.reset (block.time);\n\t\t\tcmd._count = cmd.count;\n\n\t\t\tcmd.started = true;\n\t\t}\n\n\t\tlet r = cmd.block.update(anim);\n\t\tif (r !== true) return r;\n\n\t\tif (cmd._count <= 1)\n\t\t{\n\t\t\tcmd.started = false;\n\t\t\tblock.time = cmd.block.time;\n\t\t\treturn true;\n\t\t}\n\n\t\tcmd.block.restart();\n\t\tcmd._count--;\n\t\treturn false;\n\t}\n};\n","/*\n**\tfroxel/anim/set.js\n**\n**\tCopyright (c) 2013-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nexport default\n{\n\tinit: function(cmd, postinit=false)\n\t{\n\t},\n\n\tupdate: function(anim, block, cmd)\n\t{\n\t\tanim.setValue(cmd.field, anim.getValue(cmd.field, cmd.value));\n\t\treturn true;\n\t}\n};\n","/*\n**\tfroxel/anim/restart.js\n**\n**\tCopyright (c) 2013-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nexport default\n{\n\tinit: function(cmd, postinit=false)\n\t{\n\t},\n\n\tupdate: function(anim, block, cmd)\n\t{\n\t\tblock.restart();\n\t\treturn true;\n\t}\n};\n","/*\n**\tfroxel/anim/wait.js\n**\n**\tCopyright (c) 2013-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport { Rinn } from 'rinn';\n\nexport default\n{\n\tinit: function(cmd, postinit=false)\n\t{\n\t},\n\n\tupdate: function(anim, block, cmd)\n\t{\n\t\tif (cmd.started === false)\n\t\t{\n\t\t\tcmd._duration = Rinn.typeOf(cmd.duration) === 'string' ? anim.getValue(cmd.duration) : cmd.duration;\n\t\t\tcmd.started = true;\n\t\t}\n\n\t\tif (anim.time < block.time + cmd._duration)\n\t\t\treturn false;\n\n\t\tcmd.started = false;\n\t\tblock.time += cmd._duration;\n\t\treturn true;\n\t}\n};\n","/*\n**\tfroxel/anim/range.js\n**\n**\tCopyright (c) 2013-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport { Rinn } from 'rinn';\n\nexport default\n{\n\tinit: function(cmd, postinit=false)\n\t{\n\t},\n\n\tupdate: function(anim, block, cmd)\n\t{\n\t\tif (cmd.started === false)\n\t\t{\n\t\t\tcmd._startValue = anim.getValue(cmd.field, cmd.startValue);\n\t\t\tcmd._duration = Rinn.typeOf(cmd.duration) === 'string' ? anim.getValue(cmd.duration) : cmd.duration;\n\n\t\t\tcmd.started = true;\n\t\t}\n\n\t\tcmd._endValue = anim.getValue(cmd.field, cmd.endValue, cmd._startValue);\n\n\t\tlet t = 1.0;\n\n\t\tif (anim.time < block.time + cmd._duration)\n\t\t\tt = (anim.time - block.time) / cmd._duration;\n\n\t\tif (cmd.easing && t != 1.0)\n\t\t\tanim.setValue(cmd.field, cmd.easing(t)*(cmd._endValue - cmd._startValue) + cmd._startValue);\n\t\telse\n\t\t\tanim.setValue(cmd.field, t*(cmd._endValue - cmd._startValue) + cmd._startValue);\n\n\t\tif (t != 1.0)\n\t\t\treturn false;\n\n\t\tcmd.started = false;\n\t\tblock.time += cmd._duration;\n\n\t\treturn true;\n\t}\n};\n","/*\n**\tfroxel/anim/rand.js\n**\n**\tCopyright (c) 2013-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport { Rinn } from 'rinn';\n\nexport default\n{\n\tinit: function(cmd, postinit=false)\n\t{\n\t},\n\n\tupdate: function(anim, block, cmd)\n\t{\n\t\tif (cmd.started === false)\n\t\t{\n\t\t\tcmd._duration = Rinn.typeOf(cmd.duration) === 'string' ? anim.getValue(cmd.duration) : cmd.duration;\n\t\t\tcmd._last = null;\n\n\t\t\tcmd.started = true;\n\t\t}\n\n\t\tlet t = 1.0;\n\n\t\tif (anim.time < block.time + cmd._duration)\n\t\t\tt = (anim.time - block.time) / cmd._duration;\n\n\t\tif (cmd.easing && t != 1.0)\n\t\t\tcmd._cur = int(cmd.easing(t)*cmd.count);\n\t\telse\n\t\t\tcmd._cur = int(t*cmd.count);\n\n\t\tif (cmd._cur != cmd._last)\n\t\t{\n\t\t\tlet val = anim.getValue(cmd.field);\n\n\t\t\twhile (true) {\n\t\t\t\tlet i = int(Math.random()*(cmd.endValue - cmd.startValue + 1)) + cmd.startValue;\n\t\t\t\tif (i != val) break;\n\t\t\t}\n\n\t\t\tanim.setValue(cmd.field, i);\n\t\t\tcmd._last = cmd._cur;\n\t\t}\n\n\t\tif (t != 1.0)\n\t\t\treturn false;\n\n\t\tcmd.started = false;\n\t\tblock.time += cmd._duration;\n\n\t\treturn true;\n\t}\n};\n","/*\n**\tfroxel/anim/randt.js\n**\n**\tCopyright (c) 2013-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport { Rinn } from 'rinn';\n\nexport default\n{\n\tinit: function(cmd, postinit=false)\n\t{\n\t\tif (!postinit) return;\n\n\t\tlet table = [ ];\n\n\t\tfor (let i = 0; i < cmd.count; i++)\n\t\t\ttable.push ((i % (cmd.endValue - cmd.startValue + 1)) + cmd.startValue);\n\n\t\tfor (let i = cmd.count >> 2; i > 0; i--)\n\t\t{\n\t\t\tlet a = int(Math.random() * cmd.count);\n\t\t\tlet b = int(Math.random() * cmd.count);\n\n\t\t\tlet c = table[b];\n\t\t\ttable[b] = table[a];\n\t\t\ttable[a] = c;\n\t\t}\n\n\t\tcmd.table = table;\n\t},\n\n\tupdate: function(anim, block, cmd)\n\t{\n\t\tif (cmd.started === false)\n\t\t{\n\t\t\tcmd._duration = Rinn.typeOf(cmd.duration) === 'string' ? anim.getValue(cmd.duration) : cmd.duration;\n\t\t\tcmd.started = true;\n\t\t}\n\n\t\tlet t = 1.0;\n\t\tlet i;\n\n\t\tif (anim.time < block.time + cmd._duration)\n\t\t\tt = (anim.time - block.time) / cmd._duration;\n\n\t\tif (cmd.easing && t != 1.0)\n\t\t\ti = cmd.easing(t)*(cmd.count-1);\n\t\telse\n\t\t\ti = t*(cmd.count-1);\n\n\t\tanim.setValue(cmd.field, cmd.table[int((i + cmd.count) % cmd.count)]);\n\n\t\tif (t != 1.0)\n\t\t\treturn false;\n\n\t\tcmd.started = false;\n\t\tblock.time += cmd._duration;\n\n\t\treturn true;\n\t}\n};\n","/*\n**\tflow/grid-element.js\n**\n**\tCopyright (c) 2016-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport { Class } from 'rinn';\nimport Bounds2 from '../math/bounds2.js';\nimport Handler from '../utils/handler.js';\n\n//![import \"../math/bounds2\"]\n//![import \"../utils/handler\"]\n\n//:/**\n//: * \tDescribes an element that can be added to a grid.\n//: */\n\n//!class GridElement\n\nconst GridElement = Class.extend\n({\n\t/*\n\t**\tName of the class (for inheritance purposes).\n\t*/\n\tclassName: 'GridElement',\n\n\t/**\n\t * \tIdentifier of the element (string).\n\t * \t!id: string;\n\t */\n\tid: null,\n\n\t/**\n\t * \tBounds of the element.\n\t * \t!bounds: Bounds2;\n\t */\n\tbounds: null,\n\n\t/**\n\t * \tFlags of the element (see constants of this class).\n\t * \t!flags: number;\n\t */\n\tflags: 0,\n\n\t/**\n\t * \tGeneric data of the element, used to store some value or object.\n\t * \t!data: object;\n\t */\n\tdata: null,\n\n\t/**\n\t * \tExtension object of the element, can be used to implement specific functionality.\n\t * \t!ext: object;\n\t */\n\text: null,\n\n\t/**\n\t * \tThe container where the element is stored.\n\t */\n\tcontainer: null,\n\n\t/**\n\t * \tRemoval callback node added by Grid.\n\t */\n\t_grid_remove_node: null,\n\n\t/**\n\t * \tRemover runs when the `remove` method of the element is called or when the element is destroyed.\n\t */\n\tremover: null,\n\n\t/**\n\t * \tConstructs the instance at the specified position and with the specified size.\n\t * \t!constructor (x: number, y: number, width: number, height: number);\n\t */\n\t__ctor: function (x, y, width, height)\n\t{\n\t\tthis.bounds = Bounds2.Pool.alloc();\n\n\t\tthis.bounds.translate (x, y);\n\t\tthis.bounds.resize (width, height, true);\n\n\t\tthis.flags = GridElement.ALIVE | GridElement.VISIBLE | GridElement.DIRTY | GridElement.DEPTH_FLAG;\n\t\tthis.data = null;\n\t\tthis.ext = null;\n\n\t\tthis.remover = Handler.Pool.alloc(this);\n\t},\n\n\t/**\n\t * \tRemoves the element from its container and destroys it.\n\t */\n\t__dtor: function()\n\t{\n\t\tthis.alive(false);\n\n\t\tif (this.data !== null)\n\t\t{\n\t\t\tdispose(this.data);\n\t\t\tthis.data = null;\n\t\t}\n\n\t\tthis.remover.exec();\n\t\tthis.remover.free();\n\n\t\tthis.bounds.free();\n\t},\n\n\t/**\n\t * \tSets the identifier of the element.\n\t * \t!setId (value: string) : GridElement;\n\t */\n\tsetId: function (value)\n\t{\n\t\tthis.id = value;\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tSets bits of the element flags.\n\t * \t!setFlags (value: number) : GridElement;\n\t */\n\tsetFlags: function (value)\n\t{\n\t\tthis.flags |= value;\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tClears bits from the element flags.\n\t * \t!clearFlags (value: number) : GridElement;\n\t */\n\tclearFlags: function (value)\n\t{\n\t\tthis.flags &= ~value;\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tReturns true if masking (bitwise AND) the flags by the specified flag bits results in the given value.\n\t * \t!getFlags (andMask: number, value?: number) : boolean;\n\t */\n\tgetFlags: function (andMask, value=null)\n\t{\n\t\tif (value === null)\n\t\t\treturn (this.flags & andMask) === andMask;\n\n\t\treturn (this.flags & andMask) === value;\n\t},\n\n\t/**\n\t * \tSets the generic data of the element. Will be disposed when the element is destroyed.\n\t * \t!setData (data: object) : GridElement;\n\t */\n\tsetData: function (data)\n\t{\n\t\tthis.data = data;\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tReturns the generic data of the element.\n\t * \t!getData() : object;\n\t */\n\tgetData: function()\n\t{\n\t\treturn this.data;\n\t},\n\n\t/**\n\t * \tSets the extension object of the element. Calls to functions of this object should be done using the `exec` method.\n\t * \t!setExt (extensionObject: object) : GridElement;\n\t */\n\tsetExt: function (extensionObject)\n\t{\n\t\tthis.ext = extensionObject;\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tReturns the extension object of the element.\n\t * \t!getExt() : object;\n\t */\n\tgetExt: function()\n\t{\n\t\treturn this.ext;\n\t},\n\n\t/**\n\t * Executes a function of the extension object.\n\t * @param {string} name\n\t * !exec (name: string, ...args: any) : any;\n\t */\n\texec: function(name, arg0=null, arg1=null, arg2=null, arg3=null, arg4=null, arg5=null, arg6=null, arg7=null, arg8=null, arg9=null)\n\t{\n\t\tif (this.ext === null || !this.ext.hasOwnProperty(name))\n\t\t\treturn false;\n\n\t\treturn this.ext[name] (this, arg0, arg1, arg2, arg3, arg4, arg5, arg6, arg7, arg8, arg9);\n\t},\n\n\t/**\n\t * Sets the visible flag.\n\t * @param {boolean} value - New visibility value.\n\t * @param {boolean} forced - When `true` forces to ignore the VISIBLE_LOCK flag.\n\t * !visible (value: boolean, forced?: boolean|false) : GridElement;\n\t */\n\t/**\n\t * Returns the visible flag.\n\t * !visible() : boolean;\n\t */\n\tvisible: function (value=null, forced=false)\n\t{\n\t\tif (value === null)\n\t\t\treturn !!(this.flags & GridElement.VISIBLE);\n\n\t\tif (!forced && this.flags & GridElement.VISIBLE_LOCK)\n\t\t\treturn this;\n\n\t\tthis.flags &= ~GridElement.VISIBLE;\n\t\tif (value) this.flags |= GridElement.VISIBLE;\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tSets the visible-lock flag.\n\t * \t!visibleLock (value: boolean) : GridElement;\n\t */\n\t/**\n\t * \tReturns the visible-lock flag.\n\t * \t!visibleLock() : boolean;\n\t */\n\tvisibleLock: function (value=null)\n\t{\n\t\tif (value === null)\n\t\t\treturn !!(this.flags & GridElement.VISIBLE_LOCK);\n\n\t\tthis.flags &= ~GridElement.VISIBLE_LOCK;\n\t\tif (value) this.flags |= GridElement.VISIBLE_LOCK;\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tSets the alive flag.\n\t * \t!alive (value: boolean) : GridElement;\n\t */\n\t/**\n\t * \tReturns the alive flag.\n\t * \t!alive() : boolean;\n\t */\n\talive: function (value=null)\n\t{\n\t\tif (value === null)\n\t\t\treturn !!(this.flags & GridElement.ALIVE);\n\n\t\tthis.flags &= ~GridElement.ALIVE;\n\t\tif (value) this.flags |= GridElement.ALIVE;\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tSets the dirty flag.\n\t * \t!alive (value: boolean) : GridElement;\n\t */\n\t/**\n\t * \tReturns the dirty flag.\n\t * \t!alive() : boolean;\n\t */\n\tdirty: function (value=null)\n\t{\n\t\tif (value === null)\n\t\t\treturn !!(this.flags & GridElement.DIRTY);\n\n\t\tthis.flags &= ~GridElement.DIRTY;\n\t\tif (value) this.flags |= GridElement.DIRTY;\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tSets the depth-flag-enabled flag.\n\t * \t!depthFlagEnabled (value: boolean) : GridElement;\n\t */\n\t/**\n\t * \tReturns the depth-flag-enabled flag.\n\t * \t!depthFlagEnabled() : boolean;\n\t */\n\tdepthFlagEnabled: function (value=null)\n\t{\n\t\tif (value === null)\n\t\t\treturn !!(this.flags & GridElement.DEPTH_FLAG_ENABLED);\n\n\t\tthis.flags &= ~GridElement.DEPTH_FLAG_ENABLED;\n\t\tif (value) this.flags |= GridElement.DEPTH_FLAG_ENABLED;\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tSets the depth-flag flag. To actually use the depth-test, you have to enable the depth-flag using `depthFlagEnabled`.\n\t * \t!depthFlagEnabled (value: boolean) : GridElement;\n\t */\n\t/**\n\t * \tReturns the depth-flag flag.\n\t * \t!depthFlagEnabled() : boolean;\n\t */\n\tdepthFlag: function (value=null)\n\t{\n\t\tif (value === null)\n\t\t\treturn !!(this.flags & GridElement.DEPTH_FLAG);\n\n\t\tthis.flags &= ~GridElement.DEPTH_FLAG;\n\t\tif (value) this.flags |= GridElement.DEPTH_FLAG;\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tRemoves the element from the container and returns itself.\n\t * \t!remove() : GridElement;\n\t */\n\tremove: function()\n\t{\n\t\tthis.remover.exec();\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tSyncs the actual location of the specified element with its storage location (if alive and dirty).\n\t * \t!sync() : GridElement;\n\t */\n\tsync: function()\n\t{\n\t\tif (this.container === null || !this.getFlags(GridElement.ALIVE | GridElement.DIRTY))\n\t\t\treturn this;\n\n\t\tthis.container.sync(this);\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tSets the width and height of the element.\n\t * \t!resize (width: number|boolean|null, height: number|boolean|null) : GridElement;\n\t */\n\tresize: function (width, height)\n\t{\n\t\tthis.flags |= GridElement.DIRTY;\n\t\tthis.bounds.resize (width, height, true);\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tResizes the element by the specified deltas.\n\t * \t!resizeBy (deltaWidth: number|boolean, deltaHeight: number|boolean) : GridElement;\n\t */\n\tresizeBy: function (dWidth, dHeight)\n\t{\n\t\tthis.flags |= GridElement.DIRTY;\n\t\tthis.bounds.resizeBy (dWidth, dHeight, true);\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tMoves the element by the specified deltas.\n\t * \t@param upscaled - When `true` the `dx` and `dy` parameters are assumed to be upscaled.\n\t * \t!translate (dx: number, dy: number, upscaled?: boolean) : GridElement;\n\t */\n\ttranslate: function (dx, dy, upscaled=false)\n\t{\n\t\tthis.flags |= GridElement.DIRTY;\n\t\tthis.bounds.translate (dx, dy, upscaled);\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tSets the position of the element. Any parameter set to `null` will cause it not to be changed.\n\t * \t!setPosition (x: number, y: number) : GridElement;\n\t */\n\t/**\n\t * \tSets the position of the element. Any parameter set to `null` will cause it not to be changed.\n\t * \t!setPosition (pointer: {x:number, y:number}) : GridElement;\n\t */\n\tsetPosition: function (x, y=false)\n\t{\n\t\tif (y === false) {\n\t\t\ty = x.y;\n\t\t\tx = x.x;\n\t\t}\n\n\t\treturn this.translate (x !== null ? upscale(x)-this.bounds.ux1 : 0, y !== null ? upscale(y)-this.bounds.uy1 : 0, true);\n\t}\n});\n\n/*\n**\tGrid element flags.\n*/\nGridElement.ALIVE \t\t\t\t= \t0x0001;\nGridElement.VISIBLE \t\t\t= \t0x0002;\nGridElement.VISIBLE_LOCK \t\t= \t0x0004;\nGridElement.DIRTY \t\t\t\t= \t0x0008;\nGridElement.DEPTH_FLAG_ENABLED\t= \t0x0010;\nGridElement.DEPTH_FLAG\t\t\t= \t0x0020;\nGridElement.WRAP_EXTENTS\t\t=\t0x0040;\n\nGridElement.USERDEF\t\t=\t0x0100; /* Bits 8 to 30 : 23 flags  */\nGridElement.LAST_FLAG\t=\t0x0080;\n\n/**\n * \tClass-level function to allocate a new flag.\n * \t!static allocFlag() : number;\n */\nGridElement.allocFlag = function()\n{\n\tlet flag = GridElement.LAST_FLAG;\n\tif (flag === 0x4000_0000) throw new Error ('allocFlag: out of bit space to allocate another flag');\n\n\tflag <<= 1;\n\tGridElement.LAST_FLAG = flag;\n\n\treturn flag;\n};\n\nexport default GridElement;\n","/*\n**\tflow/grid.js\n**\n**\tCopyright (c) 2016-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport { Class } from 'rinn';\nimport GridElement from './grid-element.js';\nimport List from '../utils/list.js';\n\n//![import \"./grid-element\"]\n//![import \"../utils/list\"]\n\n//:/**\n//: * \tDescribes an optimized data structure to store 2D spatially indexed elements.\n//: */\n\n//!class Grid\n\nconst Grid = Class.extend\n({\n\t/**\n\t * \tName of the class (for inheritance purposes).\n\t */\n\tclassName: 'Grid',\n\n\t/**\n\t * \tActual grid of data, stored linearly. Contains several entries each of which can be either null or a List containing grid elements.\n\t */\n\tgrid: null,\n\n\t/**\n\t * \tNumber of elements active in the grid.\n\t * \t!readonly count: number;\n\t */\n\tcount: 0,\n\n\t/**\n\t * \tThe X and Y offsets to be added to all input coordinates. Used to ensure that a negative coordinate always ends up positive, calculated\n\t * \tusing the width and height of the grid.\n\t */\n\toffsx: 0, offsy: 0,\n\n\t/**\n\t * \tDivisors for the X and Y coordinates respectively. All input coordinates (after offseting) will be divided by these values to map them\n\t * \tto a grid entry (list) where the element can be added.\n\t */\n\tkx: 0, ky: 0,\n\n\t/**\n\t * \tStride to calculate an index with a Y-coordinate.\n\t */\n\tstride: 0,\n\n\t/**\n\t * \tIndicates if the grid should match regions with exact precision by comparing region to element bounds intersection.\n\t * \t!verifyIntersection: boolean;\n\t */\n\tverifyIntersection: true,\n\n\t/**\n\t * \tConstructs a grid with the specified maximum width and height. The final effective coordinate range will be -(width/2) to (width/2)for X,\n\t * \tand -(height/2) to (height/2) for Y.\n\t * \n\t * \tNote that the width, height and divisors kx and ky will be converted to their closest base-2 value. This is done to ensure shifts can be used\n\t * \tto quickly divide the input coordinates.\n\t * \n\t * \t!constructor (width: number, height: number, kx: number, ky?: number);\n\t */\n\t__ctor: function (width, height, kx, ky=null)\n\t{\n\t\twidth = 1 << Math.ceil(Math.log2(width));\n\t\theight = 1 << Math.ceil(Math.log2(height));\n\n\t\tthis.offsx = width >> 1;\n\t\tthis.offsy = height >> 1;\n\n\t\tif (ky === null)\n\t\t\tky = kx;\n\n\t\tkx = Math.floor(Math.log2(kx));\n\t\tky = Math.floor(Math.log2(ky));\n\n\t\tthis.kx = kx;\n\t\tthis.ky = ky;\n\n\t\tlet w = width >> kx;\n\t\tlet h = height >> ky;\n\n\t\tif (!w) {\n\t\t\tkx = Math.log2(width);\n\t\t\tw = 1;\n\t\t}\n\n\t\tif (!h) {\n\t\t\tky = Math.log2(height);\n\t\t\th = 1;\n\t\t}\n\n\t\tthis.grid = new Array(w*h).fill(null);\n\t\tthis.stride = w;\n\t},\n\n\t/**\n\t * \tDestroys all lists and elements in the grid.\n\t */\n\t__dtor: function()\n\t{\n\t\tthis.clear();\n\t\tthis.grid = null;\n\t},\n\n\t/**\n\t * \tDestroys all lists and elements in the grid.\n\t * \t!clear() : void;\n\t */\n\tclear: function()\n\t{\n\t\tfor (let i = 0; i < this.grid.length; i++)\n\t\t{\n\t\t\tif (this.grid[i] === null)\n\t\t\t\tcontinue;\n\n\t\t\tlet j;\n\n\t\t\twhile ((j = this.grid[i].shift()) !== null)\n\t\t\t{\n\t\t\t\tj.remover.remove(this._remove, this);\n\t\t\t\tj.container = null;\n\n\t\t\t\tdispose(j);\n\t\t\t}\n\n\t\t\tthis.grid[i].free();\n\t\t\tthis.grid[i] = null;\n\t\t}\n\n\t\tthis.count = 0;\n\t},\n\n\t/**\n\t * \tDestroys all lists in the grid. Elements will not be destroyed.\n\t * \t!reset() : void;\n\t */\n\treset: function()\n\t{\n\t\tfor (let i = 0; i < this.grid.length; i++)\n\t\t{\n\t\t\tif (this.grid[i] === null)\n\t\t\t\tcontinue;\n\n\t\t\tlet j;\n\n\t\t\twhile ((j = this.grid[i].shift()) !== null)\n\t\t\t{\n\t\t\t\tj.remover.remove(this._remove, this);\n\t\t\t\tj.container = null;\n\t\t\t}\n\n\t\t\tthis.grid[i].free();\n\t\t\tthis.grid[i] = null;\n\t\t}\n\n\t\tthis.count = 0;\n\t},\n\n\t/**\n\t * \tAdds an element to the grid. Returns `true` if successful, or `false` if the element is outside of the grid bounds.\n\t * \t!add (elem: GridElement) : boolean;\n\t */\n\tadd: function (elem)\n\t{\n\t\tif (!GridElement.isInstance(elem))\n\t\t\tthrow new Error ('argument must be a GridElement');\n\n\t\tlet i = int((elem.bounds.y1+this.offsy) >> this.ky) * this.stride + int((elem.bounds.x1+this.offsx) >> this.kx);\n\t\tif (i < 0 || i >= this.grid.length) return false;\n\n\t\tif (this.grid[i] === null)\n\t\t\tthis.grid[i] = List.Pool.alloc();\n\n\t\tthis.grid[i].push(elem);\n\t\tthis.count++;\n\n\t\telem.container = this;\n\t\telem._grid_remove_node = elem.remover.add(this._remove, this, i, this.grid[i].bottom);\n\n\t\treturn true;\n\t},\n\n\t/**\n\t * \tCallback to remove an element from the grid (called by Handler).\n\t */\n\t_remove: function (elem, self, index, node)\n\t{\n\t\tself.grid[index].remove(node);\n\t\tself.count--;\n\n\t\telem.container = null;\n\t\treturn false;\n\t},\n\n\t/**\n\t * \tRemoves the element from the grid and returns it.\n\t * \t!remove (elem: GridElement) : GridElement;\n\t */\n\tremove: function (elem)\n\t{\n\t\telem.remover.execc(this._grid_remove_node);\n\t\treturn elem;\n\t},\n\n\t/**\n\t * \tUpdates the storage location of the specified element. Returns `true` if successful, or `false` if the element is outside of the grid bounds (in\n\t * \twhich case the element will be removed), or if the element does not belong to this grid.\n\t * \t!sync (elem: GridElement) : boolean;\n\t */\n\tsync: function (elem)\n\t{\n\t\telem.clearFlags(GridElement.DIRTY);\n\n\t\tlet node = elem._grid_remove_node;\n\n\t\tlet i = int((elem.bounds.y1+this.offsy) >> this.ky) * this.stride + int((elem.bounds.x1+this.offsx) >> this.kx);\n\t\tif (i < 0 || i >= this.grid.length)\n\t\t{\n\t\t\telem.remover.execc(node);\n\t\t\treturn false;\n\t\t}\n\n\t\tif (node.arg1 === i)\n\t\t\treturn true;\n\n\t\tthis.grid[node.arg1].remove(node.arg2);\n\n\t\tif (this.grid[i] === null)\n\t\t\tthis.grid[i] = List.Pool.alloc();\n\n\t\tthis.grid[i].push(elem);\n\n\t\tnode.arg1 = i;\n\t\tnode.arg2 = this.grid[i].bottom;\n\n\t\treturn true;\n\t},\n\n\t/**\n\t * \tExecutes the specified callback function for each element that intersects the given bounds and has the specified flags set. The process is immediately\n\t * \tstopped if the callback returns `false`.\n\t * \t!forEachInRegion (bounds: Bounds2|Rect, flagsAndMask: number, flagsValue: number, callback: (elem: GridElement, context?: object) => boolean, context?: object) : void;\n\t */\n\tforEachInRegion: function (bounds, flagsAndMask, flagsValue, callback, context)\n\t{\n\t\tlet j0 = ((bounds.y1+this.offsy) - (1<<this.ky-1) >> this.ky) * this.stride;\n\t\tlet j1 = ((bounds.y2+this.offsy) + (1<<this.ky-1) >> this.ky) * this.stride;\n\t\tlet i0 = ((bounds.x1+this.offsx) - (1<<this.kx-1) >> this.kx);\n\t\tlet i1 = ((bounds.x2+this.offsx) + (1<<this.kx-1) >> this.kx);\n\n\t\tlet n = this.grid.length-1;\n\n\t\tif (j0 < 0) j0 = 0; if (j1 < 0) j1 = 0;\n\t\tif (i0 < 0) i0 = 0; if (i1 < 0) i1 = 0;\n\t\tif (j0 > n) j0 = n; if (j1 > n) j1 = n;\n\t\tif (i0 > n) i0 = n; if (i1 > n) i1 = n;\n\n\t\tfor (let j = j0; j <= j1; j += this.stride)\n\t\t{\n\t\t\tfor (let i = i0; i <= i1; i++)\n\t\t\t{\n\t\t\t\tlet k = j + i;\n\t\t\t\tif (k > n || this.grid[k] === null) continue;\n\n\t\t\t\tfor (let e = this.grid[k].top; e; e = e.next)\n\t\t\t\t{\n\t\t\t\t\t// First check the element flags.\n\t\t\t\t\tif (!e.value.getFlags(flagsAndMask, flagsValue)) continue;\n\n\t\t\t\t\t// Verify exact intersection only on elements located on the edges of the indexed-based approximated rectangle.\n\t\t\t\t\tif (this.verifyIntersection && (j <= j0+1 || i <= i0+1 || j >= j1-1 || i >= i1-1) && !e.value.bounds.intersects(bounds))\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\tif (callback(e.value, context) === false)\n\t\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * \tCollects all elements that intersect the given bounds and have the specified flags set. Returns a new List, remember to call `free` after using it.\n\t * \t!selectInRegion (bounds: Bounds2|Rect, flagsAndMask: number, flagsValue: number) : List;\n\t */\n\tselectInRegion: function (bounds, flagsAndMask, flagsValue)\n\t{\n\t\tlet j0 = ((bounds.y1+this.offsy) - (1<<this.ky-1) >> this.ky) * this.stride;\n\t\tlet j1 = ((bounds.y2+this.offsy) + (1<<this.ky-1) >> this.ky) * this.stride;\n\t\tlet i0 = ((bounds.x1+this.offsx) - (1<<this.kx-1) >> this.kx);\n\t\tlet i1 = ((bounds.x2+this.offsx) + (1<<this.kx-1) >> this.kx);\n\n\t\tlet n = this.grid.length-1;\n\n\t\tif (j0 < 0) j0 = 0; if (j1 < 0) j1 = 0;\n\t\tif (i0 < 0) i0 = 0; if (i1 < 0) i1 = 0;\n\t\tif (j0 > n) j0 = n; if (j1 > n) j1 = n;\n\t\tif (i0 > n) i0 = n; if (i1 > n) i1 = n;\n\n\t\tlet list = List.Pool.alloc();\n\n\t\tfor (let j = j0; j <= j1; j += this.stride)\n\t\t{\n\t\t\tfor (let i = i0; i <= i1; i++)\n\t\t\t{\n\t\t\t\tlet k = j + i;\n\t\t\t\tif (k > n || this.grid[k] === null) continue;\n\n\t\t\t\tfor (let e = this.grid[k].top; e; e = e.next)\n\t\t\t\t{\n\t\t\t\t\t// First check the element flags.\n\t\t\t\t\tif (!e.value.getFlags(flagsAndMask, flagsValue)) continue;\n\n\t\t\t\t\t// Verify exact intersection only on elements located on the edges of the indexed-based approximated rectangle.\n\t\t\t\t\tif (this.verifyIntersection && (j <= j0+1 || i <= i0+1 || j >= j1-1 || i >= i1-1) && !e.value.bounds.intersects(bounds))\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\tlist.push(e.value);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn list;\n\t},\n\n\t/**\n\t * \tCounts all elements that intersect the given bounds and have the specified flags set.\n\t * \t!countInRegion (bounds: Bounds2|Rect, flagsAndMask: number, flagsValue: number) : number;\n\t */\n\tcountInRegion: function (bounds, flagsAndMask, flagsValue)\n\t{\n\t\tlet j0 = ((bounds.y1+this.offsy) - (1<<this.ky-1) >> this.ky) * this.stride;\n\t\tlet j1 = ((bounds.y2+this.offsy) + (1<<this.ky-1) >> this.ky) * this.stride;\n\t\tlet i0 = ((bounds.x1+this.offsx) - (1<<this.kx-1) >> this.kx);\n\t\tlet i1 = ((bounds.x2+this.offsx) + (1<<this.kx-1) >> this.kx);\n\n\t\tlet n = this.grid.length-1;\n\n\t\tif (j0 < 0) j0 = 0; if (j1 < 0) j1 = 0;\n\t\tif (i0 < 0) i0 = 0; if (i1 < 0) i1 = 0;\n\t\tif (j0 > n) j0 = n; if (j1 > n) j1 = n;\n\t\tif (i0 > n) i0 = n; if (i1 > n) i1 = n;\n\n\t\tlet m = 0;\n\n\t\tfor (let j = j0; j <= j1; j += this.stride)\n\t\t{\n\t\t\tfor (let i = i0; i <= i1; i++)\n\t\t\t{\n\t\t\t\tlet k = j + i;\n\t\t\t\tif (k > n || this.grid[k] === null) continue;\n\n\t\t\t\tfor (let e = this.grid[k].top; e; e = e.next)\n\t\t\t\t{\n\t\t\t\t\t// First check the element flags.\n\t\t\t\t\tif (!e.value.getFlags(flagsAndMask, flagsValue)) continue;\n\n\t\t\t\t\t// Verify exact intersection only on elements located on the edges of the indexed-based approximated rectangle.\n\t\t\t\t\tif (this.verifyIntersection && (j <= j0+1 || i <= i0+1 || j >= j1-1 || i >= i1-1) && !e.value.bounds.intersects(bounds))\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\tm++;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn m;\n\t},\n\n\t/**\n\t * \tReturns the first element that intersect the given bounds and have the specified flags set.\n\t * \t!selectFirst (bounds: Bounds2|Rect, flagsAndMask: number, flagsValue: number) : GridElement;\n\t */\n\tselectFirst: function (bounds, flagsAndMask, flagsValue)\n\t{\n\t\tlet j0 = ((bounds.y1+this.offsy) - (1<<this.ky-1) >> this.ky) * this.stride;\n\t\tlet j1 = ((bounds.y2+this.offsy) + (1<<this.ky-1) >> this.ky) * this.stride;\n\t\tlet i0 = ((bounds.x1+this.offsx) - (1<<this.kx-1) >> this.kx);\n\t\tlet i1 = ((bounds.x2+this.offsx) + (1<<this.kx-1) >> this.kx);\n\n\t\tlet n = this.grid.length-1;\n\n\t\tif (j0 < 0) j0 = 0; if (j1 < 0) j1 = 0;\n\t\tif (i0 < 0) i0 = 0; if (i1 < 0) i1 = 0;\n\t\tif (j0 > n) j0 = n; if (j1 > n) j1 = n;\n\t\tif (i0 > n) i0 = n; if (i1 > n) i1 = n;\n\n\t\tfor (let j = j0; j <= j1; j += this.stride)\n\t\t{\n\t\t\tfor (let i = i0; i <= i1; i++)\n\t\t\t{\n\t\t\t\tlet k = j + i;\n\t\t\t\tif (k > n || this.grid[k] === null) continue;\n\n\t\t\t\tfor (let e = this.grid[k].top; e; e = e.next)\n\t\t\t\t{\n\t\t\t\t\t// First check the element flags.\n\t\t\t\t\tif (!e.value.getFlags(flagsAndMask, flagsValue)) continue;\n\n\t\t\t\t\t// Verify exact intersection only on elements located on the edges of the indexed-based approximated rectangle.\n\t\t\t\t\tif (this.verifyIntersection && (j <= j0+1 || i <= i0+1 || j >= j1-1 || i >= i1-1) && !e.value.bounds.intersects(bounds))\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t\treturn e.value;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn null;\n\t}\n});\n\nexport default Grid;\n","/*\n**\tflow/scene.js\n**\n**\tCopyright (c) 2013-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport { Class } from 'rinn';\nimport Container from './container.js';\nimport Viewport from './viewport.js';\nimport Group from './group.js';\nimport Bounds2 from '../math/bounds2.js';\nimport List from '../utils/list.js';\nimport Handler from '../utils/handler.js';\nimport globals from '../system/globals.js';\nimport Log from '../system/log.js';\n\n//![import \"./container\"]\n//![import \"./viewport\"]\n//![import \"./group\"]\n//![import \"../math/bounds2\"]\n//![import \"../utils/list\"]\n//![import \"../utils/handler\"]\n//![import \"../system/globals\"]\n\n//:/**\n//: * \tA scene is a set of containers, viewports and groups. Rendering is done in their specific index-based order.\n//: */\n\n//!class Scene\n\nconst Scene = Class.extend\n({\n\tclassName: 'Scene',\n\n\t/**\n\t * Minimum dimensions of the scene (smallest container size).\n\t * !readonly minWidth: number;\n\t * !readonly minHeight: number;\n\t */\n\tminWidth: null,\n\tminHeight: null,\n\n\t/**\n\t * Maximum dimensions of the scene (largest container size).\n\t * !readonly maxWidth: number;\n\t * !readonly maxHeight: number;\n\t */\n\tmaxWidth: null,\n\tmaxHeight: null,\n\n\t/**\n\t * List of containers.\n\t */\n\tcontainers: null,\n\n\t/**\n\t * List of viewports.\n\t */\n\tviewports: null,\n\n\t/**\n\t * Active viewport bounds, used to select items in a visible region.\n\t * !readonly viewportBounds: Bounds2;\n\t */\n\tviewportBounds: null,\n\n\t/**\n\t * List of Group elements.\n\t */\n\tgroupList: null,\n\n\t/**\n\t * Named Group elements.\n\t */\n\tgroups: null,\n\n\t/**\n\t * Disposal queue.\n\t */\n\tdisposalQueue: null,\n\n\t/**\n\t * First updater. Runs before any other update calls.\n\t * !readonly fupdater: Handler;\n\t */\n\tfupdater: null,\n\n\t/**\n\t * General updater. Runs after the first updater and before synchronizer.\n\t * !readonly updater: Handler;\n\t */\n\tupdater: null,\n\n\t/**\n\t * Synchronizer. Run after general updater, and before viewport synchronization.\n\t * !readonly synchronizer: Handler;\n\t */\n\tsynchronizer: null,\n\n\t/**\n\t * Last updater. Runs after all other update calls.\n\t * !readonly lupdater: Handler;\n\t */\n\tlupdater: null,\n\n\t/**\n\t * Destroyer runs when the scene is destroyed.\n\t * !readonly destroyer: Handler;\n\t */\n\tdestroyer: null,\n\n\t/**\n\t * Current delta time. Set upon entering the `update` method. Reflects the same value as System.frameDelta.\n\t * !readonly dt: number;\n\t */\n\tdt: 0,\n\n\t/**\n\t * Flags of the object (see constants at the bottom of this file).\n\t */\n\tflags: 0,\n\n\t/**\n\t * Total number of elements drawn on the last draw operation.\n\t * !readonly drawCount: number;\n\t */\n\tdrawCount: 0,\n\n\t/**\n\t * Scene object pointing to itself.\n\t */\n\tscene: null,\n\n\t/**\n\t * Base depth (z-value) of the scene.\n\t * !readonly zvalue: number;\n\t */\n\tzvalue: null,\n\n\t/**\n\t * Name of the layer.\n\t * !readonly name: string;\n\t */\n\tname: null,\n\n\t/**\n\t * Constructs an empty scene with the specified index.\n\t * @param index - Index for the scene. Used to calculate the base z-value of the scene. Valid range is from 0 to 3.\n\t * @param name - Name of the scene, used for debugging purposes. If none provided SCENE_X will be used where X is the scene's index.\n\t * !constructor (index: number, name?: string);\n\t */\n\t__ctor: function (index, name=null)\n\t{\n\t\tthis.containers = [];\n\n\t\t/**\n\t\t * \tZ-value is a 24-bit value constructed as:\n\t\t *\t\t2-bits: Scene Index\n\t\t *\t\t4-bits: Container Index\n\t\t *\t\t18-bits: Element z-value\n\t\t */\n\t\tthis.zvalue = (index & 3) << (18+4);\n\t\tthis.name = name !== null ? name : (\"SCENE_\" + index);\n\n\t\tthis.viewports = [];\n\t\tthis.viewportBounds = Bounds2.Pool.alloc();\n\n\t\tthis.groupList = List.Pool.alloc();\n\t\tthis.groups = { };\n\n\t\tthis.disposalQueue = List.Pool.alloc();\n\n\t\tthis.fupdater = Handler.Pool.alloc(this);\n\t\tthis.updater = Handler.Pool.alloc(this);\n\t\tthis.synchronizer = Handler.Pool.alloc(this);\n\t\tthis.lupdater = Handler.Pool.alloc(this);\n\t\tthis.destroyer = Handler.Pool.alloc(this);\n\n\t\tthis.flags = Scene.VISIBLE;\n\t\tthis.scene = this;\n\t},\n\n\t/**\n\t * Destroys the instance along with all containers, viewports and groups.\n\t */\n\t__dtor: function()\n\t{\n\t\tthis.disposeQueued();\n\t\tthis.disposalQueue.free();\n\n\t\tthis.destroyer.exec();\n\t\tthis.destroyer.free();\n\n\t\tthis.fupdater.free();\n\t\tthis.updater.free();\n\t\tthis.synchronizer.free();\n\t\tthis.lupdater.free();\n\n\t\tlet i;\n\n\t\twhile ((i = this.groupList.shift()) !== null)\n\t\t{\n\t\t\ti.remover.remove(this._remove, this);\n\t\t\ti.container = null;\n\t\t\tdispose(i);\n\t\t}\n\n\t\tfor (i = 0; i < this.containers.length; i++)\n\t\t{\n\t\t\tif (!this.containers[i]) continue;\n\n\t\t\tthis.containers[i].scene = null;\n\t\t\tdispose(this.containers[i]);\n\n\t\t\tthis.containers[i] = null;\n\t\t}\n\n\t\tfor (i = 0; i < this.viewports.length; i++)\n\t\t{\n\t\t\tif (!this.viewports[i]) continue;\n\n\t\t\tdispose(this.viewports[i]);\n\t\t\tthis.viewports[i] = null;\n\t\t}\n\n\t\tthis.viewportBounds.free();\n\t\tthis.groupList.free();\n\t},\n\n\t/**\n\t * Clears the scene leaving only viewports.\n\t * !clear() : void;\n\t */\n\tclear: function()\n\t{\n\t\tthis.disposeQueued();\n\n\t\tlet i;\n\n\t\twhile ((i = this.groupList.shift()) !== null)\n\t\t{\n\t\t\ti.remover.remove(this._remove, this);\n\t\t\ti.container = null;\n\t\t\tdispose(i);\n\t\t}\n\n\t\tfor (i = 0; i < this.containers.length; i++)\n\t\t{\n\t\t\tif (this.containers[i])\n\t\t\t\tthis.containers[i].clear();\n\t\t}\n\t},\n\n\t/**\n\t * Returns the value of the `visible` flag.\n\t * !visible() : boolean;\n\t */\n\t/**\n\t * Sets the value of the `visible` flag.\n\t * !visible(value: boolean) : Container;\n\t */\n\tvisible: function (value=null)\n\t{\n\t\tif (value === null)\n\t\t\treturn !!(this.flags & Scene.VISIBLE);\n\n\t\tthis.flags &= ~Scene.VISIBLE;\n\t\tif (value) this.flags |= Scene.VISIBLE;\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * Sets a container at the specified index.\n\t * @param index - Index of the container, valid range is from 0 to 15.\n\t * !setContainer (index: number, container: Container) : Scene;\n\t */\n\tsetContainer: function (index, container)\n\t{\n\t\tif (index < 0) return this;\n\t\tindex &= 15;\n\n\t\tif (container === null)\n\t\t{\n\t\t\tthis.containers[index].scene = null;\n\t\t\tthis.containers[index] = null;\n\t\t\treturn this;\n\t\t}\n\n\t\tif (!Container.isInstance(container))\n\t\t\tthrow new Error('Scene: Unable to set container at index ' + index + ': argument is not a Container');\n\n\t\tif (this.minWidth === null || container.width < this.minWidth) this.minWidth = container.width;\n\t\tif (this.minHeight === null || container.height < this.minHeight) this.minHeight = container.height;\n\t\tif (this.maxWidth === null || container.width > this.maxWidth) this.maxWidth = container.width;\n\t\tif (this.maxHeight === null || container.height > this.maxHeight) this.maxHeight = container.height;\n\n\t\tcontainer.scene = this;\n\t\tcontainer.zvalue = this.zvalue + (index << 18);\n\n\t\tthis.containers[index] = container;\n\t\treturn this;\n\t},\n\n\t/**\n\t * Returns the container at the specified index.\n\t * !getContainer (index: number) : Container;\n\t */\n\tgetContainer: function (index)\n\t{\n\t\treturn index < 0 || index >= this.containers.length ? null : this.containers[index];\n\t},\n\n\t/**\n\t * Sets a viewport at the specified index.\n\t * !setViewport (index: number, viewport: Viewport) : Scene;\n\t */\n\tsetViewport: function (index, viewport)\n\t{\n\t\tif (index < 0) return this;\n\n\t\tif (viewport !== null && !Viewport.isInstance(viewport))\n\t\t\tthrow new Error('Scene: Unable to set viewport at index ' + index + ': argument is not a Viewport.');\n\n\t\tthis.viewports[index] = viewport;\n\t\treturn this;\n\t},\n\n\t/**\n\t * Returns the viewport at the specified index.\n\t * !getViewport (index: number) : Viewport;\n\t */\n\tgetViewport: function (index)\n\t{\n\t\treturn index < 0 || index >= this.viewports.length ? null : this.viewports[index];\n\t},\n\n\t/**\n\t * Adds the given element to the disposal queue. To be destroyed on the next call to `disposeQueued`.\n\t * !disposeLater (elem: Element) : void;\n\t */\n\tdisposeLater: function (elem)\n\t{\n\t\tif (!elem.alive()) return;\n\n\t\tthis.disposalQueue.push(elem);\n\t\telem.alive(false);\n\t},\n\n\t/**\n\t * Disposes all elements in the disposal queue.\n\t * !disposeQueued() : void;\n\t */\n\tdisposeQueued: function ()\n\t{\n\t\tlet elem;\n\n\t\twhile ((elem = this.disposalQueue.shift()) !== null)\n\t\t\tdispose(elem);\n\t},\n\n\t/**\n\t * Adds a group to the scene.\n\t * !addGroup (group: Group) : boolean;\n\t */\n\taddGroup: function (group)\n\t{\n\t\tif (!Group.isInstance(group))\n\t\t\tthrow new Error ('argument must be a Group');\n\n\t\tthis.groupList.push(group);\n\n\t\tif (group.id !== null)\n\t\t\tthis.groups[group.id] = group;\n\n\t\tgroup.container = this;\n\t\tgroup.remover.add(this._removeGroup, this, this.groupList.bottom);\n\n\t\treturn true;\n\t},\n\n\t/**\n\t * Callback to remove a group from the scene (called by Handler).\n\t */\n\t_removeGroup: function (group, self, node)\n\t{\n\t\tgroup.container = null;\n\t\tself.groupList.remove(node);\n\n\t\tif (group.id !== null)\n\t\t\tself.groups[group.id] = null;\n\n\t\treturn false;\n\t},\n\n\t/**\n\t * Removes a group from the scene.\n\t * !removeGroup (group: Group) : Group;\n\t */\n\tremoveGroup: function (group)\n\t{\n\t\tgroup.remover.execf(this._remove, this);\n\t\treturn group;\n\t},\n\n\t/**\n\t * Syncs the actual location of the specified element with its storage location. Returns `true` if successful.\n\t * !sync (group: Group) : boolean;\n\t */\n\tsync: function (group)\n\t{\n\t\treturn true;\n\t},\n\n\t/**\n\t * Draws the scene, by executing the `draw` method on each container. The entire scene will be drawn once for each viewport, and\n\t * the visible region rules of each viewport will be applied.\n\t * !draw (g: Canvas) : void;\n\t */\n\tdraw: function (g)\n\t{\n\t\tif (!this.visible()) return;\n\n\t\tthis.drawCount = 0;\n\n\t\tif (this.viewports.length)\n\t\t{\n\t\t\tfor (let viewportIndex = 0; viewportIndex < this.viewports.length; viewportIndex++)\n\t\t\t{\n\t\t\t\tlet viewport = this.viewports[viewportIndex];\n\t\t\t\tif (!viewport || !viewport.enabled()) continue;\n\n\t\t\t\tglobals.viewport = viewport;\n\n\t\t\t\tg.pushClip();\n\t\t\t\tg.pushMatrix();\n\n\t\t\t\tviewport.applyClip(g);\n\t\t\t\tviewport.applyTransform(g);\n\n\t\t\t\tthis.viewportBounds.set(viewport.bounds);//.resizeBy(2, 2);\n\t\t\t\tthis.drawContainers(g, this.viewportBounds);\n\n\t\t\t\tg.popMatrix();\n\t\t\t\tg.popClip();\n\t\t\t}\n\t\t}\n\t\telse\n\t\t\tthis.drawContainers(g, null);\n\n\t\tif (Log.enabled)\n\t\t\tLog.vars[this.name] = this.drawCount;\n\t},\n\n\t/**\n\t * Draws the scene containers and passes the specified viewport bounds to the container.\n\t * !drawContainers (g: Canvas, viewportBounds: Bounds2) : void;\n\t */\n\tdrawContainers: function (g, viewportBounds)\n\t{\n\t\ttry\n\t\t{\n\t\t\tfor (let i = 0; i < this.containers.length; i++)\n\t\t\t{\n\t\t\t\tif (!this.containers[i])\n\t\t\t\t\tcontinue;\n\n\t\t\t\tthis.containers[i].setViewportBounds(viewportBounds);\n\t\t\t\tthis.containers[i].draw(g);\n\n\t\t\t\tthis.drawCount += this.containers[i].drawCount;\n\t\t\t}\n\t\t}\n\t\tcatch (e)\n\t\t{\n\t\t\tif (e.message !== 'FRAME_END') {\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t}\n\t},\n\n\t/**\n\t * Updates the scene viewports.\n\t */\n\tupdateViewports: function ()\n\t{\n\t\tfor (let i = 0; i < this.viewports.length; i++)\n\t\t{\n\t\t\tif (!this.viewports[i])\n\t\t\t\tcontinue;\n\n\t\t\tthis.viewports[i].update(this.dt);\n\t\t}\n\t},\n\n\t/**\n\t * Runs a scene update cycle.\n\t * !update (dt: number) : void;\n\t */\n\tupdate: function (dt)\n\t{\n\t\tthis.dt = dt;\n\t\tthis.fupdater.exec();\n\n\t\tthis.updater.exec();\n\t\tthis.disposeQueued();\n\t\tthis.synchronizer.exec();\n\t\tthis.updateViewports();\n\n\t\tthis.lupdater.exec();\n\t}\n});\n\n\n/**\n * \tConstants.\n */\nScene.VISIBLE = 0x001;\n\nexport default Scene;\n","/*\n**\tflow/container.js\n**\n**\tCopyright (c) 2013-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport { Class } from 'rinn';\nimport Handler from '../utils/handler';\n\n//:/**\n//: * \tA container is responsible to store elements for their subsequent rendering. The actual storage mechanism used can vary and must be implemented by derived\n//: * \tclasses (see `GridContainer` and `SimpleContainer`).\n//: */\n\n//!class Container\n\nconst Container = Class.extend\n({\n\tclassName: 'Container',\n\n\t/**\n\t * Viewport bounds currently active. Set by the Scene class before calling `draw`.\n\t * !viewportBounds: Bounds2;\n\t */\n\tviewportBounds: null,\n\n\t/**\n\t * Width of the container.\n\t * !width: number;\n\t */\n\twidth: 0,\n\n\t/**\n\t * Height of the container.\n\t * !height: number;\n\t */\n\theight: 0,\n\n\t/**\n\t * Depth (z-value) of the container, calculated by the scene.\n\t * !zvalue: number;\n\t */\n\tzvalue: 0,\n\n\t/**\n\t * Scene object to which this container belongs.\n\t * !scene: Scene;\n\t */\n\tscene: null,\n\n\t/**\n\t * Flags of the object (see constants at the bottom of this file).\n\t * !flags: number;\n\t */\n\tflags: 0,\n\n\t/**\n\t * Currently active display buffer for rendering operations (used by drawElement).\n\t * !g: Canvas;\n\t */\n\tg: null,\n\n\t/**\n\t * Total number of elements in the container.\n\t * !readonly elementCount: number;\n\t */\n\telementCount: 0,\n\n\t/**\n\t * Total number of elements drawn on the last draw operation.\n\t * !readonly drawCount: number;\n\t */\n\tdrawCount: 0,\n\n\t/**\n\t * Draw handler executed after the scene is drawn.\n\t * !readonly ldraw: Handler;\n\t */\n\tldraw: null,\n\n\t/**\n\t * Constructs the container with the default size (32768 x 32768).\n\t * !constructor ();\n\t */\n\t/**\n\t * Constructs the container with the specified size.\n\t * !constructor (width: number, height: number);\n\t */\n\t__ctor: function (width=32768, height=32768)\n\t{\n\t\tthis.width = width;\n\t\tthis.height = height;\n\n\t\tthis.flags = Container.VISIBLE | Container.DEPTH_FLAG;\n\t\tthis.ldraw = Handler.Pool.alloc(this);\n\t},\n\n\t/**\n\t * Destroys the container.\n\t */\n\t__dtor: function()\n\t{\n\t\tthis.ldraw.free();\n\t},\n\n\t/**\n\t * Returns the value of the `visible` flag.\n\t * !visible() : boolean;\n\t */\n\t/**\n\t * Sets the value of the `visible` flag.\n\t * !visible(value: boolean) : Container;\n\t */\n\tvisible: function (value=null)\n\t{\n\t\tif (value === null)\n\t\t\treturn !!(this.flags & Container.VISIBLE);\n\n\t\tthis.flags &= ~Container.VISIBLE;\n\t\tif (value) this.flags |= Container.VISIBLE;\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * Returns the value of the `depthFlag` flag.\n\t * !depthFlag() : boolean;\n\t */\n\t/**\n\t * Sets the value of the `depthFlag` flag.\n\t * !depthFlag(value: boolean) : Container;\n\t */\n\tdepthFlag: function (value=null)\n\t{\n\t\tif (value === null)\n\t\t\treturn !!(this.flags & Container.DEPTH_FLAG);\n\n\t\tthis.flags &= ~Container.DEPTH_FLAG;\n\t\tif (value) this.flags |= Container.DEPTH_FLAG;\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * Sets the active viewport bounds.\n\t * !setViewportBounds (bounds: Bounds2) : Container;\n\t */\n\tsetViewportBounds: function (bounds)\n\t{\n\t\tthis.viewportBounds = bounds;\n\t\treturn this;\n\t},\n\n\t/**\n\t * Draws the specified element.\n\t * !drawElement (elem: Element, self: Container) : boolean;\n\t */\n\tdrawElement: function (elem, self)\n\t{\n\t\tself.drawCount++;\n\t\treturn elem.draw(self.g);\n\t},\n\n\t/**\n\t * Updates the Z-value of the specified element. Should be called after adding an element and after/before every sync.\n\t * !syncZ (elem: Element) : void;\n\t */\n\tsyncZ: function (elem)\n\t{\n\t\telem.__zvalue = this.zvalue + ((elem._zvalue + elem.bounds.y2) & ((1 << 18) - 1));\n\t\t//elem.__zvalue = this.zvalue + (1 << 18) - ((elem._zvalue + elem.bounds.y2 + (1 << 18)) & ((1 << 18) - 1));\n\t},\n\n\t/**\n\t * Syncs the actual location of the specified element with its storage location. Returns true if successful.\n\t * !sync (elem: Element) : boolean;\n\t */\n\tsync: function (elem)\n\t{\n\t\tthrow new Error ('Container::sync not implemented');\n\t},\n\n\t/**\n\t * Clears the container to empty. All contained elements will be destroyed.\n\t * !clear() : void;\n\t */\n\tclear: function() /* @override */\n\t{\n\t\tthrow new Error ('Container::clear not implemented');\n\t},\n\n\t/**\n\t * Resets the container to empty. Contained elements are not destroyed. Use `clear` if that is your intention.\n\t * !reset() : void;\n\t */\n\treset: function() /* @override */\n\t{\n\t\tthrow new Error ('Container::reset not implemented');\n\t},\n\n\t/**\n\t * Adds an element to the container. Returns boolean indicating if successful.\n\t * !add (elem: Element) : boolean;\n\t */\n\tadd: function (elem) /* @override */\n\t{\n\t\tthrow new Error ('Container::add not implemented');\n\t},\n\n\t/**\n\t * Removes an element from the container and returns it.\n\t * !remove (elem: Element) : Element;\n\t */\n\tremove: function (elem) /* @override */\n\t{\n\t\tthrow new Error ('Container::remove not implemented');\n\t},\n\n\t/**\n\t * Prepares the canvas with depth flag configuration and Z-value to draw the contained elements.\n\t * !draw (g: Canvas) : void;\n\t */\n\tdraw: function(g)\n\t{\n\t\tif (!this.visible()) return;\n\n\t\tlet depthFlagChanged = g.pushDepthFlag(this.flags & Container.DEPTH_FLAG);\n\n\t\tg.zvalue = this.zvalue;\n\n\t\tthis.drawCount = 0;\n\t\tthis.g = g;\n\n\t\tthis.render();\n\t\tthis.ldraw.exec(g);\n\n\t\tif (depthFlagChanged) g.popDepthFlag();\n\t},\n\n\t/**\n\t * Actually draws the contained elements.\n\t * !render() : void;\n\t */\n\trender: function()\n\t{\n\t\tthrow new Error ('Container::render not implemented');\n\t}\n});\n\n\n/*\n**\tConstants.\n*/\nContainer.VISIBLE = 0x001;\nContainer.DEPTH_FLAG = 0x002;\n\nexport default Container;\n","/*\n**\tflow/viewport.js\n**\n**\tCopyright (c) 2013-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport { Class } from 'rinn';\nimport Bounds2 from '../math/bounds2.js';\nimport Point2 from '../math/point2.js';\n\n//![import \"../math/point2\"]\n//![import \"../math/bounds2\"]\n//![import \"../math/rect\"]\n//![import \"../system/canvas\"]\n\n//:/**\n//: * \tViewport class controls the current visible rectangle of a container.\n//: */\n\n//!class Viewport\n\nconst Viewport = Class.extend\n({\n\tclassName: 'Viewport',\n\n\t/**\n\t * \tDimensions of the viewport.\n\t *\n\t * \t!readonly width: number;\n\t * \t!readonly height: number;\n\t */\n\twidth: 0, initialWidth: 0,\n\theight: 0, initialHeight: 0,\n\n\t/**\n\t * \tPosition of the top-left corner of the viewport in screen space.\n\t */\n\tsx: 0,\n\tsy: 0,\n\n\t/**\n\t * \tPosition of the center of the viewport in the container.\n\t */\n\tx: 0,\n\ty: 0,\n\n\t/**\n\t * \tRatio for the viewport's center (value from -1 to 1), used when focusing to use a different focus point instead of the exact center.\n\t */\n\tcenterRatioX: 0,\n\tcenterRatioY: 0,\n\n\t/**\n\t * \tPosition offset, used to move the viewport around without affecting the focus point.\n\t */\n\toffset: null,\n\n\t/**\n\t * \tBoundaries of the container, set by `setContainerBounds`.\n\t *\n\t * \t!readonly container: Bounds2;\n\t */\n\tcontainer: null,\n\n\t/**\n\t * \tThe focus factor determines the ratio of a smaller viewport on which the current focus point must  be contained. If the focus point is not inside the\n\t * \tsmaller viewport scrolling will be performed.\n\t */\n\tfocusFactorX: 0,\n\tfocusFactorY: 0,\n\n\t/**\n\t * \tFocus target rectangle and its offsets. When the viewport is updated it will automatically focus on this rect.\n\t */\n\tfocusRect: null,\n\tfocusOffsX: 0,\n\tfocusOffsY: 0,\n\n\t/**\n\t * \tEnabled focus axes. Used by the `update` method to figure which axis to update.\n\t */\n\tfocusAxisX: true,\n\tfocusAxisY: true,\n\n\t/**\n\t * \tFlags of the viewport.\n\t */\n\tflags: 0,\n\n\t/**\n\t * \tViewport scale.\n\t */\n\tscale: 1,\n\n\t/**\n\t * \tGlobal scale, used to scale the entire canvas including the viewport. Useful for debugging viewport bounds.\n\t */\n\tglobalScale: 1,\n\n\t/**\n\t * \tBounds of the viewport in world space. Used to determine which elements lie inside the viewport.\n\t *\n\t * \t!readonly bounds: Bounds2;\n\t */\n\tbounds: null,\n\n\t/**\n\t * \tExtra padding for the viewport bounds. Used to extend the viewport bounds without altering the original viewport size nor the world bounds.\n\t */\n\tpadding: null,\n\n\t/**\n\t * \tBounds of the focus area of the viewport in world space. When the `focusRect` moves outside this area the viewport will be panned to keep it inside these bounds.\n\t * \n\t * \t!readonly focusBounds: Bounds2;\n\t */\n\tfocusBounds: null,\n\n\t/**\n\t * \tBounds of the viewport in screen space, used as target rendering area.\n\t *\n\t *\t!readonly screenBounds: Bounds2;\n\t */\n\tscreenBounds: null,\n\n\t/**\n\t * \tTemporal Point2 object used as temporary result for `toWorldSpace` and `toScreenSpace`.\n\t */\n\ttmpPoint: null,\n\n\t/**\n\t * \tConstructs the viewport with the specified size and container dimensions.\n\t *\n\t * \t@param sx - Screen position X.\n\t * \t@param sy - Screen position Y.\n\t * \t@param width - Viewport width.\n\t * \t@param height - Viewport height.\n\t * \t@param containerWidth - Container width.\n\t * \t@param containerHeight - Container height.\n\t *\n\t * \t!constructor (sx: number, sy: number, width: number, height: number, containerWidth: number, containerHeight: number);\n\t */\n\t__ctor: function (sx, sy, width, height, containerWidth, containerHeight)\n\t{\n\t\tthis.focusFactorX = 0.4;\n\t\tthis.focusFactorY = 0.4;\n\t\tthis.focusRect = null;\n\n\t\tthis.sx = sx;\n\t\tthis.sy = sy;\n\t\tthis.width = this.initialWidth = width;\n\t\tthis.height = this.initialHeight = height;\n\n\t\tthis.x = 0;\n\t\tthis.y = 0;\n\n\t\tthis.bounds = Bounds2.Pool.alloc();\n\t\tthis.padding = null;\n\n\t\tthis.focusBounds = Bounds2.Pool.alloc();\n\t\tthis.screenBounds = Bounds2.Pool.alloc();\n\t\tthis.container = Bounds2.Pool.alloc();\n\t\tthis.offset = Point2.Pool.alloc();\n\n\t\tthis.flags = Viewport.ENABLED;\n\t\tthis.tmpPoint = Point2.Pool.alloc();\n\n\t\tthis.setContainerBounds(-containerWidth>>1, -containerHeight>>1, containerWidth>>1, containerHeight>>1);\n\n\t\tthis.updateScreenBounds();\n\t\tthis.updateBounds();\n\t},\n\n\t/**\n\t * \tDestructs the viewport.\n\t */\n\t__dtor: function ()\n\t{\n\t\tthis.bounds.free();\n\t\tthis.focusBounds.free();\n\t\tthis.screenBounds.free();\n\t\tthis.container.free();\n\t\tthis.tmpPoint.free();\n\n\t\tif (this.padding !== null)\n\t\t\tthis.padding.free();\n\t},\n\n\t/**\n\t * \tReturns the value of the `enabled` flag.\n\t *\n\t * \t!enabled() : boolean;\n\t */\n\t/**\n\t * \tSets the `enabled` flag.\n\t *\n\t * \t!enabled (value: boolean) : Viewport;\n\t */\n\tenabled: function (value=null)\n\t{\n\t\tif (value === null)\n\t\t\treturn !!(this.flags & Viewport.ENABLED);\n\n\t\tthis.flags &= ~Viewport.ENABLED;\n\t\tif (value) this.flags |= Viewport.ENABLED;\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tReturns the value of the `topLeft` flag.\n\t * \t!topLeft() : boolean;\n\t */\n\t/**\n\t * \tSets the `topLeft` flag.\n\t * \t!topLeft (value: boolean) : Viewport;\n\t */\n\ttopLeft: function (value=null)\n\t{\n\t\tif (value === null)\n\t\t\treturn !!(this.flags & Viewport.TOP_LEFT);\n\n\t\tthis.flags &= ~Viewport.TOP_LEFT;\n\t\tif (value) this.flags |= Viewport.TOP_LEFT;\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tSets the container bounds. Used to ensure the viewport bounds are never outside these limits.\n\t *\n\t * \t!setContainerBounds (x1: number, y1: number, x2: number, y2: number) : Viewport;\n\t */\n\t/**\n\t * \tSets the container bounds. Used to ensure the viewport bounds are never outside these limits.\n\t *\n\t * \t!setContainerBounds (v: Bounds2|Rect) : Viewport;\n\t */\n\tsetContainerBounds: function (x1, y1=null, x2=null, y2=null)\n\t{\n\t\tif (y1 === null)\n\t\t{\n\t\t\ty2 = x1.y2;\n\t\t\tx2 = x1.x2;\n\t\t\ty1 = x1.y1;\n\t\t\tx1 = x1.x1;\n\t\t}\n\n\t\tthis.width = this.initialWidth;\n\t\tthis.height = this.initialHeight;\n\n\t\tif (this.width > x2-x1) this.width = x2-x1;\n\t\tif (this.height > y2-y1) this.height = y2-y1;\n\n\t\tthis.container.set(x1, y1, x2, y2);\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tSets the viewport padding.\n\t *\n\t * \t!setPadding (value: number) : Viewport;\n\t */\n\t/**\n\t * \tSets the padding of each side of the viewport (left, top, right and bottom).\n\t *\n\t * \t!setPadding (x1: number, y1: number, x2: number, y2: number) : Viewport;\n\t */\n\tsetPadding: function (x1, y1=null, x2=null, y2=null)\n\t{\n\t\tif (this.padding === null)\n\t\t\tthis.padding = Bounds2.Pool.alloc();\n\n\t\tif (y1 === null)\n\t\t{\n\t\t\tx2 = y2 = x1;\n\t\t\tx1 = y1 = -x1;\n\t\t}\n\n\t\tthis.padding.set(x1, y1, x2, y2);\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tUpdates the bound rect of the viewport.\n\t */\n\tupdateBounds: function (truncateToContainer=false)\n\t{\n\t\tlet w, h, ws, hs;\n\t\tlet x1, y1, x2, y2;\n\n\t\tw = this.width >> 1;\n\t\th = this.height >> 1;\n\n\t\tws = (w/this.scale);\n\t\ths = (h/this.scale);\n\n\t\tx1 = this.x-ws+this.offset.x;\n\t\ty1 = this.y-hs+this.offset.y;\n\t\tx2 = this.x+ws+this.offset.x;\n\t\ty2 = this.y+hs+this.offset.y;\n\n\t\tif (truncateToContainer)\n\t\t{\n\t\t\tif (x1 < this.container.x1)\n\t\t\t\tthis.offset.setX(this.container.x1 - this.x + ws);\n\t\t\telse if (x2 > this.container.x2)\n\t\t\t\tthis.offset.setX(this.container.x2 - this.x - ws);\n\n\t\t\tif (y1 < this.container.y1)\n\t\t\t\tthis.offset.setY(this.container.y1 - this.y + hs);\n\t\t\telse if (y2 > this.container.y2)\n\t\t\t\tthis.offset.setY(this.container.y2 - this.y - hs);\n\n\t\t\tx1 = this.x-ws+this.offset.x;\n\t\t\ty1 = this.y-hs+this.offset.y;\n\t\t\tx2 = this.x+ws+this.offset.x;\n\t\t\ty2 = this.y+hs+this.offset.y;\n\t\t}\n\n\t\tthis.bounds.set (x1, y1, x2, y2);\n\n\t\tif (this.padding !== null)\n\t\t\tthis.bounds.add (this.padding);\n\n\t\tthis.focusBounds.set (\n\t\t\tthis.x - (this.focusFactorX*w + this.centerRatioX*w)/this.scale, this.y - (this.focusFactorY*h + this.centerRatioY*h)/this.scale,\n\t\t\tthis.x + (this.focusFactorX*w + this.centerRatioX*w)/this.scale, this.y + (this.focusFactorY*h + this.centerRatioY*h)/this.scale\n\t\t);\n\t},\n\n\t/**\n\t * \tUpdates the screen bound rect of the viewport.\n\t */\n\tupdateScreenBounds: function ()\n\t{\n\t\tthis.screenBounds.set (this.sx, this.sy, this.sx + this.width, this.sy + this.height);\n\t},\n\n\t/**\n\t * \tResizes the viewport to the specified size.\n\t *\n\t * \t!resize (width: number|null, height: number|null) : Viewport;\n\t */\n\tresize: function (width, height)\n\t{\n\t\tthis.width = this.initialWidth = width ?? this.width;\n\t\tthis.height = this.initialHeight = height ?? this.height;\n\n\t\tthis.updateScreenBounds();\n\t\tthis.updateBounds();\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tResizes the viewport by the specified deltas.\n\t *\n\t * \t!resizeBy (dWidth: number, dHeight: number) : Viewport;\n\t */\n\tresizeBy: function (dWidth, dHeight)\n\t{\n\t\tthis.width += dWidth;\n\t\tthis.height += dHeight;\n\n\t\tthis.initialWidth = this.width;\n\t\tthis.initialHeight = this.height;\n\n\t\tthis.updateScreenBounds();\n\t\tthis.updateBounds();\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * Sets the position of the viewport's center within the world and resets the relative offset to zero.\n\t * Setting any parameter to `null` will cause it not to be changed.\n\t * \n\t * !setPosition (x: number|null, y: number|null) : Viewport;\n\t */\n\tsetPosition: function (x, y)\n\t{\n\t\tthis.x = x ?? this.x;\n\t\tthis.y = y ?? this.y;\n\n\t\tthis.offset.set(0, 0);\n\t\tthis.updateBounds();\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tSets the position of the viewport relative to the current focus point.\n\t * \n\t * \t!setOffsets (dx: number, dy: number) : Viewport;\n\t */\n\tsetOffsets: function (dx, dy)\n\t{\n\t\tthis.offset.set(dx, dy);\n\t\tthis.updateBounds();\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tSets the scale of the viewport.\n\t * \n\t * \t!setScale (value: number) : Viewport;\n\t */\n\tsetScale: function (value)\n\t{\n\t\tthis.scale = value;\n\t\tthis.updateBounds();\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tReturns the scale of the viewport.\n\t * \n\t * \t!getScale () : number;\n\t */\n\tgetScale: function ()\n\t{\n\t\treturn this.scale;\n\t},\n\n\t/**\n\t * \tSets the global scale of the viewport.\n\t * \n\t * \t!setGlobalScale (value: number) : Viewport;\n\t */\n\tsetGlobalScale: function (value)\n\t{\n\t\tthis.globalScale = value;\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tReturns the global scale of the viewport.\n\t * \n\t * \t!getGlobalScale () : number;\n\t */\n\tgetGlobalScale: function ()\n\t{\n\t\treturn this.globalScale;\n\t},\n\n\t/**\n\t * \tSets the center ratio of the viewport (values from -1 to 1, default is 0). Used to focus on a different point instead of the exact center.\n\t * \n\t * \t!setCenter (rx: number, ry: number) : Viewport;\n\t */\n\tsetCenter: function (rx, ry)\n\t{\n\t\tthis.centerRatioX = rx;\n\t\tthis.centerRatioY = ry;\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tMoves the viewport within the world. Values are relative to the current focus point.\n\t *\t@param truncateToContainer - When `true` the final viewport bounds will be ensured to not lie outside the container bounds.\n\t *\n\t * \t!translate (dx: number, dy: number, truncateToContainer?: boolean) : Viewport;\n\t */\n\ttranslate: function (dx, dy, truncateToContainer=false)\n\t{\n\t\tthis.offset.add(dx, dy);\n\n\t\tthis.updateBounds(truncateToContainer);\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tSets the screen position of the viewport.\n\t * \n\t * \t!setScreenPosition (sx: number, sy: number) : number;\n\t */\n\tsetScreenPosition: function (sx, sy)\n\t{\n\t\tthis.sx = sx;\n\t\tthis.sy = sy;\n\n\t\tthis.updateScreenBounds();\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tReturns the X coordinate of the viewport's focus point inside the world.\n\t * \t@param absolute - When `true`, the focus point X (without offset) will be returned.\n\t * \t\n\t * \t!getX (absolute?: boolean) : number;\n\t */\n\tgetX: function (absolute=false)\n\t{\n\t\treturn this.x + (absolute ? 0 : this.offset.x);\n\t},\n\n\t/**\n\t * \tReturns the Y coordinate of the viewport's focus point inside the world.\n\t * \t@param absolute - When `true`, the focus point Y (without offset) will be returned.\n\t * \t\n\t * \t!getY (absolute?: boolean) : number;\n\t */\n\tgetY: function (absolute=false)\n\t{\n\t\treturn this.y + (absolute ? 0 : this.offset.y);\n\t},\n\n\t/**\n\t * \tReturns the X position of the viewport inside the world relative to the current focus point.\n\t * \n\t * \t!getOffsetX() : void;\n\t */\n\tgetOffsetX: function ()\n\t{\n\t\treturn this.offset.x;\n\t},\n\n\t/**\n\t * \tReturns the Y position of the viewport inside the world relative to the current focus point.\n\t * \n\t * \t!getOffsetY() : void;\n\t */\n\tgetOffsetY: function ()\n\t{\n\t\treturn this.offset.y;\n\t},\n\n\t/**\n\t * \tReturns the width of the viewport.\n\t * \n\t * \t!getWidth() : number;\n\t */\n\tgetWidth: function ()\n\t{\n\t\treturn this.width;\n\t},\n\n\t/**\n\t * \tReturns the height of the viewport.\n\t * \n\t * \t!getHeight() : number;\n\t */\n\tgetHeight: function ()\n\t{\n\t\treturn this.height;\n\t},\n\n\t/**\n\t * \tMoves the viewport X coordinate to focus on the specified line or coordinate. Method `updateBounds` should be called afterwards.\n\t * \n\t * \t!focusX (x0: number, x1?: number, factor?: number) : Viewport;\n\t */\n\tfocusX: function (i0, i1=null, kx=null)\n\t{\n\t\tif (kx === null) kx = this.focusFactorX;\n\t\tif (i1 === null) i1 = i0;\n\n\t\tlet w = this.width >> 1;\n\n\t\tlet x1 = this.x - int((kx*w + this.centerRatioX*w)/this.scale);\n\t\tlet x2 = this.x + int((kx*w + this.centerRatioX*w)/this.scale);\n\n\t\tif (x1 == x2)\n\t\t\ti0 = i1 = (i0 + i1) >> 1;\n\n\t\tlet nx = this.x;\n\n\t\tif (i0 < x1) nx += (i0 - x1);\n\t\telse if (i1 > x2) nx += (i1 - x2);\n\n\t\tx1 = nx - w;\n\t\tx2 = nx + w;\n\n\t\tif (x1 < this.container.x1) nx = this.container.x1 + w;\n\t\tif (x2 > this.container.x2) nx = this.container.x2 - w;\n\n\t\tthis.x = nx;\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tMoves the viewport Y coordinate to focus on the specified line or coordinate. Method `updateBounds` should be called afterwards.\n\t * \n\t * \t!focusY (y0: number, y1?: number, factor?: number) : Viewport;\n\t */\n\tfocusY: function (j0, j1=null, ky=null)\n\t{\n\t\tif (ky === null) ky = this.focusFactorY;\n\t\tif (j1 === null) j1 = j0;\n\n\t\tlet h = this.height >> 1;\n\n\t\tlet y1 = this.y - int((ky*h + this.centerRatioY*h)/this.scale);\n\t\tlet y2 = this.y + int((ky*h + this.centerRatioY*h)/this.scale);\n\n\t\tif (y1 == y2)\n\t\t\tj0 = j1 = (j0 + j1) >> 1;\n\n\t\tlet ny = this.y;\n\n\t\tif (j0 < y1) ny += (j0 - y1);\n\t\telse if (j1 > y2) ny += (j1 - y2);\n\n\t\ty1 = ny - h;\n\t\ty2 = ny + h;\n\n\t\tif (y1 < this.container.y1) ny = this.container.y1 + h;\n\t\tif (y2 > this.container.y2) ny = this.container.y2 - h;\n\n\t\tthis.y = ny;\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tUpdates the viewport to focus on the focusRect. Takes into account enabled axes.\n\t *\n\t * \t!update (dt?: number) : void;\n\t */\n\tupdate: function (dt=0)\n\t{\n\t\tif (this.focusRect === null)\n\t\t\treturn;\n\n\t\tif (this.focusAxisX)\n\t\t\tthis.focusX (this.focusRect.x1 + this.focusOffsX, this.focusRect.x2 + this.focusOffsX);\n\n\t\tif (this.focusAxisY)\n\t\t\tthis.focusY (this.focusRect.y1 + this.focusOffsY, this.focusRect.y2 + this.focusOffsY);\n\n\t\tthis.updateBounds();\n\t},\n\n\t/**\n\t * \tUpdates the viewport to focus on the focusRect ignoring the enabled axes.\n\t *\n\t * \t!updateForced (dt?: number) : void;\n\t */\n\tupdateForced: function (dt=0)\n\t{\n\t\tif (this.focusRect === null)\n\t\t\treturn;\n\n\t\tthis.focusX (this.focusRect.x1 + this.focusOffsX, this.focusRect.x2 + this.focusOffsX);\n\t\tthis.focusY (this.focusRect.y1 + this.focusOffsY, this.focusRect.y2 + this.focusOffsY);\n\n\t\tthis.updateBounds();\n\t},\n\n\t/**\n\t * \tTracks a specified rectangle by maintaining focus on it (a call to `update` must be made on every frame update).\n\t * \n\t * \t!setFocusRect (rect: Rect|Bounds2, offsX?: number, offsY? :number) : Viewport;\n\t */\n\tsetFocusRect: function (rect, offsX=0, offsY=0)\n\t{\n\t\tthis.focusRect = rect;\n\n\t\tthis.focusOffsX = offsX;\n\t\tthis.focusOffsY = offsY;\n\n\t\tthis.update(0);\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tSets the focus offsets of the viewport. Used to translate the viewport without altering the focus point.\n\t *\n\t * \t!setFocusOffsets (offsX: number, offsY: number) : Viewport;\n\t */\n\tsetFocusOffsets: function (offsX, offsY)\n\t{\n\t\tthis.focusOffsX = offsX;\n\t\tthis.focusOffsY = offsY;\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tSets the enabled flag of the focus axes. Only enabled axes will be updated when calling `update`.\n\t * \n\t * \t!setFocusAxes (enabledX: boolean, enabledY: boolean) : Viewport;\n\t */\n\tsetFocusAxes: function (enabledX, enabledY)\n\t{\n\t\tthis.focusAxisX = enabledX;\n\t\tthis.focusAxisY = enabledY;\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tSets the focus factor of the viewport (value from 0 to 1), that is, the ratio of the smaller focus viewport.\n\t * \n\t * \t!setFocusFactor (valueX: number, valueY: number) : Viewport;\n\t */\n\tsetFocusFactor: function (valueX, valueY)\n\t{\n\t\tthis.focusFactorX = valueX;\n\t\tthis.focusFactorY = valueY === undefined ? valueX : valueY;\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tApplies the viewport clipping area to the specified canvas.\n\t * \n\t * \t!applyClip (g: Canvas) : void;\n\t */\n\tapplyClip: function (g)\n\t{\n\t\tg.clip(this.screenBounds.x1, this.screenBounds.y1, this.screenBounds.width(), this.screenBounds.height());\n\t},\n\n\t/**\n\t * \tApplies the viewport transform to the specified canvas.\n\t * \n\t * \t!applyTransform (g: Canvas) : void;\n\t */\n\tapplyTransform: function (g)\n\t{\n\t\tif (!(this.flags & Viewport.TOP_LEFT))\n\t\t\tg.translate (this.screenBounds.cx, this.screenBounds.cy);\n\t\telse\n\t\t\tg.translate (this.screenBounds.x1, this.screenBounds.y1);\n\n\t\tif (this.scale != 1.0)\n\t\t\tg.scale (this.scale, this.scale);\n\n\t\tif (this.globalScale != 1.0)\n\t\t\tg.scale (this.globalScale, this.globalScale);\n\n\t\tif (!(this.flags & Viewport.TOP_LEFT))\n\t\t\tg.translate (-this.bounds.cx, -this.bounds.cy);\n\t\telse\n\t\t\tg.translate (-this.bounds.x1, -this.bounds.y1);\n\n\t\tg.updateTransform();\n\t},\n\n\t/**\n\t * \tConverts a point from screen-space to world-space.\n\t * \t@returns Temporal Point2 object.\n\t *\n\t * \t!toWorldSpace (input: Point2|Vec2|{x:number,y:number}, floor?: boolean) : Point2;\n\t */\n\t/**\n\t * \tConverts a point from screen-space to world-space.\n\t * \t@returns Temporal Point2 object.\n\t *\n\t * \t!toWorldSpace (x: number, y: number, floor?: boolean) : Point2;\n\t */\n\ttoWorldSpace: function (x, y=null, floor=false)\n\t{\n\t\tif (y === null || y === true)\n\t\t{\n\t\t\tfloor = y === true;\n\t\t\ty = x.y;\n\t\t\tx = x.x;\n\t\t}\n\n\t\tlet refX, refY;\n\n\t\tif (!(this.flags & Viewport.TOP_LEFT))\n\t\t{\n\t\t\trefX = this.screenBounds.cx;\n\t\t\trefY = this.screenBounds.cy;\n\n\t\t\tif (floor) {\n\t\t\t\tx = ((x - int(refX)) / this.scale) + int(this.bounds.cx);\n\t\t\t\ty = ((y - int(refY)) / this.scale) + int(this.bounds.cy);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tx = ((x - refX) / this.scale) + this.bounds.cx;\n\t\t\t\ty = ((y - refY) / this.scale) + this.bounds.cy;\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\trefX = this.screenBounds.x1;\n\t\t\trefY = this.screenBounds.y1;\n\n\t\t\tif (floor) {\n\t\t\t\tx = ((x - int(refX)) / this.scale) + int(this.bounds.x1);\n\t\t\t\ty = ((y - int(refY)) / this.scale) + int(this.bounds.y1);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tx = ((x - refX) / this.scale) + this.bounds.x1;\n\t\t\t\ty = ((y - refY) / this.scale) + this.bounds.y1;\n\t\t\t}\n\t\t}\n\n\t\treturn this.tmpPoint.set(x, y);\n\t},\n\n\t/**\n\t * \tConverts a point from world-space to screen-space.\n\t * \t@returns Temporal Point2 object.\n\t *\n\t * \t!toScreenSpace (input: Point2|Vec2|{x:number,y:number}, floor?: boolean) : Point2;\n\t */\n\t/**\n\t * \tConverts a point from world-space to screen-space.\n\t * \t@returns Temporal Point2 object.\n\t *\n\t * \t!toScreenSpace (x: number, y: number, floor?: boolean) : Point2;\n\t */\n\ttoScreenSpace: function (x, y=null, floor=false)\n\t{\n\t\tif (y === null || y === true)\n\t\t{\n\t\t\tfloor = y === true;\n\t\t\ty = x.y;\n\t\t\tx = x.x;\n\t\t}\n\n\t\tlet refX, refY;\n\n\t\tif (!(this.flags & Viewport.TOP_LEFT))\n\t\t{\n\t\t\trefX = this.screenBounds.cx;\n\t\t\trefY = this.screenBounds.cy;\n\n\t\t\tif (floor) {\n\t\t\t\tx = (x - int(this.bounds.cx)) * this.scale + int(refX);\n\t\t\t\ty = (y - int(this.bounds.cy)) * this.scale + int(refY);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tx = (x - this.bounds.cx) * this.scale + refX;\n\t\t\t\ty = (y - this.bounds.cy) * this.scale + refY;\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\trefX = this.screenBounds.x1;\n\t\t\trefY = this.screenBounds.y1;\n\n\t\t\tif (floor) {\n\t\t\t\tx = (x - int(this.bounds.x1)) * this.scale + int(refX);\n\t\t\t\ty = (y - int(this.bounds.y1)) * this.scale + int(refY);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tx = (x - this.bounds.x1) * this.scale + refX;\n\t\t\t\ty = (y - this.bounds.y1) * this.scale + refY;\n\t\t\t}\n\t\t}\n\n\t\treturn this.tmpPoint.set(x, y);\n\t}\n});\n\n/*\n**\tConstants.\n*/\nViewport.ENABLED = 0x001;\nViewport.TOP_LEFT = 0x002;\n\nexport default Viewport;\n","/*\n**\tflow/group.js\n**\n**\tCopyright (c) 2013-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport Element from './element.js';\nimport List from '../utils/list.js';\nimport Point2 from '../math/point2.js';\nimport Recycler from '../utils/recycler.js';\nimport GridElement from './grid-element.js';\n\n//![import \"./element\"]\n//![import \"../utils/list\"]\n//![import \"../math/point2\"]\n//![import \"../utils/recycler\"]\n\nconst tempPoint = Point2.Pool.alloc();\n\n//:/**\n//: * \tGroups one or more elements into a single one.\n//: */\n\n//!class Group extends Element\n\nconst Group = Element.extend\n({\n\tclassName: 'Group',\n\n\t/**\n\t * List of elements in the group.\n\t * !readonly children: List;\n\t */\n\tchildren: null,\n\n\t/**\n\t * \tVirtual zero reference point.\n\t * \t!readonly ref: Point2;\n\t */\n\tref: null,\n\n\t/**\n\t * \tConstructs an empty Group element.\n\t * \t!constructor (id?: string);\n\t */\n\t__ctor: function (id=null)\n\t{\n\t\tthis._super.Element.__ctor(0, 0, 0, 0);\n\n\t\tthis.children = List.Pool.alloc();\n\t\tthis.bounds.reset();\n\n\t\tthis.ref = Point2.Pool.alloc();\n\t\tthis.setId(id);\n\t},\n\n\t/**\n\t * \tDestroys the group and all children.\n\t */\n\t__dtor: function()\n\t{\n\t\tthis.clear();\n\t\tthis.children.free();\n\t\tthis.ref.free();\n\n\t\tthis._super.Element.__dtor();\n\t},\n\n\t/**\n\t * \tAdds the group itself and all children to the scene's destruction queue. If any element has no container, it will be destroyed immediately.\n\t * \t!destroyLater() : void;\n\t */\n\tdestroyLater: function()\n\t{\n\t\tif (!this.alive()) return;\n\n\t\tlet i;\n\n\t\twhile ((i = this.children.shift()) != null)\n\t\t{\n\t\t\ti.remover.remove(this._remove, this);\n\t\t\ti.group = null;\n\t\t\ti.destroyLater();\n\t\t}\n\n\t\tthis._super.Element.destroyLater();\n\t},\n\n\t/**\n\t * \tRemoves and destroys all child elements.\n\t * \t!clear() : Group;\n\t */\n\tclear: function()\n\t{\n\t\tlet i;\n\n\t\twhile ((i = this.children.shift()) != null)\n\t\t{\n\t\t\ti.remover.remove(this._remove, this);\n\t\t\ti.group = null;\n\t\t\tdispose(i);\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tRemoves all child elements but does not destroy them.\n\t * \t!reset() : Group;\n\t */\n\treset: function()\n\t{\n\t\tlet i;\n\n\t\twhile ((i = this.children.shift()) != null)\n\t\t{\n\t\t\ti.remover.remove(this._remove, this);\n\t\t\ti.group = null;\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * Returns the wrapExtents flag of the group.\n\t * @returns {boolean}\n\t * !wrapExtents () : boolean;\n\t */\n\t/**\n\t * Sets the wrapExtents flag of the group.\n\t * @param {boolean} value\n\t * @returns {Group}\n\t * !wrapExtents (value: boolean) : Group;\n\t */\n\twrapExtents: function (value=null)\n\t{\n\t\tif (value === null)\n\t\t\treturn !!(this.flags & GridElement.WRAP_EXTENTS);\n\n\t\tthis.flags &= ~GridElement.WRAP_EXTENTS;\n\t\tif (value) this.flags |= GridElement.WRAP_EXTENTS;\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tAdds a child element to the group. If the element has its `id` property set, it will be added to the group as a\n\t * \tproperty, which can be accessed directly using the element identifier or using the `getChild` method.\n\t * \t!addChild (elem: Element) : Element;\n\t */\n\taddChild: function (elem, relative=false)\n\t{\n\t\tif (!elem) return elem;\n\n\t\tlet initial = this.bounds.x1 === null;\n\n\t\tif (initial || (this.flags & GridElement.WRAP_EXTENTS))\n\t\t{\n\t\t\tif (initial || elem.bounds.x1 < this.bounds.x1) this.ltranslate(elem.bounds.x1 - this.bounds.x1, 0);\n\t\t\tif (initial || elem.bounds.y1 < this.bounds.y1) this.ltranslate(0, elem.bounds.y1 - this.bounds.y1);\n\t\t\tif (initial || elem.bounds.x2 > this.bounds.x2) this.resizeBy(elem.bounds.x2 - this.bounds.x2, 0);\n\t\t\tif (initial || elem.bounds.y2 > this.bounds.y2) this.resizeBy(0, elem.bounds.y2 - this.bounds.y2);\n\t\t}\n\n\t\tthis.children.push(elem);\n\n\t\tif (elem.id !== null)\n\t\t\tthis[elem.id] = elem;\n\n\t\tif (relative === true)\n\t\t\telem.translate(this.bounds.x1, this.bounds.y1);\n\n\t\telem.group = this;\n\t\telem.remover.add(this._remove, this, this.children.bottom);\n\n\t\treturn elem;\n\t},\n\n\t/**\n\t * \tReturn the child element matching the specified identifier.\n\t * \t!child (id: string) : Element;\n\t */\n\tgetChild: function (id)\n\t{\n\t\treturn this[id] || null;\n\t},\n\n\t/**\n\t * \tCallback to remove an element from the container (called by Handler).\n\t */\n\t_remove: function (elem, self, node)\n\t{\n\t\tself.children.remove(node);\n\t\telem.group = null;\n\n\t\tif (elem.id !== null)\n\t\t\tself[elem.id] = null;\n\n\t\treturn false;\n\t},\n\n\t/**\n\t * \tRemoves an element from the container and returns it.\n\t * \t!removeChild (elem: Element) : Element;\n\t */\n\tremoveChild: function (elem)\n\t{\n\t\tif (!elem || elem.group !== this)\n\t\t\treturn elem;\n\n\t\telem.remover.execf(this._remove, this);\n\t\treturn elem;\n\t},\n\n\t/**\n\t * \tSyncs the actual location of the specified element with its storage location. Returns `true` if successful.\n\t */\n\tsync: function()\n\t{\n\t\tfor (let i = this.children.top; i; i = i.next)\n\t\t\ti.value.sync();\n\n\t\treturn this._super.Element.sync();\n\t},\n\n\t/**\n\t * \tLocal group translation, moves only the group by the specified deltas. Child elements remain in position.\n\t * \t@param upscaled - When `true` the `dx` and `dy` parameters are assumed to be upscaled.\n\t * \t!ltranslate (dx: number, dy: number, upscaled?: boolean) : Group;\n\t */\n\tltranslate: function (dx, dy, upscaled=false)\n\t{\n\t\treturn this._super.Element.translate(dx, dy, upscaled);\n\t},\n\n\t/**\n\t * \tMoves the group and all children by the specified deltas.\n\t * \t@param upscaled - When `true` the `dx` and `dy` parameters are assumed to be upscaled.\n\t * \t!ltranslate (dx: number, dy: number, upscaled?: boolean) : Group;\n\t */\n\ttranslate: function (dx, dy, upscaled=false)\n\t{\n\t\tlet _dx = this.bounds.x1;\n\t\tlet _dy = this.bounds.y1;\n\n\t\tthis._super.Element.translate(dx, dy, upscaled);\n\t\tthis.ref.add(dx, dy, upscaled);\n\n\t\t_dx = this.bounds.x1 - _dx;\n\t\t_dy = this.bounds.y1 - _dy;\n\n\t\tfor (let i = this.children.top; i; i = i.next)\n\t\t\ti.value.translate(_dx, _dy);\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tReturns a temporal Point2, describing the extra offset introduced by the group when translating a child element by the specified deltas.\n\t * \t@param upscaled - When `true` the `dx` and `dy` parameters are assumed to be upscaled.\n\t * \t!getOffsets (dx: number, dy: number, upscaled?: boolean) : Point2;\n\t */\n\tgetOffsets: function (dx, dy, upscaled=false)\n\t{\n\t\ttempPoint.set(this.bounds.ux1, this.bounds.uy1, true);\n\n\t\tlet _dx = tempPoint.x;\n\t\tlet _dy = tempPoint.y;\n\n\t\ttempPoint.add(dx, dy, upscaled);\n\n\t\t_dx = tempPoint.x - _dx;\n\t\t_dy = tempPoint.y - _dy;\n\n\t\ttempPoint.set(_dx, _dy);\n\n\t\ttempPoint.x -= dx;\n\t\ttempPoint.y -= dy;\n\n\t\treturn tempPoint;\n\t},\n\n\t/**\n\t * \tSets bits of the element flags in the group and all children.\n\t * \t!setFlags (value: number) : Group;\n\t */\n\tsetFlags: function (value)\n\t{\n\t\tfor (let i = this.children.top; i; i = i.next)\n\t\t\ti.value.setFlags(value);\n\n\t\treturn this._super.Element.setFlags(value);\n\t},\n\n\t/**\n\t * \tClears bits from the group and all children flags.\n\t * \t!clearFlags (value: number) : Group;\n\t */\n\tclearFlags: function (value)\n\t{\n\t\tfor (let i = this.children.top; i; i = i.next)\n\t\t\ti.value.clearFlags(value);\n\n\t\treturn this._super.Element.clearFlags(value);\n\t},\n\n\t/**\n\t * Sets the visible flag of the group and all children.\n\t * @param {boolean} value - New visibility value.\n\t * @param {boolean} forced - When `true` forces to ignore the VISIBLE_LOCK flag.\n\t * !visible (value: boolean, forced?: boolean|false) : GridElement;\n\t */\n\t/**\n\t * Returns the visible flag.\n\t * !visible() : boolean;\n\t */\n\tvisible: function (value=null, forced=false)\n\t{\n\t\tif (value === null)\n\t\t\treturn this._super.Element.visible();\n\n\t\tfor (let i = this.children.top; i; i = i.next)\n\t\t\ti.value.visible(value, forced);\n\n\t\treturn this._super.Element.visible(value, forced);\n\t},\n\n\t/**\n\t * Returns the alpha value of the group.\n\t * @returns {number}\n\t * !alpha () : number;\n\t */\n\t/**\n\t * Sets the alpha value of the group and all children.\n\t * @param {number} value\n\t * @returns {Element}\n\t * !alpha (value: number) : Element;\n\t */\n\talpha: function (value=null)\n\t{\n\t\tif (value === null)\n\t\t\treturn this._super.Element.alpha();\n\n\t\tfor (let i = this.children.top; i; i = i.next)\n\t\t\ti.value.alpha(value);\n\n\t\treturn this._super.Element.alpha(value);\n\t}\n});\n\n//!/class\n\n//!namespace Group\n//!namespace Pool\n\n\t/**\n\t * \tAllocates an empty Group element.\n\t * \t!function alloc (id?: string) : Group;\n\t */\n\nRecycler.createPool(Group);\nexport default Group;\n","/*\n**\tflow/element.js\n**\n**\tCopyright (c) 2013-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport GridElement from './grid-element.js';\nimport G from '../system/globals.js';\nimport Recycler from '../utils/recycler.js';\nimport System from '../system/system.js';\nimport Canvas from '../system/canvas.js';\nimport ShaderProgram from '../system/shader-program.js';\n\n//![import \"./grid-element\"]\n//![import \"../system/globals\"]\n//![import \"../utils/recycler\"]\n//![import \"../system/system\"]\n//![import \"../system/canvas\"]\n//![import \"../system/shader-program\"]\n\n//:/**\n//: * Describes an element that can be rendered to the screen.\n//: */\n\n//!class Element extends GridElement\n\nconst Element = GridElement.extend\n({\n\tclassName: 'Element',\n\n\t/**\n\t * Parent group to whom this element is related.\n\t * !group: Group;\n\t */\n\tgroup: null,\n\n\t/**\n\t * Drawable object to render to the display.\n\t * !img: Drawable;\n\t */\n\timg: null,\n\n\t/**\n\t * Indicates if the bounds of the element should be drawn (for debugging purposes). You can set it to a boolean or to a number from 1 to 7 to\n\t * draw the bounds with a different predefined color.\n\t * !debugBounds: boolean|number;\n\t */\n\tdebugBounds: false,\n\n\t/**\n\t * Basic depth (z-value) of the element (used for depth micro-adjustments).\n\t */\n\t_zvalue: 0,\n\n\t/**\n\t * Actual depth (z-value) of the element, calculated by the container.\n\t */\n\t__zvalue: 0,\n\n\t/**\n\t * Alpha value of the element.\n\t */\n\t_alpha: 1.0,\n\n\t/**\n\t * Element shader program.\n\t */\n\t_shaderProgram: null,\n\n\t/**\n\t * Function used to set the uniforms of the shader.\n\t */\n\t_uniformSetter: null,\n\n\t/**\n\t * Function used to render the element. Called by `draw` after rendering configuration has been set.\n\t * @type {(g:Canvas, elem:Element, img:Drawable) => void}\n\t */\n\trender: null,\n\n\t/**\n\t * Constructs a drawable element at the specified position with the given drawable.\n\t * !constructor (x: number, y: number, width: number, height: number, img?: Drawable);\n\t */\n\t/**\n\t * Constructs a drawable element at the specified position with the given drawable.\n\t * !constructor (x: number, y: number, img?: Drawable);\n\t */\n\t__ctor: function(x, y, width=null, height=null, img=null)\n\t{\n\t\tif (width === null)\n\t\t\twidth = height = 0;\n\n\t\tif (height === null)\n\t\t{\n\t\t\timg = width;\n\t\t\twidth = img.width;\n\t\t\theight = img.height;\n\t\t}\n\n\t\tthis._super.GridElement.__ctor(x, y, width, height);\n\t\tthis.img = img !== null ? img.getDrawable() : img;\n\n\t\tthis.group = null;\n\t\tthis.debugBounds = false;\n\n\t\tthis._zvalue = 0;\n\t\tthis.__zvalue = 0;\n\t\tthis._alpha = 1.0;\n\n\t\tthis._shaderProgram = null;\n\t\tthis._uniformSetter = null;\n\n\t\tthis.render = null;\n\t},\n\n\t/**\n\t * Destroys the element.\n\t */\n\t__dtor: function()\n\t{\n\t\tif (this.img !== null)\n\t\t{\n\t\t\tdispose(this.img);\n\t\t\tthis.img = null;\n\t\t}\n\n\t\tthis._super.GridElement.__dtor();\n\t},\n\n\t/**\n\t * Destroys the element later by adding it to the scene's destruction queue. If the element has no container, it will be destroyed immediately.\n\t * !destroyLater() : void;\n\t */\n\tdestroyLater: function()\n\t{\n\t\tif (!this.alive()) return;\n\n\t\tif (this.container !== null)\n\t\t\tthis.container.scene.disposeLater(this);\n\t\telse\n\t\t\tdispose(this);\n\t},\n\n\t/**\n\t * Returns the `debugBounds` of the element.\n\t * @returns {number}\n\t * !debug () : number;\n\t */\n\t/**\n\t * Sets the `debugBounds` of the element.\n\t * @param {boolean|number} value\n\t * @returns {Element}\n\t * !debug (value: number) : Element;\n\t */\n\tdebug: function (value=null)\n\t{\n\t\tif (value === null)\n\t\t\treturn this.debugBounds;\n\n\t\tthis.debugBounds = value === 0 ? true : value;\n\t\treturn this;\n\t},\n\n\t/**\n\t * Returns the alpha value of the element.\n\t * @returns {number}\n\t * !alpha () : number;\n\t */\n\t/**\n\t * Sets the alpha value of the element.\n\t * @param {number} value\n\t * @returns {Element}\n\t * !alpha (value: number) : Element;\n\t */\n\talpha: function (value=null)\n\t{\n\t\tif (value === null)\n\t\t\treturn this._alpha;\n\n\t\tthis._alpha = value;\n\t\treturn this;\n\t},\n\n\t/**\n\t * Returns the zvalue of the element.\n\t * @returns {number}\n\t * !zvalue () : number;\n\t */\n\t/**\n\t * Sets the zvalue of the element.\n\t * @param {number} value\n\t * @returns {Element}\n\t * !zvalue (value: number) : Element;\n\t */\n\tzvalue: function (value=null)\n\t{\n\t\tif (value === null)\n\t\t\treturn this._zvalue;\n\n\t\tthis._zvalue = value;\n\t\treturn this;\n\t},\n\n\t/**\n\t * Returns the shader program of the element.\n\t * @returns {ShaderProgram}\n\t * !shaderProgram () : ShaderProgram;\n\t */\n\t/**\n\t * Sets the shader program of the element.\n\t * @param {ShaderProgram} shaderProgram\n\t * @returns {Element}\n\t * !shaderProgram (shaderProgram: ShaderProgram|string) : Element;\n\t */\n\tshaderProgram: function (shaderProgram=false)\n\t{\n\t\tif (shaderProgram === false)\n\t\t\treturn this._shaderProgram;\n\n\t\tif (typeof(shaderProgram) === 'string')\n\t\t\tshaderProgram = ShaderProgram.get(shaderProgram);\n\n\t\tthis._shaderProgram = shaderProgram;\n\t\treturn this;\n\t},\n\n\t/**\n\t * Sets the uniform setter function.\n\t * @param { (pgm:ShaderProgram, elem:Element, gl:WebGLRenderingContext) => void } uniformSetter\n\t * @returns {Element}\n\t * !uniformSetter (uniformSetter: (pgm:ShaderProgram, elem:Element, gl:WebGLRenderingContext) => void) : Element;\n\t */\n\tuniformSetter: function (uniformSetter)\n\t{\n\t\tthis._uniformSetter = uniformSetter;\n\t\treturn this;\n\t},\n\n\t/**\n\t * Draws the element on the specified canvas.\n\t * @param {Canvas} g\n\t */\n\tdraw: function(g)\n\t{\n\t\tif (this.img !== null || this.render !== null)\n\t\t{\n\t\t\tlet shaderChanged = this._shaderProgram !== null ? g.pushShaderProgram(this._shaderProgram) : false;\n\t\t\tlet depthFlagChanged = this.depthFlagEnabled() ? g.pushDepthFlag(this.depthFlag()) : false;\n\n\t\t\tif (this._shaderProgram !== null && this._uniformSetter !== null && g.gl !== null)\n\t\t\t\tthis._uniformSetter (g.getShaderProgram(), this, g.gl);\n\n\t\t\tg.zvalue = this.__zvalue;\n\n\t\t\tif (this._alpha != 1.0)\n\t\t\t{\n\t\t\t\tg.pushAlpha();\n\t\t\t\tg.alpha(this._alpha);\n\t\t\t}\n\n\t\t\tif (this.render !== null)\n\t\t\t\tthis.render(g, this, this.img);\n\t\t\telse\n\t\t\t\tthis.img.render(g, this);\n\n\t\t\tif (depthFlagChanged) g.popDepthFlag();\n\t\t\tif (shaderChanged) g.popShaderProgram();\n\n\t\t\tif (this._alpha != 1.0)\n\t\t\t\tg.popAlpha();\n\t\t}\n\n\t\t/* *********** */\n\t\tif (G.debugBounds || this.debugBounds)\n\t\t{\n\t\t\tlet m = g.getMatrix();\n\t\t\tg = System.displayBuffer2;\n\t\n\t\t\tg.pushMatrix();\n\t\t\tg.loadMatrix(m);\n\t\t\tg.fillStyle(Element.getDebugColor(this.debugBounds));\n\t\t\tg.fillRect(this.bounds.x1, this.bounds.y1, this.bounds.width(), this.bounds.height());\n\t\t\tg.popMatrix();\n\t\t}\n\t},\n\n\t/**\n\t * Changes the function used to render the element.\n\t * @param { (g:Canvas, elem:Element, img:Drawable) => void } renderFunction\n\t * @returns {Element}\n\t */\n\trenderWith: function (renderFunction)\n\t{\n\t\tthis.render = renderFunction ?? null;\n\t\treturn this;\n\t}\n});\n\n/**\n * Colors for the bounds debugging.\n * !static debugColors : Array<string>;\n */\nElement.debugColors = [\n\t'rgba(0,255,255,0.35)', // Cyan\n\t'rgba(255,255,0,0.35)', // Yellow\n\t'rgba(255,0,255,0.35)', // Magenta\n\t'rgba(255,255,255,0.35)', // White\n\t'rgba(255,0,0,0.35)', // Red\n\t'rgba(0,255,0,0.35)', // Green\n\t'rgba(0,0,255,0.35)', // Blue\n\t'rgba(128,128,128,0.35)' // Gray\n];\n\n/**\n * Returns an RGBA color for the given `debugBounds` value.\n * !static getDebugColor (debugBounds: boolean|number) : string;\n */\nElement.getDebugColor = function (debugBounds)\n{\n\tif (debugBounds === true || debugBounds === false)\n\t\tdebugBounds = 0;\n\n\treturn Element.debugColors[(~~debugBounds) & 7];\n};\n\n//!/class\n\n//!namespace Element\n//!namespace Pool\n\n\t/**\n\t * Allocates a drawable element at the specified position with the given drawable.\n\t * !function alloc (x: number, y: number, width: number, height: number, img?: Drawable) : Element;\n\t */\n\t/**\n\t * Allocates a drawable element at the specified position with the given drawable.\n\t * !function alloc (x: number, y: number, img?: Drawable) : Element;\n\t */\n\nRecycler.createPool(Element);\nexport default Element;\n","/*\n**\tflow/updater.js\n**\n**\tCopyright (c) 2013-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport { Class } from 'rinn';\nimport List from '../utils/list.js';\nimport Element from './element.js';\n\n//![import \"../utils/list\"]\n//![import \"./element\"]\n\n//:/**\n//: * \tAn updater is used to update one or more elements and synchronize their position with their container.\n//: */\n\n//!class Updater\n\nconst Updater = Class.extend\n({\n\tclassName: 'Updater',\n\n\t/**\n\t * \tScene where the updater is attached.\n\t * \t!readonly scene: Scene;\n\t */\n\tscene: null,\n\n\t/**\n\t * \tList of elements.\n\t */\n\tlist: null,\n\n\t/**\n\t * \tCallback passed when constructing the updater.\n\t */\n\t__update: null,\n\t__context: null,\n\n\t/**\n\t * \tPre-update and post-update callbacks. Set using the `preupdate` and `postupdate` methods.\n\t */\n\t__preupdate: null,\n\t__postupdate: null,\n\n\t/**\n\t * \tConstructs the updater linked to the specified scene.\n\t * \t!constructor (scene: Scene, update: (elem: Element, dt: number, context: object) => boolean, context?: object);\n\t */\n\t__ctor: function (scene, update=null, context=null)\n\t{\n\t\tthis.list = List.Pool.alloc();\n\t\tthis.scene = scene;\n\n\t\tthis.__update = update;\n\t\tthis.__context = context;\n\n\t\tthis.__preupdate = null;\n\t\tthis.__postupdate = null;\n\n\t\tthis.scene.updater.add(this._update, this);\n\t\tthis.scene.synchronizer.add(this._sync, this);\n\t\tthis.scene.destroyer.add(this._destroy, this);\n\t},\n\n\t/**\n\t * \tDestroys the instance. All elements will just be removed.\n\t */\n\t__dtor: function()\n\t{\n\t\tlet i;\n\n\t\tthis.scene.updater.remove(this._update, this);\n\t\tthis.scene.synchronizer.remove(this._sync, this);\n\t\tthis.scene.destroyer.remove(this._destroy, this);\n\n\t\twhile ((i = this.list.shift()) !== null) {\n\t\t\ti.remover.remove(this._remove, this);\n\t\t}\n\n\t\tthis.list.free();\n\t},\n\n\t/**\n\t * \tDestroyer callback.\n\t */\n\t_destroy: function (scene, self)\n\t{\n\t\tdispose(self);\n\t},\n\n\n\t/**\n\t * \tResets the updater by removing all elements.\n\t * \t!reset () : Updater;\n\t */\n\treset: function ()\n\t{\n\t\twhile ((i = this.list.shift()) !== null) {\n\t\t\ti.remover.remove(this._remove, this);\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tClears the updater by destroying all elements.\n\t * \t!clear () : Updater;\n\t */\n\tclear: function ()\n\t{\n\t\twhile ((i = this.list.shift()) !== null) {\n\t\t\ti.remover.remove(this._remove, this);\n\t\t\tdispose(i);\n\t\t}\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tSets the pre-update callback.\n\t * \t!preupdate (callback: (list: List, dt: number, updater: Updater) => Updater) : Updater;\n\t */\n\tpreUpdate: function (callback)\n\t{\n\t\tthis.__preupdate = callback;\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tSets the post-update callback.\n\t * \t!postupdate (callback: (list: List, dt: number, updater: Updater) => Updater) : Updater;\n\t */\n\tpostUpdate: function (callback)\n\t{\n\t\tthis.__postupdate = callback;\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tAdds an element to the updater.\n\t * \t!add (elem: Element) : Element;\n\t */\n\tadd: function (elem)\n\t{\n\t\tif (!Element.isInstance(elem))\n\t\t\tthrow new Error ('argument must be of type: Element');\n\n\t\tthis.list.push(elem);\n\n\t\telem.remover.add(this._remove, this, this.list.bottom);\n\t\treturn elem;\n\t},\n\n\t/**\n\t * \tCallback to remove an element from the updater (called by Handler).\n\t */\n\t_remove: function (elem, self, node)\n\t{\n\t\tself.list.remove(node);\n\t\treturn false;\n\t},\n\n\t/**\n\t * \tRemoves an element from the updater.\n\t * \t!remove (elem: Element) : Element;\n\t */\n\tremove: function (elem)\n\t{\n\t\telem.remover.execf(this._remove, this);\n\t\treturn elem;\n\t},\n\n\t/**\n\t * \tCallback for the synchronizer.\n\t */\n\t_sync: function (scene, self)\n\t{\n\t\tfor (let i = self.list.top; i; i = i.next)\n\t\t\ti.value.sync();\n\t},\n\n\t/**\n\t * \tCallback for the updater.\n\t */\n\t_update: function (scene, self)\n\t{\n\t\tself.update(scene.dt);\n\t},\n\n\t/**\n\t * \tRuns an update cycle.\n\t * \t!update (dt: number) : void;\n\t */\n\tupdate: function (dt)\n\t{\n\t\tif (this.__preupdate !== null)\n\t\t\tthis.__preupdate (this.list, dt, this.__context);\n\n\t\tif (this.__update !== null)\n\t\t{\n\t\t\tlet next = null;\n\t\t\tfor (let i = this.list.top; i; i = next)\n\t\t\t{\n\t\t\t\tnext = i.next;\n\n\t\t\t\tif (this.__update (i.value, dt, this.__context) === false)\n\t\t\t\t\tthis.remove(i.value);\n\t\t\t}\n\t\t}\n\n\t\tif (this.__postupdate !== null)\n\t\t\tthis.__postupdate (this.list, dt, this.__context);\n\t}\n});\n\nexport default Updater;\n","/*\n**\tflow/simple-container.js\n**\n**\tCopyright (c) 2013-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport Container from './container.js';\nimport GridElement from './grid-element.js';\nimport Element from './element.js';\nimport List from '../utils/list.js';\n\n//![import \"./container\"]\n//![import \"./grid-element\"]\n//![import \"./element\"]\n//![import \"../utils/list\"]\n\n//:/**\n//: * \tA simple container is a container that uses a linked-list to storage the elements.\n//: */\n\n//!class SimpleContainer extends Container\n\nexport default Container.extend\n({\n\tclassName: 'SimpleContainer',\n\n\t/**\n\t * List containing the elements.\n\t * !readonly list: List;\n\t */\n\tlist: null,\n\n\t/**\n\t * Constructs the container with the specified size.\n\t * !constructor (width: number, height: number);\n\t */\n\t__ctor: function (width, height)\n\t{\n\t\tthis._super.Container.__ctor (width, height);\n\t\tthis.list = List.Pool.alloc();\n\n\t\tthis.depthFlag(false);\n\t},\n\n\t/**\n\t * Destroys the container and all contained elements.\n\t */\n\t__dtor: function()\n\t{\n\t\tthis.clear();\n\t\tthis.list.free();\n\n\t\tthis._super.Container.__dtor();\n\t},\n\n\t/**\n\t * Syncs the actual location of the specified element with its storage location. Returns true if successful.\n\t * !override sync (elem: Element) : boolean;\n\t */\n\tsync: function (elem)\n\t{\n\t\tthis.syncZ(elem);\n\t\treturn true;\n\t},\n\n\t/**\n\t * Clears the container to empty. All contained elements will be destroyed.\n\t * !override clear() : void;\n\t */\n\tclear: function()\n\t{\n\t\tlet i;\n\n\t\twhile ((i = this.list.shift()) !== null)\n\t\t{\n\t\t\ti.remover.remove(this._remove, this);\n\t\t\ti.container = null;\n\t\t\tdispose(i);\n\t\t}\n\n\t\tthis.elementCount = 0;\n\t},\n\n\t/**\n\t * Resets the container to empty. Contained elements are not destroyed. Use `clear` if that is your intention.\n\t * !override reset() : void;\n\t */\n\treset: function()\n\t{\n\t\tlet i;\n\n\t\twhile ((i = this.list.shift()) !== null)\n\t\t{\n\t\t\ti.remover.remove(this._remove, this);\n\t\t\ti.container = null;\n\t\t}\n\n\t\tthis.elementCount = 0;\n\t},\n\n\t/**\n\t * Adds an element to the container. Returns boolean indicating if successful.\n\t * !override add (elem: Element) : boolean;\n\t */\n\tadd: function (elem)\n\t{\n\t\tif (!Element.isInstance(elem))\n\t\t\tthrow new Error ('argument must be an Element');\n\n\t\tthis.list.push(elem);\n\t\tthis.elementCount++;\n\n\t\telem.container = this;\n\t\telem.remover.add(this._remove, this, this.list.bottom);\n\n\t\tthis.syncZ(elem);\n\t\treturn true;\n\t},\n\n\t/**\n\t * Callback to remove an element from the container (called by Handler).\n\t */\n\t_remove: function (elem, self, node)\n\t{\n\t\tself.list.remove(node);\n\t\tself.elementCount--;\n\n\t\telem.container = null;\n\t\treturn false;\n\t},\n\n\t/**\n\t * Removes an element from the container and returns it.\n\t * !override remove (elem: Element) : Element;\n\t */\n\tremove: function (elem)\n\t{\n\t\telem.remover.execf(this._remove, this);\n\t\treturn elem;\n\t},\n\n\t/**\n\t * Actually draws the contained elements. Does not take the active viewport into account (hence simple container).\n\t * !override render() : void;\n\t */\n\trender: function()\n\t{\n\t\tlet flags = GridElement.ALIVE | GridElement.VISIBLE;\n\n\t\tfor (let i = this.list.top; i; i = i.next)\n\t\t{\n\t\t\tif (!i.value.getFlags(flags))\n\t\t\t\tcontinue;\n\n\t\t\tif (this.drawElement(i.value, this) === false)\n\t\t\t\tbreak;\n\t\t}\n\t}\n});\n","/*\n**\tflow/grid-container.js\n**\n**\tCopyright (c) 2013-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport Container from './container.js';\nimport Grid from './grid.js';\nimport GridElement from './grid-element.js';\nimport Element from './element.js';\nimport globals from '../system/globals.js';\nimport System from '../system/system.js';\n\n//![import \"./container\"]\n//![import \"./grid\"]\n//![import \"./grid-element\"]\n//![import \"./element\"]\n//![import \"../system/globals\"]\n//![import \"../system/system\"]\n\n//:/**\n//: * \tA grid container is a container that uses an optimized spatial grid structure to store the elements.\n//: */\n\n//!class GridContainer extends Container\n\nexport default Container.extend\n({\n\tclassName: 'GridContainer',\n\n\t/**\n\t * \tGrid containing the elements.\n\t * \t!readonly grid: Grid;\n\t */\n\tgrid: null,\n\n\t/**\n\t * \tIndicates if the container bound should be drawn.\n\t * \t!debugBounds: boolean;\n\t */\n\tdebugBounds: false,\n\n\t/**\n\t * \tConstructs the grid container with the default size (32768x32768) and divisor (64).\n\t * \t!constructor ();\n\t */\n\t/**\n\t * \tConstructs the grid container with the specified size and divisor.\n\t * \t!constructor (width: number, height: number, divisorX: number, divisorY?: number);\n\t */\n\t__ctor: function (width=32768, height=32768, divisorX=64, divisorY=null)\n\t{\n\t\tthis._super.Container.__ctor (width, height);\n\t\tthis.grid = new Grid (width, height, divisorX, divisorY);\n\t},\n\n\t/**\n\t * \tDestroys the container and all contained elements.\n\t */\n\t__dtor: function()\n\t{\n\t\tthis.clear();\n\t\tthis._super.Container.__dtor();\n\t},\n\n\t/**\n\t * \tSyncs the actual location of the specified element with its storage location. Returns true if successful.\n\t * \t!override sync (elem: Element) : boolean;\n\t */\n\tsync: function (elem)\n\t{\n\t\tthis.syncZ(elem);\n\t\treturn this.grid.sync(elem);\n\t},\n\n\t/**\n\t * \tClears the container to empty. All contained elements will be destroyed.\n\t * \t!override clear() : void;\n\t */\n\tclear: function()\n\t{\n\t\tthis.grid.clear();\n\t},\n\n\t/**\n\t * \tResets the container to empty. Contained elements are not destroyed. Use `clear` if that is your intention.\n\t * \t!override reset() : void;\n\t */\n\treset: function()\n\t{\n\t\tthis.grid.reset();\n\t},\n\n\t/**\n\t * \tAdds an element to the container. Returns boolean indicating if successful.\n\t * \t!override add (elem: Element) : boolean;\n\t */\n\tadd: function (elem)\n\t{\n\t\tif (!Element.isInstance(elem))\n\t\t\tthrow new Error ('argument must be an Element');\n\n\t\tif (!this.grid.add(elem))\n\t\t\treturn false;\n\n\t\telem.container = this;\n\t\tthis.elementCount = this.grid.count;\n\n\t\tthis.syncZ(elem);\n\t\treturn true;\n\t},\n\n\t/**\n\t * \tRemoves an element from the container and returns it.\n\t * \t!override remove (elem: Element) : Element;\n\t */\n\tremove: function (elem)\n\t{\n\t\tthis.grid.remove(elem);\n\t\tthis.elementCount = this.grid.count;\n\t\treturn elem;\n\t},\n\n\t/**\n\t * \tActually draws the contained elements.\n\t * \t!override render() : void;\n\t */\n\trender: function()\n\t{\n\t\tthis.grid.forEachInRegion(this.viewportBounds, GridElement.ALIVE | GridElement.VISIBLE, GridElement.ALIVE | GridElement.VISIBLE, this.drawElement, this);\n\n\t\tif (!this.debugBounds || this.viewportBounds === null)\n\t\t\treturn;\n\n\t\tlet g = System.displayBuffer2;\n\n\t\tg.pushMatrix();\n\t\tg.loadMatrix(this.g.getMatrix());\n\n\t\tlet y0 = ((this.viewportBounds.y1+this.grid.offsy - (1<<this.grid.ky-1)) >> this.grid.ky) * this.grid.stride;\n\t\tlet y1 = ((this.viewportBounds.y2+this.grid.offsy) + (1<<this.grid.ky-1) >> this.grid.ky) * this.grid.stride;\n\t\tlet x0 = ((this.viewportBounds.x1+this.grid.offsx - (1<<this.grid.kx-1)) >> this.grid.kx);\n\t\tlet x1 = ((this.viewportBounds.x2+this.grid.offsx) + (1<<this.grid.kx-1) >> this.grid.kx);\n\n\t\ty0 = (int(y0 / this.grid.stride) << this.grid.ky) - this.grid.offsy;\n\t\ty1 = (int(y1 / this.grid.stride) << this.grid.ky) - this.grid.offsy + (1 << this.grid.ky);\n\t\tx0 = (x0 << this.grid.kx) - this.grid.offsx;\n\t\tx1 = (x1 << this.grid.kx) - this.grid.offsx + (1 << this.grid.kx);\n\n\t\tg.fillStyle('rgba(255,0,0,0.2)');\n\t\tg.fillRect(x0, y0, x1-x0+1, y1-y0+1);\n\n\t\ty0 = this.viewportBounds.y1;\n\t\ty1 = this.viewportBounds.y2;\n\t\tx0 = this.viewportBounds.x1;\n\t\tx1 = this.viewportBounds.x2;\n\n\t\tg.lineWidth(1/System.canvasScaleFactor);\n\t\tg.strokeStyle('#fff');\n\t\tg.strokeRect(x0, y0, x1-x0+1, y1-y0+1);\n\n\t\tg.lineWidth(1/System.canvasScaleFactor);\n\t\tg.strokeStyle('#008');\n\t\tfor (let y = globals.viewport.container.y1+this.grid.offsy; y < globals.viewport.container.y2+this.grid.offsy; y += (1 << this.grid.ky))\n\t\tfor (let x = globals.viewport.container.x1+this.grid.offsx; x < globals.viewport.container.x2+this.grid.offsx; x += (1 << this.grid.kx))\n\t\t{\n\t\t\tg.strokeRect(x-this.grid.offsx, y-this.grid.offsy, (1 << this.grid.kx), (1 << this.grid.ky));\n\t\t}\n\n\t\tg.popMatrix();\n\t},\n\n\t/**\n\t * \tExecutes the specified callback for each element that intersects the given bounds and has the specified flags set. The process is\n\t * \timmediately stopped if the callback returns `false`.\n\t * \t!forEachInRegion (bounds: Bounds2|Rect, flagsAndMask: number, flagsValue: number, callback: (elem: Element, context?: object) => boolean, context?: object) : void;\n\t */\n\tforEachInRegion: function (bounds, flagsAndMask, flagsValue, callback, context)\n\t{\n\t\tthis.grid.forEachInRegion (bounds, flagsAndMask, flagsValue, callback, context);\n\t},\n\n\t/**\n\t * \tCollects all elements that intersect the given bounds and have the specified flags set. Returns a new List, remember to call `free` after using it.\n\t * \t!selectInRegion (bounds: Bounds2|Rect, flagsAndMask: number, flagsValue: number) : List;\n\t */\n\tselectInRegion: function (bounds, flagsAndMask, flagsValue)\n\t{\n\t\treturn this.grid.selectInRegion (bounds, flagsAndMask, flagsValue);\n\t},\n\n\t/**\n\t * \tCounts all elements that intersect the given bounds and have the specified flags set.\n\t * \t!countInRegion (bounds: Bounds2|Rect, flagsAndMask: number, flagsValue: number) : number;\n\t */\n\tcountInRegion: function (bounds, flagsAndMask, flagsValue)\n\t{\n\t\treturn this.grid.countInRegion (bounds, flagsAndMask, flagsValue);\n\t},\n\n\t/**\n\t * \tReturns the first element that intersect the given bounds and have the specified flags set.\n\t * \t!selectFirst (bounds: Bounds2|Rect, flagsAndMask: number, flagsValue: number) : Element;\n\t */\n\tselectFirst: function (bounds, flagsAndMask, flagsValue)\n\t{\n\t\treturn this.grid.selectFirst (bounds, flagsAndMask, flagsValue);\n\t}\n});\n","/*\n**\tflow/mask.js\n**\n**\tCopyright (c) 2013-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport Element from './element.js';\nimport System from '../system/system.js';\nimport Recycler from '../utils/recycler.js';\nimport globals from '../system/globals.js';\n\n//![import \"./element\"]\n//![import \"../system/system\"]\n//![import \"../utils/recycler\"]\n\n//:/**\n//: * \tDescribes an element mask. Used for collision detection.\n//: */\n\n//!class Mask extends Element\n\nconst Mask = Element.extend\n({\n\tclassName: 'Mask',\n\n\t/**\n\t * \tType of the mask (user defined).\n\t * \t!type: number;\n\t */\n\ttype: 0,\n\n\t/**\n\t * \tConstructs the Mask element.\n\t * \t!constructor (type: number, x: number, y: number, width: number, height: number);\n\t */\n\t__ctor: function(type, x, y, width, height)\n\t{\n\t\tthis._super.Element.__ctor(x, y, width, height);\n\n\t\tthis.type = type;\n\t},\n\n\t/**\n\t * \tDraws the element on the specified canvas.\n\t * \t!draw (g: Canvas) : void;\n\t */\n\tdraw: function(g)\n\t{\n\t\tif (!globals.debugMasks && !this.debugBounds)\n\t\t\treturn;\n\n\t\tlet m = g.getMatrix();\n\t\tg = System.displayBuffer2;\n\n\t\tg.pushMatrix();\n\t\tg.loadMatrix(m);\n\t\tg.fillStyle(Element.getDebugColor(this.debugBounds));\n\t\tg.fillRect(this.bounds.x1, this.bounds.y1, this.bounds.width(), this.bounds.height());\n\t\tg.popMatrix();\n\t}\n});\n\n//!/class\n\n//!namespace Mask\n//!namespace Pool\n\n\t/**\n\t * \tAllocates a new Mask element.\n\t * \t!function alloc (type: number, x: number, y: number, width: number, height: number) : Mask;\n\t */\n\nRecycler.createPool(Mask);\nexport default Mask;\n","/*\n**\tflow/label.js\n**\n**\tCopyright (c) 2013-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport Element from './element.js';\nimport Recycler from '../utils/recycler.js';\n\n//![import \"./element\"]\n//![import \"../utils/recycler\"]\n\n//:/**\n//: * \tDescribes an element that can be rendered to the screen.\n//: */\n\n//!class Label extends Element\n\nconst Label = Element.extend\n({\n\tclassName: 'Label',\n\n\t/**\n\t * \tText to render.\n\t * \t!readonly text: string;\n\t */\n\ttext: null,\n\n\t/**\n\t * \tSpritefont resource.\n\t * \t!readonly font: Spritefont;\n\t */\n\tfont: null,\n\n\t/**\n\t * \tIndicates if the `text` property changed.\n\t */\n\t_dirty: false,\n\n\t/**\n\t * Current text width.\n\t * !readonly textWidth: number;\n\t */\n\ttextWidth: null,\n\n\t/**\n\t * Current text height.\n\t * !readonly textHeight: number;\n\t */\n\ttextHeight: null,\n\n\t/**\n\t * \tAlignment properties of the label.\n\t */\n\t_align: -1, /* -1=LEFT, 0=CENTER, 1=RIGHT */\n\t_valign: -1, /* -1=TOP, 0=MIDDLE, 1=BOTTOM */\n\n\t/**\t\n\t * Position offset for the text. Calculated based on alignment properties.\n\t */\n\ttextOffsetX: null,\n\ttextOffsetY: null,\n\n\t/**\n\t * \tConstructs a label element at the specified position with the given text.\n\t * \t!constructor (x: number, y: number, font: object, text: string);\n\t */\n\t__ctor: function(x, y, font, text)\n\t{\n\t\tthis._super.Element.__ctor(x, y, 4, 4);\n\n\t\tthis.text = text;\n\t\tthis.font = font;\n\n\t\tthis._align = -1;\n\t\tthis._valign = -1;\n\n\t\tthis.renderWith(this.renderText);\n\t\tthis._dirty = true;\n\t},\n\n\t/**\n\t * \tSets the horizontal alignment value of the label.\n\t * \t@param value - Use -1 for LEFT, 0 for CENTER, and 1 for RIGHT.\n\t * \t!align (value: number) : Label;\n\t */\n\talign: function (value)\n\t{\n\t\tif (this._align === value)\n\t\t\treturn this;\n\n\t\tthis._align = value;\n\t\tthis.textOffsetX = null;\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tSets the vertical alignment value of the label.\n\t * \t@param value - Use -1 for TOP, 0 for MIDDLE, and 1 for BOTTOM.\n\t * \t!valign (value: number) : Label;\n\t */\n\tvalign: function(value)\n\t{\n\t\tif (this._valign === value)\n\t\t\treturn this;\n\n\t\tthis._valign = value;\n\t\tthis.textOffsetY = null;\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tSets the text value of the label.\n\t * \t!setText (value: string) : Label;\n\t */\n\tsetText: function (value)\n\t{\n\t\tif (this.text === value)\n\t\t\treturn this;\n\n\t\tthis.text = value;\n\t\tthis._dirty = true;\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tSets the font resource to use.\n\t * \t!setFont (font: Spritefont) : Label;\n\t */\n\tsetFont: function (font)\n\t{\n\t\tif (this.font === font)\n\t\t\treturn this;\n\n\t\tthis.font = font;\n\t\tthis._dirty = true;\n\t\treturn this;\n\t},\n\n\t/**\n\t * Updates the text related properties (textWidth, textHeight, textOffsetX and textOffsetY). Automatically\n\t * called before the label is drawn. Recalculates only if text changed since last call.\n\t */\n\tupdate: function()\n\t{\n\t\tif (this._dirty)\n\t\t{\n\t\t\tthis.textWidth = this.font.measureWidth(this.text);\n\t\t\tthis.textHeight = this.font.measureHeight(this.text);\n\n\t\t\tthis.textOffsetX = null;\n\t\t\tthis.textOffsetY = null;\n\n\t\t\tthis._dirty = false;\n\t\t}\n\n\t\tif (this.textOffsetX === null) {\n\t\t\tif (this._align < 0) this.textOffsetX = 0;\n\t\t\telse if (this._align === 0) this.textOffsetX = -this.textWidth >> 1;\n\t\t\telse this.textOffsetX = -this.textWidth;\n\t\t}\n\n\t\tif (this.textOffsetY === null) {\n\t\t\tif (this._valign < 0) this.textOffsetY = 0;\n\t\t\telse if (this._valign === 0) this.textOffsetY = -this.textHeight >> 1;\n\t\t\telse this.textOffsetY = -this.textHeight;\n\t\t}\n\t},\n\n\t/**\n\t * \tRenders the element to the graphics surface.\n\t */\n\trenderText: function(g, elem, img)\n\t{\n\t\telem.update();\n\t\telem.font.drawText (g, elem.bounds.x1 + elem.textOffsetX, elem.bounds.y1 + elem.textOffsetY, elem.text);\n\t}\n});\n\n//!/class\n\n//!namespace Label\n//!namespace Pool\n\n\t/**\n\t * \tAllocates a label element at the specified position with the given text.\n\t * \t!function alloc (x: number, y: number, font: object, text: string) : Label;\n\t */\n\n\nRecycler.createPool(Label);\nexport default Label;\n","/*\n**\tflow/keyboard-handler\n**\n**\tCopyright (c) 2013-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport PriorityQueue from '../utils/priority-queue.js';\nimport Boot from './boot.js';\nimport System from '../system/system.js';\n\n//![import \"../utils/priority-queue\"]\n//![import \"./boot\"]\n//![import \"../system/system\"]\n\n//!namespace KeyboardHandler\n\n\t//!interface EventHandler\n\n\t\t/**\n\t\t * \tHandler for keyboard events.\n\t\t * \t!onKeyboardEvent (action: System.KeyboardEventType, keyCode: number, keyState: object) : boolean;\n\t\t */\n\n\t//!/interface\n\n//!/namespace\n\n//:/**\n//: * \tUsed to attach keyboard event handlers to the system.\n//: */\n\n//!class KeyboardHandler\n\nexport default Boot.Module.create\n({\n\thandlers: null,\n\n\t__ctor: function ()\n\t{\n\t\tconst self = this;\n\n\t\tthis._super.Module.__ctor();\n\n\t\tthis.handlers = new PriorityQueue();\n\n\t\tthis._callOnKeyboardEvent = function (handler) {\n\t\t\treturn self.callOnKeyboardEvent(handler);\n\t\t};\n\t},\n\n\t/**\n\t * \tRegisters a new keyboard event handler.\n\t * \t!static register (handler: KeyboardHandler.EventHandler) : KeyboardHandler.EventHandler;\n\t */\n\tregister: function (handler)\n\t{\n\t\ttry {\n\t\t\tthis.handlers.add(handler);\n\n\t\t\tif ('init' in handler)\n\t\t\t\thandler.init();\n\t\t}\n\t\tcatch (e) {\n\t\t\tthrow new Error (\"KeyboardHandler (register): \" + e.message);\n\t\t}\n\n\t\treturn handler;\n\t},\n\n\t/**\n\t * \tRemoves a keyboard event handler.\n\t * \t!static unregister (handler: KeyboardHandler.EventHandler) : void;\n\t */\n\tunregister: function (handler)\n\t{\n\t\ttry {\n\t\t\tthis.handlers.remove(handler);\n\t\t\tthis.handlers.cleanup();\n\t\t}\n\t\tcatch (e) {\n\t\t\tthrow new Error (\"KeyboardHandler (unregister): \" + e.message);\n\t\t}\n\t},\n\n\tcallOnKeyboardEvent: function (handler)\n\t{\n\t\treturn handler.onKeyboardEvent(this._action, this._keyCode, this._keyState);\n\t},\n\n\tonStartup: function()\n\t{\n\t\tSystem.onKeyboardEvent = (action, keyCode, keyState) =>\n\t\t{\n\t\t\tthis._action = action;\n\t\t\tthis._keyCode = keyCode;\n\t\t\tthis._keyState = keyState;\n\n\t\t\tthis.handlers.forEach(this._callOnKeyboardEvent);\n\t\t};\n\t},\n\n\tonShutdown: function()\n\t{\n\t\tSystem.onKeyboardEvent = null;\n\t}\n});\n","/*\n**\tflow/pointer-handler\n**\n**\tCopyright (c) 2013-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport PriorityQueue from '../utils/priority-queue.js';\nimport Boot from './boot.js';\nimport System from '../system/system.js';\n\n//![import \"../utils/priority-queue\"]\n//![import \"./boot\"]\n//![import \"../system/system\"]\n\n//!namespace PointerHandler\n\n\t//!interface EventHandler\n\n\t\t/**\n\t\t * \tHandler for pointer events.\n\t\t * \t!onPointerEvent (action: System.PointerEventType, pointer: object, pointers: object) : boolean;\n\t\t */\n\n\t//!/interface\n\n//!/namespace\n\n//:/**\n//: * \tUsed to attach pointer event handlers to the system.\n//: */\n\n//!class PointerHandler\n\nexport default Boot.Module.create\n({\n\thandlers: null,\n\n\t__ctor: function ()\n\t{\n\t\tconst self = this;\n\n\t\tthis._super.Module.__ctor();\n\n\t\tthis.handlers = new PriorityQueue();\n\n\t\tthis._callOnPointerEvent = function (handler) {\n\t\t\treturn self.callOnPointerEvent(handler);\n\t\t};\n\t},\n\n\t/**\n\t * \tRegisters a new pointer event handler.\n\t * \t!static register (handler: PointerHandler.EventHandler) : PointerHandler.EventHandler;\n\t */\n\tregister: function (handler)\n\t{\n\t\ttry {\n\t\t\tthis.handlers.add(handler);\n\n\t\t\tif ('init' in handler)\n\t\t\t\thandler.init();\n\t\t}\n\t\tcatch (e) {\n\t\t\tthrow new Error (\"PointerHandler (register): \" + e.message);\n\t\t}\n\n\t\treturn handler;\n\t},\n\n\t/**\n\t * \tRemoves a pointer event handler.\n\t * \t!static unregister (handler: PointerHandler.EventHandler) : void;\n\t */\n\tunregister: function (handler)\n\t{\n\t\ttry {\n\t\t\tthis.handlers.remove(handler);\n\t\t\tthis.handlers.cleanup();\n\t\t}\n\t\tcatch (e) {\n\t\t\tthrow new Error (\"PointerHandler (unregister): \" + e.message);\n\t\t}\n\t},\n\n\tcallOnPointerEvent: function (handler)\n\t{\n\t\treturn handler.onPointerEvent(this._action, this._p, this._pointers);\n\t},\n\n\tonStartup: function()\n\t{\n\t\tSystem.onPointerEvent = (action, p, pointers) =>\n\t\t{\n\t\t\tthis._action = action;\n\t\t\tthis._p = p;\n\t\t\tthis._pointers = pointers;\n\n\t\t\tthis.handlers.forEach(this._callOnPointerEvent);\n\t\t};\n\t},\n\n\tonShutdown: function()\n\t{\n\t\tSystem.onPointerEvent = null;\n\t}\n});\n","/*\n**\tflow/screen-controls\n**\n**\tCopyright (c) 2013-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport KeyboardHandler from './keyboard-handler.js';\nimport PointerHandler from './pointer-handler.js';\nimport System from '../system/system.js';\n\n//![import \"./keyboard-handler\"]\n//![import \"./pointer-handler\"]\n//![import \"../system/system\"]\n\n/**\n**\n*/\n\nconst ScreenControls =\n({\n\tpriority: 5,\n\n\tlist: [ ],\n\tdummy: { },\n\n\thoverEnabled: false,\n\tzindexEnabled: false,\n\tlastFrame: 0,\n\n\t/*\n\t**\tAdds an item to the ScreenControls control list. The item should be an object with the following mandatory methods:\n\t**\n\t**\t\tbool containsPoint (float pointerX, float pointerY)\n\t**\t\tvoid pointerActivate (Object pointer)\n\t**\t\tvoid pointerDeactivate (Object pointer)\n\t**\t\tvoid pointerUpdate (float pointerX, float pointerY, Object pointer)\n\t**\t\tvoid hover (bool status, Object pointer)\n\t**\t\tbool focusLock\n\t**\n\t**\t\tbool keyboardEvents\n\t**\t\tbool keyDown (int keyCode, object keyArgs)\n\t**\t\tbool keyUp (int keyCode, object keyArgs)\n\t*/\n\tadd: function (c)\n\t{\n\t\tif (this.zindexEnabled && !('zindex' in c))\n\t\t\tc.zindex = 0;\n\n\t\tif (this.list.indexOf(c) === -1)\n\t\t\tthis.list.push(c);\n\t},\n\n\tremove: function (c)\n\t{\n\t\tvar i = this.list.indexOf(c);\n\t\tif (i !== -1) this.list.splice(i, 1);\n\t},\n\n\tsetHoverEnabled: function (value)\n\t{\n\t\tthis.hoverEnabled = value;\n\t},\n\n\tsetZIndexEnabled: function (value)\n\t{\n\t\tthis.zindexEnabled = value;\n\t},\n\n\tfindTarget: function (x, y, filter)\n\t{\n\t\tif (this.zindexEnabled && this.lastFrame != System.frameNumber)\n\t\t{\n\t\t\tlet zindex = this.list[0].zindex;\n\n\t\t\tfor (let item of this.list)\n\t\t\t{\n\t\t\t\tif (item.zindex > zindex)\n\t\t\t\t{\n\t\t\t\t\tthis.list = this.list.sort((a,b) => b.zindex - a.zindex);\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tzindex = item.zindex;\n\t\t\t}\n\n\t\t\tthis.lastFrame = System.frameNumber;\n\t\t}\n\n\t\tfor (let i = 0; i < this.list.length; i++)\n\t\t{\n\t\t\tif (!this.list[i]) continue;\n\n\t\t\tif (filter != null && filter(this.list[i]) === false)\n\t\t\t\tcontinue;\n\n\t\t\tif (this.list[i].containsPoint(x, y))\n\t\t\t\treturn this.list[i];\n\t\t}\n\n\t\treturn null;\n\t},\n\n\tfilterHover: function (i)\n\t{\n\t\treturn 'hover' in i;\n\t},\n\n\tonPointerEvent: function (action, p, pointers)\n\t{\n\t\tlet _continue = true;\n\t\tlet tmp = null;\n\n\t\tswitch (action)\n\t\t{\n\t\t\tcase System.PointerEventType.POINTER_DOWN:\n\n\t\t\t\tif (p._ref != null)\n\t\t\t\t{\n\t\t\t\t\ttmp = p._ref; p._ref = null;\n\t\t\t\t\ttmp.pointerDeactivate(p);\n\t\t\t\t}\n\n\t\t\t\ttmp = this.findTarget(p.x, p.y);\n\t\t\t\tif (tmp != null)\n\t\t\t\t{\n\t\t\t\t\t(p._ref = tmp).pointerActivate(p);\n\t\t\t\t\t_continue = false;\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase System.PointerEventType.POINTER_DRAG_START:\n\t\t\t\tif (p._ref != null) _continue = false;\n\t\t\t\tbreak;\n\n\t\t\tcase System.PointerEventType.POINTER_DRAG_MOVE:\n\t\t\t\tif (this.hoverEnabled)\n\t\t\t\t{\n\t\t\t\t\tif (p._refh != null)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (p._refh.containsPoint(p.x, p.y))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttmp = p._refh; p._refh = null;\n\t\t\t\t\t\t\ttmp.hover(false, p);\n\t\t\n\t\t\t\t\t\t\ttmp = this.findTarget(p.x, p.y, this.filterHover);\n\t\t\t\t\t\t\tif (tmp != null)\n\t\t\t\t\t\t\t\t(p._refh = tmp).hover(true, p);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\ttmp = this.findTarget(p.x, p.y, this.filterHover);\n\t\t\t\t\t\tif (tmp != null)\n\t\t\t\t\t\t\t(p._refh = tmp).hover(true, p);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (p._ref != null)\n\t\t\t\t{\n\t\t\t\t\tif (p._ref.containsPoint(p.x, p.y) || p._ref.focusLock == true)\n\t\t\t\t\t{\n\t\t\t\t\t\tp._ref.pointerUpdate (p.x, p.y, p);\n\t\t\t\t\t\t_continue = false;\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\ttmp = p._ref; p._ref = null;\n\t\t\t\t\t\ttmp.pointerDeactivate(p);\n\t\n\t\t\t\t\t\ttmp = this.findTarget(p.x, p.y);\n\t\t\t\t\t\tif (tmp != null)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t(p._ref = tmp).pointerActivate(p);\n\t\t\t\t\t\t\t_continue = false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\ttmp = this.findTarget(p.x, p.y);\n\t\t\t\t\tif (tmp != null)\n\t\t\t\t\t{\n\t\t\t\t\t\t(p._ref = tmp).pointerActivate(p);\n\t\t\t\t\t\t_continue = false;\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase System.PointerEventType.POINTER_MOVE:\n\t\t\t\tif (this.hoverEnabled)\n\t\t\t\t{\n\t\t\t\t\tif (p._refh != null)\n\t\t\t\t\t{\n\t\t\t\t\t\tif (p._refh.containsPoint(p.x, p.y))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttmp = p._refh; p._refh = null;\n\t\t\t\t\t\t\ttmp.hover(false, p);\n\t\t\n\t\t\t\t\t\t\ttmp = this.findTarget(p.x, p.y, this.filterHover);\n\t\t\t\t\t\t\tif (tmp != null)\n\t\t\t\t\t\t\t\t(p._refh = tmp).hover(true, p);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n\t\t\t\t\t\ttmp = this.findTarget(p.x, p.y, this.filterHover);\n\t\t\t\t\t\tif (tmp != null)\n\t\t\t\t\t\t\t(p._refh = tmp).hover(true, p);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tif (p._ref == null) break;\n\n\t\t\t\tif (p._ref.containsPoint(p.x, p.y) || p._ref.focusLock == true)\n\t\t\t\t{\n\t\t\t\t\tp._ref.pointerUpdate (p.x, p.y, p);\n\t\t\t\t\t_continue = false;\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\ttmp = p._ref; p._ref = null;\n\t\t\t\t\ttmp.pointerDeactivate(p);\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase System.PointerEventType.POINTER_DRAG_STOP:\n\t\t\t\tif (p._ref != null) _continue = false;\n\t\t\t\tbreak;\n\n\t\t\tcase System.PointerEventType.POINTER_UP:\n\t\t\t\tif (p._ref != null)\n\t\t\t\t{\n\t\t\t\t\ttmp = p._ref; p._ref = null;\n\t\t\t\t\ttmp.pointerDeactivate(p);\n\n\t\t\t\t\t_continue = false;\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t}\n\n\t\treturn _continue;\n\t},\n\n\tonKeyboardEvent: function (action, keyCode, keyArgs)\n\t{\n\t\tswitch (action)\n\t\t{\n\t\t\tcase System.KeyboardEventType.KEY_DOWN:\n\n\t\t\t\tfor (let i = 0; i < this.list.length; i++)\n\t\t\t\t{\n\t\t\t\t\tif (!this.list[i] || !this.list[i].keyboardEvents) continue;\n\n\t\t\t\t\tif (this.list[i].keyDown(keyCode, keyArgs) === false)\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase System.KeyboardEventType.KEY_UP:\n\n\t\t\t\tfor (let i = 0; i < this.list.length; i++)\n\t\t\t\t{\n\t\t\t\t\tif (!this.list[i] || !this.list[i].keyboardEvents) continue;\n\n\t\t\t\t\tif (this.list[i].keyUp(keyCode, keyArgs) === false)\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\t\t}\n\t}\n});\n\nPointerHandler.register(ScreenControls);\nKeyboardHandler.register(ScreenControls);\n\nexport default ScreenControls;\n","/*\n**\tflow/button\n**\n**\tCopyright (c) 2013-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport Group from './group.js';\nimport Mask from './mask.js';\nimport ScreenControls from './screen-controls.js';\n\n//![import \"./group.js\"]\n//![import \"./mask.js\"]\n//![import \"./screen-controls.js\"]\n\n/**\n * \tButton class provides an easy way to add push-button support to the world.\n */\n\n//!class Button extends Group\n\nexport default Group.extend\n({\n\t/**\n\t * \tIndicates if once focus is obtained it is locked until the user releases it.\n\t * \t@default false\n\t *\t!focusLock: boolean;\n\t */\n\tfocusLock: false,\n\n\t/**\n\t * \tIndicates if keyboard events are enabled on this object.\n\t * \t@default true\n\t *\t!keyboardEvents: boolean;\n\t */\n\tkeyboardEvents: true,\n\n\t/**\n\t * \tCurrent pressed status of the button.\n\t *\t!isPressed: boolean;\n\t */\n\tisPressed: false,\n\n\t/**\n\t * \tPrevious pressed status of the button.\n\t *\t!wasPressed: boolean;\n\t */\n\twasPressed: false,\n\n\t/**\n\t * \tImage to draw when the button is unpressed.\n\t *\t!unpressedImg: Drawable;\n\t */\n\tunpressedImg: null,\n\n\t/**\n\t * \tImage to draw when the button is pressed.\n\t *\t!pressedImg: Drawable;\n\t */\n\tpressedImg: null,\n\n\t/**\n\t * \tKey code related to the button. Used only if not `null`.\n\t * \t@default null\n\t *\t!keyCode: KeyCode;\n\t */\n\tkeyCode: null,\n\n\t/**\n\t * \tHitbox element.\n\t * \t!readonly hitbox: Mask;\n\t */\n\thitbox: null,\n\n\t/**\n\t * \tHandlers for the button events.\n\t */\n\t_onButtonDown: null,\n\t_onButtonUp: null,\n\t_onTap: null,\n\t_onChange: null,\n \n\t/**\n\t * \tCreates the button with the specified parameters. Automatically adds it to the screen controls.\n\t * \t!constructor (container: Container, x: number, y: number, unpressedImg?: Drawable, pressedImg?: Drawable);\n\t */\n\t__ctor: function (container, x, y, unpressedImg=null, pressedImg=null)\n\t{\n\t\tthis._super.Group.__ctor();\n\n\t\tthis.unpressedImg = unpressedImg;\n\t\tthis.pressedImg = pressedImg ?? unpressedImg;\n\t\tthis.hitbox = null;\n\n\t\tlet hitbox = Mask.Pool.alloc (0, x, y, this.unpressedImg ? this.unpressedImg.width : 16, this.unpressedImg ? this.unpressedImg.height : 16).visible(false).visibleLock(true).debug(2);\n\t\tthis.addChild(hitbox);\n\n\t\tcontainer.add(hitbox);\n\t\tcontainer.add(this);\n\n\t\tthis.hitbox = hitbox;\n\n\t\tthis._onButtonDown = null;\n\t\tthis._onButtonUp = null;\n\t\tthis._onTap = null;\n\t\tthis._onChange = this._default_onChange;\n\n\t\tthis.reset();\n\t\tScreenControls.add(this);\n\t},\n\n\t/**\n\t * \tRemoves the button from the screen controls and destroys it.\n\t */\n\t__dtor: function ()\n\t{\n\t\tthis._super.Group.__dtor();\n\t\tScreenControls.remove(this);\n\t},\n\n\t/**\n\t * \tSets the width and height of the button and the hitbox.\n\t * \t!resize (width: number, height: number) : GridElement;\n\t */\n\tresize: function (width, height)\n\t{\n\t\tthis._super.Group.resize(width, height);\n\n\t\tif (this.hitbox !== null)\n\t\t\tthis.hitbox.resize(width, height);\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tResizes the button and hitbox by the specified deltas.\n\t * \t!resizeBy (deltaWidth: number, deltaHeight: number) : GridElement;\n\t */\n\tresizeBy: function (dWidth, dHeight)\n\t{\n\t\tthis._super.Group.resizeBy(dWidth, dHeight);\n\n\t\tif (this.hitbox !== null)\n\t\t\tthis.hitbox.resizeBy(dWidth, dHeight);\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tChanges the pressed/unpressed images of the button.\n\t * \t!setImage (unpressedImg: Drawable, pressedImg?: Drawable) : Button;\n\t */\n\tsetImage: function (unpressedImg, pressedImg=null)\n\t{\n\t\tthis.unpressedImg = unpressedImg;\n\t\tthis.pressedImg = pressedImg || unpressedImg;\n\n\t\tthis.reset();\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tChanges the key code of the button.\n\t * \t!setKeyCode (value: KeyCode) : Button;\n\t */\n\tsetKeyCode: function (value)\n\t{\n\t\tthis.keyCode = value;\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tResets the button to its initial state.\n\t * \t!reset() : void;\n\t */\n\treset: function ()\n\t{\n\t\tthis.img = this.unpressedImg;\n\t\tthis._onChange (this.isPressed = false, this.wasPressed = false, this);\n\t},\n\n\t/**\n\t * \tButton pointer update event. Not required for the button control.\n\t * \t!pointerUpdate (pointerX: number, pointerY: number, pointer: object) : void;\n\t */\n\tpointerUpdate: function (pointerX, pointerY, pointer)\n\t{\n\t},\n\n\t/**\n\t * \tSets the pressed state of the button.\n\t * \t!setStatus (value: boolean) : Button;\n\t */\n\tsetStatus: function (value)\n\t{\n\t\tif (this.isPressed === value)\n\t\t\treturn this;\n\n\t\tthis.updateStatus (value);\n\n\t\tthis.img = this.isPressed ? this.pressedImg : this.unpressedImg;\n\t\tthis._onChange (this.isPressed, this.wasPressed, this);\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tMoves the `isPressed` value of the button to `wasPressed`, and updates `isPressed` with the given value. If none provided, `isPressed` is unchanged.\n\t *\t!updateStatus (value?: boolean) : Button;\n\t */\n\tupdateStatus: function (value=null)\n\t{\n\t\tthis.wasPressed = this.isPressed;\n\t\tthis.isPressed = value === null ? this.isPressed : value;\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tCalled when the PointerEventType.POINTER_DOWN event starts within the bounding box of the button.\n\t * \t!pointerActivate (pointer: object) : void;\n\t */\n\tpointerActivate: function (pointer)\n\t{\n\t\tthis.setStatus(true);\n\t},\n\n\t/**\n\t * \tCalled when the PointerEventType.POINTER_UP event is fired with the \"_ref\" attribute pointing to this object.\n\t *\t!pointerDeactivate (pointer: object) : void;\n\t */\n\tpointerDeactivate: function (pointer)\n\t{\n\t\tthis.setStatus(false);\n\t},\n\n\t/**\n\t * \tReturns `true` if the button contains the specified point.\n\t * \t!containsPoint (x: number, y: number) : boolean;\n\t */\n\tcontainsPoint: function(x, y)\n\t{\n\t\tif (!this.visible())\n\t\t\treturn false;\n\n\t\treturn this.hitbox.bounds.containsPoint(x, y);\n\t},\n\n\t/**\n\t * \tExecuted after any change in the status of the button. Be careful when overriding this, because when so, the `onTap`, `onButtonDown` and `onButtonUp` methods will not work.\n\t * \t!onChange (isPressed: boolean, wasPressed: boolean, button: Button) : void;\n\t */\n\t_default_onChange: function (isPressed, wasPressed, button)\n\t{\n\t\tif (isPressed !== wasPressed)\n\t\t{\n\t\t\tif (isPressed && this._onButtonDown)\n\t\t\t\tthis._onButtonDown();\n\t\t\telse if (!isPressed && this._onButtonUp)\n\t\t\t\tthis._onButtonUp();\n\t\t}\n\n\t\tif (!isPressed && wasPressed && this._onTap)\n\t\t\tthis._onTap();\n\t},\n\n\t/**\n\t * \tKey down event, handles the keys that control the button.\n\t * \t!keyDown (keyCode: KeyCode, keyArgs: object) : boolean|null;\n\t */\n\tkeyDown: function (keyCode, keyArgs)\n\t{\n\t\tif (keyCode === this.keyCode)\n\t\t{\n\t\t\tthis.pointerActivate();\n\t\t\treturn false;\n\t\t}\n\t},\n\n\t/**\n\t * \tKey up event, handles the keys that control the button.\n\t * \t!keyUp (keyCode: KeyCode, keyArgs: object) : boolean|null;\n\t */\n\tkeyUp: function (keyCode, keyArgs)\n\t{\n\t\tif (keyCode === this.keyCode)\n\t\t{\n\t\t\tthis.pointerDeactivate();\n\t\t\treturn false;\n\t\t}\n\t},\n\n\t/**\n\t * \tSets the handler for the on-change event. Executed when the button state changes. Setting this callback will cause onButtonDown,\n\t * \tonButtonUp and onTap to no longer work. Set the callback to `null` to return it to the default state.\n\t * \n\t * \t!onChange (callback: (isPressed: boolean, wasPressed: boolean, buttons: Button) => void) : Button;\n\t */\n\tonChange: function (callback)\n\t{\n\t\tthis._onChange = callback === null ? this._default_onChange : callback;\n\t\treturn this;\n\t},\n\n\t/**\n\t * Sets the handler for the button-down event. Executed when the button is pressed. Fired only if the `onChange` method was not overriden.\n\t * !onButtonDown (callback: () => void) : Button;\n\t */\n\t/**\n\t * Executes the onButtonDown handler.\n\t * !onButtonDown() : void;\n\t */\n\tonButtonDown: function (callback=true)\n\t{\n\t\tif (callback === true) {\n\t\t\tif (this._onButtonDown) this._onButtonDown();\n\t\t\treturn;\n\t\t}\n\n\t\tthis._onButtonDown = callback;\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tSets the handler for the button-up event. Executed when the button is released. Fired only if the `onChange` method was not overriden.\n\t * \t!onButtonUp (callback: () => void) : Button;\n\t */\n\t/**\n\t * Executes the onButtonUp handler.\n\t * !onButtonUp() : void;\n\t */\n\tonButtonUp: function (callback=true)\n\t{\n\t\tif (callback === true) {\n\t\t\tif (this._onButtonUp) this._onButtonUp();\n\t\t\treturn;\n\t\t}\n\n\t\tthis._onButtonUp = callback;\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tSets the handler for the on-tap event. Executed when the button is tapped (pressed and then released). Fired only if the `onChange` method was not overriden.\n\t * \t!onTap (callback: () => void) : Button;\n\t */\n\t/**\n\t * Executes the onTap handler.\n\t * !onTap() : void;\n\t */\n\tonTap: function (callback=true)\n\t{\n\t\tif (callback === true) {\n\t\t\tif (this._onTap) this._onTap();\n\t\t\treturn;\n\t\t}\n\n\t\tthis._onTap = callback;\n\t\treturn this;\n\t}\n});\n","/*\n**\tflow/stick\n**\n**\tCopyright (c) 2013-2021, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport Group from './group.js';\nimport Mask from './mask.js';\nimport ScreenControls from './screen-controls.js';\nimport KeyCode from '../system/keycode.js';\n\n//![import \"./group\"]\n//![import \"./mask\"]\n//![import \"./screen-controls\"]\n//![import \"../system/keycode\"]\n\n/**\n * \tStick class provides an easy way to add directional control sticks to the world.\n */\n\n//!class Stick extends Group\n\nexport default Group.extend\n({\n\t/**\n\t * \tIndicates if once focus is obtained it is locked until the user releases it.\n\t * \t@default true\n\t *\t!focusLock: boolean;\n\t */\n\tfocusLock: true,\n\n\t/**\n\t * \tIndicates if keyboard events are enabled on this object.\n\t * \t@default true\n\t *\t!keyboardEvents: boolean;\n\t */\n\tkeyboardEvents: true,\n\n\t/**\n\t * \tCurrent pressed status of the stick.\n\t *\t!isPressed: boolean;\n\t */\n\tisPressed: false,\n\n\t/**\n\t * \tPrevious pressed status of the stick.\n\t *\t!wasPressed: boolean;\n\t */\n\twasPressed: false,\n\n\t\t/**\n\t\t * \tImage to draw when the stick is unpressed (outer circle).\n\t\t *\t!unpressedImg: Drawable;\n\t\t */\n\t\tunpressedImg: null,\n\n\t\t/**\n\t\t * \tImage to draw when the stick is pressed (outer circle).\n\t\t *\t!pressedImg: Drawable;\n\t\t */\n\t\tpressedImg: null,\n\n\t/**\n\t * \tImage to draw when the stick is unpressed (inner circle).\n\t *\t!unpressedImgInner: Drawable;\n\t */\n\tunpressedImgInner: null,\n\n\t/**\n\t * \tImage to draw when the stick is pressed (inner circle).\n\t *\t!pressedImgInner: Drawable;\n\t */\n\tpressedImgInner: null,\n\n\t\t/**\n\t\t * \tNumber of steps for the angle. Used to snap the stick movement to discrete steps.\n\t\t * \t!angleSteps: number;\n\t\t */\n\t\tangleSteps: 0,\n\n\t\t/**\n\t\t * \tNumber of steps for the radius of the stick. Used to snap the stick movement to discrete steps.\n\t\t * \t!radiusSteps: number;\n\t\t */\n\t\tradiusSteps: 0,\n\n\t/**\n\t * Center reference coordinates. Set when the pointer is activated.\n\t */\n\trefX: null,\n\trefY: null,\n\n\t/*\n\t**\tDirection (X and Y), magnitude and angle of the stick vector. The dirx and diry are normalized.\n\t*/\n\trdirx: 0,\n\trdiry: 0,\n\n\tdirx: 0,\n\tdiry: 0,\n\n\tmagnitude: 0,\n\tangle: 0,\n\n\t/*\n\t**\tFrozen stick state. Set by calling `freezeState`.\n\t*/\n\tfrdirx: 0, frdiry: 0, fdirx: 0, fdiry: 0, fmagnitude: 0, fangle: 0,\n\n\t/*\n\t**\tIndicates the displacement in X and Y directions of the inner stick. This is calculated when the update() method is called.\n\t*/\n\tdispx: 0, dispy: 0,\n\n\t/*\n\t**\tCurrent radius of the inner stick (how far it moved). And maximum radius that the inner stick can move.\n\t*/\n\tradius: 0, maxRadius: 0,\n\n\t/*\n\t**\tDead zone values for each axis.\n\t*/\n\tdeadZoneX: 0, deadZoneY: 0,\n\n\t/*\n\t**\tHitbox element.\n\t*/\n\thitbox: 0,\n\n\t/**\n\t * \tHandlers for the stick events.\n\t */\n\t_onChange: null,\n \n\t/**\n\t * \tCreates the stick with the specified parameters. Automatically adds it to the screen controls.\n\t * \t!constructor (container: Container, x: number, y: number, maxRadius: number, unpressedImg: Drawable, unpressedImgInner: Drawable, pressedImg?: Drawable, pressedImgInner?: Drawable);\n\t */\n\t__ctor: function (container, x, y, maxRadius, unpressedImg, unpressedImgInner, pressedImg=null, pressedImgInner=null)\n\t{\n\t\tthis._super.Group.__ctor();\n\n\t\tthis.unpressedImg = unpressedImg;\n\t\tthis.pressedImg = pressedImg || unpressedImg;\n\n\t\tthis.unpressedImgInner = unpressedImgInner;\n\t\tthis.pressedImgInner = pressedImgInner || unpressedImgInner;\n\n\t\tthis.maxRadius = maxRadius;\n\n\t\tthis.deadZoneX = 0;\n\t\tthis.deadZoneY = 0;\n\n\t\tthis.hitbox = Mask.Pool.alloc (0, x, y, (this.unpressedImg ?? this.unpressedImgInner).width, (this.unpressedImg ?? this.unpressedImgInner).height).visible(false).visibleLock(true).debug(2);\n\t\tthis.addChild(this.hitbox);\n\n\t\tcontainer.add(this.hitbox);\n\t\tcontainer.add(this);\n\n\t\tthis._onChange = null;\n\n\t\tthis.renderWith(this.renderStick);\n\t\tScreenControls.add(this);\n\t},\n\n\t/**\n\t * \tRemoves the button from the screen controls and destroys it.\n\t */\n\t__dtor: function ()\n\t{\n\t\tthis._super.Group.__dtor();\n\t\tScreenControls.remove(this);\n\t},\n\n\t/**\n\t * \tChanges the pressed/unpressed images of the outer stick.\n\t * \t!setImage (unpressedImg: Drawable, pressedImg?: Drawable) : Stick;\n\t */\n\tsetImage: function (unpressedImg, pressedImg=null)\n\t{\n\t\tthis.unpressedImg = unpressedImg;\n\t\tthis.pressedImg = pressedImg || unpressedImg;\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tChanges the pressed/unpressed images of the inner stick.\n\t * \t!setImageInner (unpressedImg: Drawable, pressedImg?: Drawable) : Stick;\n\t */\n\tsetImageInner: function (unpressedImg, pressedImg=null)\n\t{\n\t\tthis.unpressedImgInner = unpressedImg;\n\t\tthis.pressedImgInner = pressedImg || unpressedImg;\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tSets the number of angle-steps for the stick.\n\t * \t!setAngleSteps (n: number) : Stick;\n\t */\n\tsetAngleSteps: function (n)\n\t{\n\t\tthis.angleSteps = n;\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tSets the number of radius-steps for the stick.\n\t * \t!setRadiusSteps (n: number) : Stick;\n\t */\n\tsetRadiusSteps: function (n)\n\t{\n\t\tthis.radiusSteps = n;\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tSets the dead zone values (normalized).\n\t * \t!setDeadZone (deadZoneX: number, deadZoneY: number) : Stick;\n\t */\n\tsetDeadZone: function (deadZoneX, deadZoneY)\n\t{\n\t\tthis.deadZoneX = deadZoneX;\n\t\tthis.deadZoneY = deadZoneY;\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tResets the button to its initial state.\n\t * \t!reset() : void;\n\t */\n\treset: function ()\n\t{\n\t\tthis.dispx = 0;\n\t\tthis.dispy = 0;\n\n\t\tthis.rdirx = 0;\n\t\tthis.rdiry = 0;\n\n\t\tthis.dirx = 0;\n\t\tthis.diry = 0;\n\t\tthis.magnitude = 0;\n\n\t\tif (this._onChange)\n\t\t\tthis._onChange (this.dirx, this.diry, this.magnitude, this.angle, this);\n\t},\n\n\t/**\n\t * \tRenders the stick in the canvas.\n\t * \t!renderStick (g: Canvas) : void;\n\t */\n\trenderStick: function (g, elem, img)\n\t{\n\t\tif (elem.isPressed)\n\t\t{\n\t\t\tif (elem.pressedImg)\n\t\t\t\telem.pressedImg.draw (g, elem.bounds.x1, elem.bounds.y1);\n\n\t\t\tif (elem.pressedImgInner)\n\t\t\t\telem.pressedImgInner.draw (g, elem.bounds.x1 + elem.dispx, elem.bounds.y1 + elem.dispy);\n\t\t}\n\t\telse\n\t\t{\n\t\t\tif (elem.unpressedImg)\n\t\t\t\telem.unpressedImg.draw (g, elem.bounds.x1, elem.bounds.y1);\n\n\t\t\tif (elem.unpressedImgInner)\n\t\t\t\telem.unpressedImgInner.draw (g, elem.bounds.x1, elem.bounds.y1);\n\t\t}\n\t},\n\n\t/**\n\t * \tButton pointer update event. Not required for the button control.\n\t * \t!pointerUpdate (pointerX: number, pointerY: number, pointer: object) : void;\n\t */\n\tpointerUpdate: function (pointerX, pointerY)\n\t{\n\t\tlet dx, dy;\n\n\t\tdx = pointerX - this.refX;\n\t\tdy = pointerY - this.refY;\n\n\t\tthis.angle = Math.atan2(-dy, dx);\n\t\tthis.radius = Math.sqrt(dx*dx + dy*dy);\n\n\t\tif (this.radius > this.maxRadius)\n\t\t\tthis.radius = this.maxRadius;\n\n\t\tif (this.angleSteps)\n\t\t{\n\t\t\tlet fs = (2*Math.PI / this.angleSteps);\n\t\t\tthis.angle = int((this.angle + Math.PI + fs/2) / fs) * fs - Math.PI;\n\t\t}\n\n\t\tif (this.radiusSteps)\n\t\t{\n\t\t\tlet fs = (this.maxRadius / this.radiusSteps);\n\t\t\tthis.radius = int((this.radius + fs/2) / fs) * fs;\n\t\t}\n\n\t\tthis.rdirx = Math.min(1, Math.max(dx / this.maxRadius, -1));\n\t\tthis.rdiry = Math.min(1, Math.max(dy / this.maxRadius, -1));\n\n\t\tthis.dispx = this.radius * Math.cos(this.angle);\n\t\tthis.dispy = this.radius * -Math.sin(this.angle);\n\n\t\tif (this.radius > 0)\n\t\t{\n\t\t\tthis.dirx = this.dispx / this.radius;\n\t\t\tthis.diry = this.dispy / this.radius;\n\n\t\t\tthis.magnitude = this.radius / this.maxRadius;\n\t\t}\n\t\telse\n\t\t{\n\t\t\tthis.dirx = 0;\n\t\t\tthis.diry = 0;\n\n\t\t\tthis.magnitude = 0;\n\t\t}\n\n\t\tif (Math.abs(this.rdirx) < this.deadZoneX) {\n\t\t\tthis.rdirx = 0;\n\t\t\tthis.dirx = 0;\n\t\t}\n\n\t\tif (Math.abs(this.rdiry) < this.deadZoneY) {\n\t\t\tthis.rdiry = 0;\n\t\t\tthis.diry = 0;\n\t\t}\n\n\t\tif (this._onChange)\n\t\t\tthis._onChange (this.dirx, this.diry, this.magnitude, this.angle, this);\n\t},\n\n\t/**\n\t * \tCalled when the PointerEventType.POINTER_DOWN event starts within the bounding box of the stick.\n\t * \t!pointerActivate (pointer: object) : void;\n\t */\n\tpointerActivate: function (pointer)\n\t{\n\t\tthis.wasPressed = this.isPressed;\n\t\tthis.isPressed = 1;\n\n\t\tthis.refX = pointer.x;\n\t\tthis.refY = pointer.y;\n\n\t\tthis.pointerUpdate(pointer.x, pointer.y);\n\t},\n\n\t/**\n\t * \tCalled when the PointerEventType.POINTER_UP event is fired with the \"_ref\" attribute pointing to this object.\n\t *\t!pointerDeactivate (pointer: object) : void;\n\t */\n\tpointerDeactivate: function (pointer)\n\t{\n\t\tthis.wasPressed = this.isPressed;\n\t\tthis.isPressed = 0;\n\n\t\tthis.reset();\n\t},\n\n\t/**\n\t * \tReturns `true` if the stick contains the specified point.\n\t * \t!containsPoint (x: number, y: number) : boolean;\n\t */\n\tcontainsPoint: function(x, y)\n\t{\n\t\tif (!this.visible())\n\t\t\treturn false;\n\n\t\treturn this.hitbox.bounds.containsPoint(x, y);\n\t},\n\n\t/**\n\t * \tSets the direction of the stick, the provided deltas should be normalized in the \\[-1, 1\\] range.\n\t * \t!setDirection (dx: number, dy: number, deadZoneX?: number, deadZoneY?: number) : boolean;\n\t */\n\tsetDirection: function (dx, dy, deadZoneX=0.10, deadZoneY=0.10)\n\t{\n\t\tif (Math.abs(dx) < deadZoneX) dx = 0;\n\t\tif (Math.abs(dy) < deadZoneY) dy = 0;\n\n\t\tthis.wasPressed = this.isPressed;\n\t\tthis.isPressed = dx == 0 && dy == 0 ? 0 : 1;\n\n\t\tthis.pointerUpdate (this.bounds.cx + dx*this.maxRadius, this.bounds.cy + dy*this.maxRadius);\n\t\treturn false;\n\t},\n\n\t/**\n\t * \tSaves the current state of the stick in the f* variables (fdirx, fdiry, etc). When the `lastValid` parameter is true, the values will\n\t * \tbe saved on each field only if the current value is not zero.\n\t * \t!freezeState (lastValid?: boolean) : Stick;\n\t */\n\tfreezeState: function (lastValid=false)\n\t{\n\t\tthis.frdirx = lastValid ? (this.rdirx != 0 ? this.rdirx : this.frdirx) : this.rdirx;\n\t\tthis.frdiry = lastValid ? (this.rdiry != 0 ? this.rdiry : this.frdiry) : this.rdiry;\n\t\tthis.fdirx = lastValid ? (this.dirx != 0 ? this.dirx : this.fdirx) : this.dirx;\n\t\tthis.fdiry = lastValid ? (this.diry != 0 ? this.diry : this.fdiry) : this.diry;\n\t\tthis.fmagnitude = lastValid ? (this.magnitude != 0 ? this.magnitude : this.fmagnitude) : this.magnitude;\n\t\tthis.fangle = lastValid ? (this.angle != 0 ? this.angle : this.fangle) : this.angle;\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tKey down event, handles the keys that control the direction of the stick.\n\t * \t!keyDown (keyCode: KeyCode, keyArgs: object) : boolean|null;\n\t */\n\tkeyDown: function (keyCode, keyArgs)\n\t{\n\t\tlet dx = 0;\n\t\tlet dy = 0;\n\n\t\tif (keyArgs[KeyCode.UP] === true) dy = -this.maxRadius;\n\t\tif (keyArgs[KeyCode.LEFT] === true) dx = -this.maxRadius;\n\t\tif (keyArgs[KeyCode.DOWN] === true) dy = this.maxRadius;\n\t\tif (keyArgs[KeyCode.RIGHT] === true) dx = this.maxRadius;\n\n\t\tif (keyCode === KeyCode.UP || keyCode === KeyCode.LEFT || keyCode === KeyCode.DOWN || keyCode === KeyCode.RIGHT)\n\t\t{\n\t\t\tdx = this.bounds.cx + dx;\n\t\t\tdy = this.bounds.cy + dy;\n\n\t\t\tthis.wasPressed = this.isPressed;\n\t\t\tthis.isPressed = 1;\n\n\t\t\tthis.pointerUpdate (dx, dy);\n\t\t\treturn false;\n\t\t}\n\t},\n\n\t/**\n\t * \tKey up event, handles the keys that control the direction of the stick.\n\t * \t!keyUp (keyCode: KeyCode, keyArgs: object) : boolean|null;\n\t */\n\tkeyUp: function (keyCode, keyArgs)\n\t{\n\t\tlet dx = 0;\n\t\tlet dy = 0;\n\n\t\tif (keyArgs[KeyCode.UP] === true) dy = -this.maxRadius;\n\t\tif (keyArgs[KeyCode.LEFT] === true) dx = -this.maxRadius;\n\t\tif (keyArgs[KeyCode.DOWN] === true) dy = this.maxRadius;\n\t\tif (keyArgs[KeyCode.RIGHT] === true) dx = this.maxRadius;\n\n\t\tif (keyCode === KeyCode.UP || keyCode === KeyCode.LEFT || keyCode === KeyCode.DOWN || keyCode === KeyCode.RIGHT)\n\t\t{\n\t\t\tthis.pointerUpdate (this.bounds.cx + dx, this.bounds.cy + dy);\n\n\t\t\tif (dx === 0 && dy === 0)\n\t\t\t{\n\t\t\t\tthis.wasPressed = this.isPressed;\n\t\t\t\tthis.isPressed = 0;\n\t\t\t}\n\n\t\t\treturn false;\n\t\t}\n\t},\n\n\t/**\n\t * \tSets the handler for the on-change event. Executed after any change in the direction of the stick.\n\t * \t!onChange (callback: (dirx: number, diry: number, magnitude: number, angle: number, stick: Stick) => void) : Stick;\n\t */\n\tonChange: function (callback)\n\t{\n\t\tthis._onChange = callback;\n\t\treturn this;\n\t}\n});\n","//@ts-check\n\n//!namespace fxl\n\n//![import \"./system\"]\nimport _sys from './system.js';\nexport const sys = _sys;\n\n//![import \"./world\"]\nimport _world from './world.js';\nexport const world = _world;\n\n//![import \"./r\"]\nimport _r from './r.js';\nexport const r = _r;\n\n//![import \"./resources\"]\nimport _res from './resources.js';\nexport const res = _res;\n\n//![import \"./input\"]\nimport _input from './input.js';\nexport const input = _input;\n\n//![import \"./collider\"]\nimport _collider from './collider.js';\nexport const collider = _collider;\n\n//!/namespace\n","/*\n**\tfxl/world.js\n**\n**\tCopyright (c) 2016-2022, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport System from '../system/system.js';\nimport Scene from '../flow/scene.js';\nimport Viewport from '../flow/viewport.js';\nimport Bounds2 from '../math/bounds2.js';\nimport GridContainer from '../flow/grid-container.js';\nimport Element from '../flow/element.js';\nimport Label from '../flow/label.js';\nimport Group from '../flow/group.js';\nimport Updater from '../flow/updater.js';\nimport SimpleContainer from '../flow/simple-container.js';\nimport Mask from '../flow/mask.js';\nimport system from './system.js';\nimport globals from '../system/globals.js';\n\n//!/**\n//! * \tWorld system allows to manage scenes, containers, viewports and display elements.\n//! */\n\n//!class world\n\nconst world =\n{\n\t/**\n\t * World scene constants.\n\t *\n\t * !static readonly SCENE_MAIN: number;\n\t * !static readonly SCENE_HUD: number;\n\t */\n\tSCENE_MAIN: 0,\n\tSCENE_HUD: 1,\n\n\t/**\n\t * Default layers for the SCENE_MAIN scene.\n\t *\n\t * !static readonly LAYER_BG0: number;\n\t * !static readonly LAYER_BG1: number;\n\t * !static readonly LAYER_BG2: number;\n\t * !static readonly LAYER_BG3: number;\n\t * !static readonly LAYER_BG4: number;\n\t * !static readonly LAYER_MAIN: number;\n\t * !static readonly LAYER_FG0: number;\n\t * !static readonly LAYER_FG1: number;\n\t * !static readonly LAYER_FG2: number;\n\t * !static readonly LAYER_FG3: number;\n\t * !static readonly LAYER_FG4: number;\n\t * !static readonly LAYER_MASK: number;\n\t */\n\tLAYER_BG0: 0,\n\tLAYER_BG1: 1,\n\tLAYER_BG2: 2,\n\tLAYER_BG3: 3,\n\tLAYER_BG4: 4,\n\tLAYER_MAIN: 5,\n\tLAYER_FG0: 6,\n\tLAYER_FG1: 7,\n\tLAYER_FG2: 8,\n\tLAYER_FG3: 9,\n\tLAYER_FG4: 10,\n\tLAYER_MASK: 11,\n\n\t/**\n\t * Default layers for the SCENE_HUD scene.\n\t *\n\t * !static readonly LAYER_HUD_BG0: number;\n\t * !static readonly LAYER_HUD_BG1: number;\n\t * !static readonly LAYER_HUD_BG2: number;\n\t * !static readonly LAYER_HUD_MAIN: number;\n\t * !static readonly LAYER_HUD_FG0: number;\n\t * !static readonly LAYER_HUD_FG1: number;\n\t * !static readonly LAYER_HUD_FG2: number;\n\t */\n \tLAYER_HUD_BG0: 0,\n\tLAYER_HUD_BG1: 1,\n\tLAYER_HUD_BG2: 2,\n\tLAYER_HUD_MAIN: 3,\n\tLAYER_HUD_FG0: 4,\n\tLAYER_HUD_FG1: 5,\n\tLAYER_HUD_FG2: 6,\n\n\t/**\n\t *\tRegistered scenes.\n\t */\n\t_scenes: [],\n\n\t/**\n\t * Active scene set by `selectScene`.\n\t * !static activeScene: Scene;\n\t */\n\tactiveScene: null,\n\n\t/**\n\t *\tRegistered viewports.\n\t */\n\t_viewports: [],\n\n\t/**\n\t * Active viewport set by `selectViewport`.\n\t * !static activeViewport: Viewport;\n\t */\n\tactiveViewport: null,\n\n\t/**\n\t * Active container set by `selectContainer`.\n\t * !static activeContainer: Container;\n\t */\n\tactiveContainer: null,\n\n\t/**\n\t * Currently active group (set by `createGroup`).\n\t * !static activeGroup: Group;\n\t */\n\tactiveGroup: null,\n\n\t/**\n\t * Last used group (set by `endGroup`).\n\t * !static lastGroup: Group;\n\t */\n\tlastGroup: null,\n\n\t/**\n\t * Last element created by `createElement`, or `createLabel`.\n\t * !static lastElement: Element;\n\t */\n\tlastElement: null,\n\n\t/**\n\t * Dimensions of the world.\n\t * !static readonly bounds: Bounds2;\n\t */\n\tbounds: Bounds2.Pool.alloc(),\n\n\t/**\n\t * Initializes the world with the default scenes, viewports and layers.\n\t * !static init (worldWidth?: number, worldHeight?: number, divisorX?: number, divisorY?: number) : void;\n\t */\n\tinit: function (worldWidth=32768, worldHeight=32768, divisorX=null, divisorY=null)\n\t{\n\t\tif (divisorX === null)\n\t\t\tdivisorX = Math.max(worldWidth, worldHeight) / 512;\n\n\t\tif (divisorX < 16)\n\t\t\tdivisorX = 16;\n\n\t\tif (divisorY !== null && divisorY < 16)\n\t\t\tdivisorY = 16;\n\n\t\tthis.bounds.zero().resize(worldWidth, worldHeight);\n\n\t\tthis.createScene(world.SCENE_MAIN, 'SCENE_MAIN');\n\t\tthis.setContainer(world.LAYER_BG0, new GridContainer (worldWidth, worldHeight, divisorX, divisorY));\n\t\tthis.setContainer(world.LAYER_BG1, new GridContainer (worldWidth, worldHeight, divisorX, divisorY));\n\t\tthis.setContainer(world.LAYER_BG2, new GridContainer (worldWidth, worldHeight, divisorX, divisorY));\n\t\tthis.setContainer(world.LAYER_BG3, new GridContainer (worldWidth, worldHeight, divisorX, divisorY));\n\t\tthis.setContainer(world.LAYER_BG4, new GridContainer (worldWidth, worldHeight, divisorX, divisorY));\n\t\tthis.setContainer(world.LAYER_MAIN, new GridContainer (worldWidth, worldHeight, divisorX, divisorY));\n\t\tthis.setContainer(world.LAYER_FG0, new GridContainer (worldWidth, worldHeight, divisorX, divisorY));\n\t\tthis.setContainer(world.LAYER_FG1, new GridContainer (worldWidth, worldHeight, divisorX, divisorY));\n\t\tthis.setContainer(world.LAYER_FG2, new GridContainer (worldWidth, worldHeight, divisorX, divisorY));\n\t\tthis.setContainer(world.LAYER_FG3, new GridContainer (worldWidth, worldHeight, divisorX, divisorY));\n\t\tthis.setContainer(world.LAYER_FG4, new GridContainer (worldWidth, worldHeight, divisorX, divisorY));\n\n\t\tthis.setContainer(world.LAYER_MASK, new GridContainer (worldWidth, worldHeight, divisorX, divisorY));\n\t\tthis.getContainer(world.LAYER_MASK).visible(false);\n\t\tthis.createViewport(0);\n\n\t\tthis.createScene(world.SCENE_HUD, 'SCENE_HUD');\n\t\tthis.setContainer(world.LAYER_HUD_BG0, new SimpleContainer (system.screenWidth, system.screenHeight));\n\t\tthis.setContainer(world.LAYER_HUD_BG1, new SimpleContainer (system.screenWidth, system.screenHeight));\n\t\tthis.setContainer(world.LAYER_HUD_BG2, new SimpleContainer (system.screenWidth, system.screenHeight));\n\t\tthis.setContainer(world.LAYER_HUD_MAIN, new SimpleContainer (system.screenWidth, system.screenHeight));\n\t\tthis.setContainer(world.LAYER_HUD_FG0, new SimpleContainer (system.screenWidth, system.screenHeight));\n\t\tthis.setContainer(world.LAYER_HUD_FG1, new SimpleContainer (system.screenWidth, system.screenHeight));\n\t\tthis.setContainer(world.LAYER_HUD_FG2, new SimpleContainer (system.screenWidth, system.screenHeight));\n\t},\n\n\t/**\n\t * Creates a scene at the specified index and automatically selects it.\n\t * !static createScene (index: number, name?: string) : void;\n\t */\n\tcreateScene: function (index, name=null)\n\t{\n\t\tif (this._scenes[index])\n\t\t{\n\t\t\tSystem.queueRemove(this._scenes[index]);\n\t\t\tglobal.dispose(this._scenes[index]);\n\t\t}\n\n\t\tthis._scenes[index] = new Scene(index, name);\n\t\tSystem.queueAdd(this._scenes[index]);\n\n\t\tthis.selectScene(index);\n\t},\n\n\t/**\n\t * Returns the scene at the specified index (or the active scene if no index provided).\n\t * !static getScene (index?: number) : Scene;\n\t */\n\tgetScene: function (index=null)\n\t{\n\t\tif (index === null)\n\t\t\treturn this.activeScene;\n\n\t\tif (index < 0 || index >= this._scenes.length)\n\t\t\treturn null;\n\n\t\treturn this._scenes[index];\n\t},\n\n\t/**\n\t * Selects the active scene for subsequence scene-level operations.\n\t * !static selectScene (index: number) : boolean;\n\t */\n\tselectScene: function (index)\n\t{\n\t\tif (index < 0 || index >= this._scenes.length || !this._scenes[index])\n\t\t\treturn false;\n\n\t\tthis.activeScene = this._scenes[index];\n\t\tthis.activeContainer = null;\n\n\t\treturn true;\n\t},\n\n\t/**\n\t * Creates a viewport at the specified index, attaches it to the active scene and selects it. Use this only after attaching all\n\t * containers to the scene or the `maxWidth` and `maxHeight` properties of the scene will not be properly set yet.\n\t *\n\t * !static createViewport (index: number) : void;\n\t */\n\tcreateViewport: function (index)\n\t{\n\t\tif (this.activeScene === null)\n\t\t\tthrow new Error ('createViewport: use `selectScene` first to select the active scene.');\n\n\t\tif (this._viewports[index])\n\t\t{\n\t\t\tglobal.dispose(this._viewports[index]);\n\t\t\tthis.activeScene.setViewport(index, null);\n\t\t}\n\n\t\tthis._viewports[index] = new Viewport(\n\t\t\t0, 0,\n\t\t\tsystem.screenWidth, system.screenHeight,\n\t\t\tthis.activeScene.maxWidth, this.activeScene.maxHeight\n\t\t);\n\n\t\tthis.activeScene.setViewport(index, this._viewports[index]);\n\n\t\tthis.selectViewport(index);\n\t},\n\n\t/**\n\t * Returns a viewport given its index (or the active viewport if no index provided).\n\t * !static getViewport (index?: number) : Viewport;\n\t */\n\tgetViewport: function (index=null)\n\t{\n\t\tif (index === null)\n\t\t\treturn this.activeViewport;\n\n\t\tif (index < 0 || index >= this._viewports.length)\n\t\t\treturn null;\n\n\t\treturn this._viewports[index];\n\t},\n\n\t/**\n\t * Selects the active viewport.\n\t * !static selectViewport (index: number) : boolean;\n\t */\n\tselectViewport: function (index)\n\t{\n\t\tif (index < 0 || index >= this._viewports.length || !this._viewports[index])\n\t\t\treturn false;\n\n\t\tthis.activeViewport = this._viewports[index];\n\t\treturn true;\n\t},\n\n\t/**\n\t * Sets a container in the active scene at the specified index and returns it.\n\t * !static setContainer (index: number, container: Container) : Container;\n\t */\n\tsetContainer: function (index, container)\n\t{\n\t\tif (this.activeScene === null)\n\t\t\tthrow new Error ('setContainer: use `selectScene` first to select the active scene.');\n\n\t\tthis.activeScene.setContainer (index, container);\n\t\treturn container;\n\t},\n\n\t/**\n\t * Returns the container at the specified index in the active scene (or the active container if no index provided).\n\t * !static getContainer (index?: number) : Container;\n\t */\n\tgetContainer: function (index=null, throwErrors=false)\n\t{\n\t\tif (index === null)\n\t\t{\n\t\t\tif (this.activeContainer === null && throwErrors)\n\t\t\t\tthrow new Error ('getContainer: container index not specified and default container not set.');\n\n\t\t\treturn this.activeContainer;\n\t\t}\n\n\t\tif (this.activeScene === null)\n\t\t\tthrow new Error ('getContainer: use `selectScene` first to select the active scene.');\n\n\t\tlet container = this.activeScene.getContainer(index);\n\t\tif (container === null && throwErrors)\n\t\t\tthrow new Error ('getContainer: container index out of bounds.');\n\n\t\treturn container;\n\t},\n\n\t/**\n\t * Selects the active container.\n\t * !static selectContainer (index: number) : boolean;\n\t */\n\tselectContainer: function (index)\n\t{\n\t\tthis.activeContainer = this.getContainer(index, true);\n\t\treturn this.activeContainer !== null;\n\t},\n\n\t/**\n\t * Changes the visibility of the LAYER_MASK to enable (or disable) mask bounds rendering.\n\t * @param {boolean} value\n\t * @param {boolean} allMasks If set to `false` only masks having `debugBounds` to non-false will be drawn.\n\t * !static showMasks (value: boolean, allMasks?: boolean) : void;\n\t */\n\tshowMasks: function (value, allMasks=true)\n\t{\n\t\tworld.getScene(world.SCENE_MAIN).getContainer(world.LAYER_MASK).visible(value);\n\t\tglobals.debugMasks = allMasks;\n\t},\n\n\t/**\n\t * Creates a group in the active scene and selects it as the active group.\n\t * !static createGroup (id?: string) : Group;\n\t */\n\tcreateGroup: function(id=null)\n\t{\n\t\tif (this.activeScene === null)\n\t\t\tthrow new Error ('createGroup: use selectScene first to select the active scene.');\n\n\t\tthis.activeGroup = Group.Pool.alloc(id);\n\t\tthis.activeScene.addGroup(this.activeGroup);\n\n\t\treturn this.activeGroup;\n\t},\n\n\t/**\n\t * If coordinates are provided the group will be translated to the specified position. It will then set `lastGroup`, and nullify `activeGroup`.\n\t * !static endGroup (x?: number, y?: number) : Group;\n\t */\n\tendGroup: function(x=null, y=null)\n\t{\n\t\tif (x !== null && y !== null)\n\t\t\tthis.activeGroup.translate(x, y);\n\n\t\tthis.lastGroup = this.activeGroup;\n\t\tthis.activeGroup = null;\n\n\t\treturn this.lastGroup.sync();\n\t},\n\n\t/**\n\t * Creates a named Element and adds it to the specified container (or the active one) in the active scene.\n\t * If a group is active, the element will be attached to the group.\n\t * \n\t * !static createElement (id: string, x: number, y: number, img?: Drawable, containerIndex?: number) : Element;\n\t */\n\t/**\n\t * Creates an Element and adds it to the specified container (or the active one) in the active scene.\n\t * If a group is active, the element will be attached to the group.\n\t * \n\t * !static createElement (x: number, y: number, img?: Drawable, containerIndex?: number) : Element;\n\t */\n\tcreateElement: function (id, x, y, img=null, containerIndex=null)\n\t{\n\t\tif (typeof(id) !== 'string')\n\t\t{\n\t\t\tcontainerIndex = img;\n\t\t\timg = y;\n\t\t\ty = x;\n\t\t\tx = id;\n\t\t\tid = null;\n\t\t}\n\n\t\tlet container = this.getContainer(containerIndex);\n\n\t\tlet elem = Element.Pool.alloc(x, y, img);\n\t\tcontainer.add(elem.setId(id));\n\n\t\tif (this.activeGroup !== null)\n\t\t\tthis.activeGroup.addChild(elem);\n\n\t\tthis.lastElement = elem;\n\t\treturn elem;\n\t},\n\n\t/**\n\t * Creates a named mask and adds it to the specified container or LAYER_MASK if none provided.\n\t * If a group is active, the mask will be attached to the group.\n\t * \n\t * !static createMask (id: string, type: number, x?: number, y?: number, width?: number, height?: number, containerIndex?: number) : Mask;\n\t */\n\tcreateMask: function (id, type, x=null, y=null, width=null, height=null, containerIndex=null)\n\t{\n\t\tlet container = this.getContainer(containerIndex || world.LAYER_MASK);\n\n\t\tif (x === null)\n\t\t{\n\t\t\tif (this.activeGroup === null)\n\t\t\t\tthrow new Error ('createMask: create a group first to use default masks.');\n\n\t\t\tx = this.activeGroup.bounds.x1;\n\t\t\ty = this.activeGroup.bounds.y1;\n\t\t\twidth = this.activeGroup.bounds.width();\n\t\t\theight = this.activeGroup.bounds.height();\n\t\t}\n\n\t\tlet mask = Mask.Pool.alloc(type, x, y, width, height);\n\t\tcontainer.add(mask.setId(id));\n\n\t\tif (this.activeGroup !== null)\n\t\t\tthis.activeGroup.addChild(mask);\n\n\t\treturn mask;\n\t},\n\n\t/**\n\t * Creates a named label element and adds it to the specified container (or the active one) in the active scene.\n\t * If a group is active, the label element will be attached to the group.\n\t * \n\t * !static createLabel (id: string, x: number, y: number, font: object, text: string, containerIndex?: number) : Label;\n\t */\n\t/**\n\t * Creates a label element and adds it to the specified container (or the active one) in the active scene.\n\t * If a group is active, the label element will be attached to the group.\n\t * \n\t * !static createLabel (x: number, y: number, font: object, text: string, containerIndex?: number) : Label;\n\t */\n\tcreateLabel: function (id, x, y, font, text, containerIndex=null)\n\t{\n\t\tif (typeof(id) !== 'string')\n\t\t{\n\t\t\tcontainerIndex = text;\n\t\t\ttext = font;\n\t\t\tfont = y;\n\t\t\ty = x;\n\t\t\tx = id;\n\t\t\tid = null;\n\t\t}\n\n\t\tlet container = this.getContainer(containerIndex);\n\n\t\tlet elem = Label.Pool.alloc(x, y, font, text);\n\t\tcontainer.add(elem.setId(id));\n\n\t\tif (this.activeGroup !== null)\n\t\t\tthis.activeGroup.addChild(elem);\n\n\t\tthis.lastElement = elem;\n\t\treturn elem;\n\t},\n\n\t/**\n\t * Creates a new updater, attaches it to the active scene and returns it.\n\t * !static createUpdater (update?: (elem: Element, dt: number, context: object) => boolean, context?: object) : Updater;\n\t */\n\tcreateUpdater: function (update=null, context=null)\n\t{\n\t\tif (this.activeScene === null)\n\t\t\tthrow new Error ('createUpdater: use selectScene first to select the active scene.');\n\n\t\treturn new Updater (this.activeScene, update, context);\n\t}\n};\n\n//!/class\n\nexport default world;\n","\n//!/**\n//! * Registered resources. Initially these are resource descriptors, but after a call to `res.load` these will be fully loaded resources.\n//! */\n//:const r : { \\[key: string\\]: any };\n\nconst r = {\n};\n\nexport default r;\n","\nimport Resources from '../resources/resources.js';\n\nimport r from './r.js';\n\n/**\n * \tResource manager allows to specify resource descriptors to load them.\n */\n\n//!class res\n\nconst res =\n{\n\t/**\n\t * Configures the resources object with the specified options.\n\t * !static config (options: Resources.ConfigOptions) : void;\n\t */\n\tconfig: function (opts)\n\t{\n\t\tResources.config(opts);\n\t},\n\n\t/**\n\t * \tLoads all registered resources that have not been loaded yet.\n\t * \t!static load (progressCallback?: (t: number, name: string) => void) : Promise<void>;\n\t */\n\tload: function(progressCallback=null)\n\t{\n\t\treturn new Promise (function (resolve, reject)\n\t\t{\n\t\t\tResources.load (r,\n\t\t\t\tfunction (index, total, value, name) {\n\t\t\t\t\tif (progressCallback) progressCallback(value, name);\n\t\t\t\t},\n\t\t\t\tfunction () {\n\t\t\t\t\tresolve();\n\t\t\t\t}\n\t\t\t);\n\t\t});\n\t},\n\n\t/**\n\t * \tReturns a resource given its identifier.\n\t * \t@param id - Resource identifier.\n\t * \t!static get (id: string) : object;\n\t */\n\tget: function (id)\n\t{\n\t\treturn r[id];\n\t},\n\n\t/**\n\t * \tChecks if the ID exists in the fxl `r` map, throws an error if it does.\n\t */\n\t__resIdMustNotExist: function (id)\n\t{\n\t\tif (id in r) throw new Error ('Resource identifier `' + id + '` is already in use');\n\t},\n\n\t/**\n\t * \tRegisters a solid-color resource.\n\t * \t@param id - Resource identifier.\n\t * \n\t * \t!static color (id: string, color: string, width: number, height: number) : object;\n\t */\n\tcolor: function (id, color, width, height)\n\t{\n\t\tthis.__resIdMustNotExist(id);\n\n\t\treturn r[id] = { type: 'object', wrapper: 'Custom', color: color, width: width, height: height };\n\t},\n\n\t/**\n\t * \tRegisters a custom drawable resource.\n\t * \t@param id - Resource identifier.\n\t * \n\t * \t!static custom (id: string, width: number, height: number, drawFunction: (g: Canvas) => void) : object;\n\t */\n\tcustom: function (id, width, height, drawFunction, opts=null)\n\t{\n\t\tthis.__resIdMustNotExist(id);\n\n\t\treturn r[id] = { type: 'object', wrapper: 'Custom', width: width, height: height, draw: drawFunction, ...opts };\n\t},\n\n\t/**\n\t * \tRegisters an image resource.\n\t * \t@param id - Resource identifier.\n\t * \n\t * \t!static image (id: string, path: string, opts?: object) : object;\n\t */\n\timage: function (id, path, opts=null)\n\t{\n\t\tthis.__resIdMustNotExist(id);\n\n\t\treturn r[id] = { type: 'image', wrapper: 'Drawable', src: path, ...opts };\n\t},\n\n\t/**\n\t * \tRegisters a multi image resource.\n\t * \t@param id - Resource identifier.\n\t * \t@param path - Path to the source file. Ensure to add the \"#\" marks to replace the file index (i.e. \"image-##.png\").\n\t * \t@param count - Number of images to load (from 0 to count-1).\n\t * \n\t * \t!static images (id: string, path: string, count: number, frameWidth?: number, frameHeight?: number, optsA?: object, optsB?: object) : object;\n\t */\n\timages: function (id, path, count, frameWidth=null, frameHeight=null, optsA=null, optsB=null)\n\t{\n\t\tthis.__resIdMustNotExist(id);\n\t\treturn r[id] = { type: 'images', wrapper: 'Spritesheet', src: path, count: count, width: frameWidth, height: frameHeight,\n\t\t\tconfig: {\n\t\t\t\tframeWidth: frameWidth, frameHeight: frameHeight, ...optsA\n\t\t\t},\n\t\t\t...optsB\n\t\t};\n\t},\n\n\t/**\n\t * \tRegisters an spritesheet resource.\n\t * \t@param id - Resource identifier.\n\t * \t@param path - Path to the source file.\n\t * \n\t * \t!static spritesheet (id: string, path: string, frameWidth: number, frameHeight: number, numFrames?: number, optsA?: object, optsB?: object) : object;\n\t */\n\tspritesheet: function (id, path, frameWidth, frameHeight, numFrames=0, optsA=null, optsB=null)\n\t{\n\t\tthis.__resIdMustNotExist(id);\n\n\t\treturn r[id] = { type: 'image', wrapper: 'Spritesheet', src: path,\n\t\t\tconfig: {\n\t\t\t\tframeWidth: frameWidth, frameHeight: frameHeight, numFrames: numFrames, ...optsA\n\t\t\t},\n\t\t\t...optsB\n\t\t};\n\t},\n\n\t/**\n\t * \tRegisters a spritesheet animation resource.\n\t * \t@param id - Resource identifier.\n\t * \t@param path - Path to the source file.\n\t * \n\t * \t!static animation (id: string, path: string, frameWidth: number, frameHeight: number, numFrames?: number, configOptions?: object, resOptions?: object) : object;\n\t */\n\tanimation: function (id, path, frameWidth, frameHeight, numFrames=null, configOptions=null, resOptions=null)\n\t{\n\t\tthis.__resIdMustNotExist(id);\n\n\t\treturn r[id] = { type: 'image', wrapper: 'SpritesheetAnimation', src: path,\n\t\t\tconfig: {\n\t\t\t\tframeWidth: frameWidth, frameHeight: frameHeight, numFrames: numFrames, ...configOptions\n\t\t\t},\n\n\t\t\tanim: {\n\t\t\t\tdef: null, fps: 15, seq: { }, trans: { }\n\t\t\t},\n\n\t\t\t...resOptions,\n\n\t\t\tfps: function(value) {\n\t\t\t\tthis.anim.fps = value;\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\tseq: function(id, loop, group, fps=null)\n\t\t\t{\n\t\t\t\tthis.anim.seq[id] = { loop: loop, group: group };\n\n\t\t\t\tif (fps !== null)\n\t\t\t\t\tthis.anim.seq[id].fps = fps;\n\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\ttrans: function(srcSeq, dstSeq, group)\n\t\t\t{\n\t\t\t\tif (!(srcSeq in this.anim.trans))\n\t\t\t\t\tthis.anim.trans[srcSeq] = { };\n\n\t\t\t\tthis.anim.trans[srcSeq][dstSeq] = group;\n\t\t\t\treturn this;\n\t\t\t},\n\n\t\t\tdef: function(value) {\n\t\t\t\tthis.anim.def = value;\n\t\t\t\treturn this;\n\t\t\t}\n\t\t};\n\t},\n\n\t/**\n\t * \tRegisters a spritefont animation resource.\n\t * \t@param id - Resource identifier.\n\t * \t@param path - Path to the source file.\n\t * \n\t * \t!static spritefont (id: string, path: string, charWidth: number, charHeight: number, charset: string, optsA?: object, optsB?: object) : object;\n\t */\n\tspritefont: function (id, path, charWidth, charHeight, charset, optsA=null, optsB=null)\n\t{\n\t\tthis.__resIdMustNotExist(id);\n\t\t\n\t\treturn r[id] = { type: 'image', wrapper: 'SpriteFont', src: path,\n\t\t\tfont: {\n\t\t\t\tcharWidth: charWidth, charHeight: charHeight, charset: charset, ...optsA\n\t\t\t},\n\t\t\t...optsB\n\t\t};\n\t},\n\n\t/**\n\t * \tRegisters a JSON data resource.\n\t * \t@param id - Resource identifier.\n\t * \t@param path - Path to the source file.\n\t * \n\t * \t!static json (id: string, path: string, opts?: object) : object;\n\t */\n\tjson: function (id, path, opts=null)\n\t{\n\t\tthis.__resIdMustNotExist(id);\n\n\t\treturn r[id] = { type: 'json', src: path, ...opts };\n\t},\n\n\t/**\n\t * \tRegisters a binary data resource.\n\t * \t@param id - Resource identifier.\n\t * \t@param path - Path to the source file.\n\t * \n\t * \t!static data (id: string, path: string, opts?: object) : object;\n\t */\n\tdata: function (id, path, opts=null)\n\t{\n\t\tthis.__resIdMustNotExist(id);\n\n\t\treturn r[id] = { type: 'data', src: path, ...opts };\n\t},\n\n\t/**\n\t * \tRegisters a text data resource.\n\t * \t@param id - Resource identifier.\n\t * \t@param path - Path to the source file.\n\t * \n\t * \t!static text (id: string, path: string, opts?: object) : object;\n\t */\n\ttext: function (id, path, opts=null)\n\t{\n\t\tthis.__resIdMustNotExist(id);\n\n\t\treturn r[id] = { type: 'text', src: path, ...opts };\n\t},\n\n\t/**\n\t * \tRegisters a sound effect audio resource.\n\t * \t@param id - Resource identifier.\n\t * \t@param path - Path to the source file.\n\t * \n\t * \t!static sfx (id: string, path: string, opts?: object) : object;\n\t */\n\tsfx: function (id, path, opts=null)\n\t{\n\t\tthis.__resIdMustNotExist(id);\n\n\t\treturn r[id] = { type: 'audio', wrapper: 'Sound', src: path, track: 'sfx', ...opts };\n\t},\n\n\t/**\n\t * \tRegisters a multi sound effect audio resource.\n\t * \t@param id - Resource identifier.\n\t * \t@param path - Path to the source file. Ensure to add the \"#\" marks to replace the file index (i.e. \"sound-##.ogg\").\n\t * \t@param count - Number of sounds to load (from 0 to count-1).\n\t * \t@param mode - Playback mode, can be `sequential` (default) or `random`.\n\t * \n\t * \t!static sfxm (id: string, path: string, count: number, mode?: string) : object;\n\t */\n\tsfxm: function (id, path, count, mode='sequential')\n\t{\n\t\tthis.__resIdMustNotExist(id);\n\t\treturn r[id] = { type: 'audios', wrapper: 'SoundArray', src: path, count: count, track: 'sfx', mode: mode };\n\t},\n\n\t/**\n\t * \tRegisters an music audio resource.\n\t * \t@param id - Resource identifier.\n\t * \t@param path - Path to the source file.\n\t * \n\t * \t!static music (id: string, path: string) : object;\n\t */\n\tmusic: function (id, path)\n\t{\n\t\tthis.__resIdMustNotExist(id);\n\n\t\treturn r[id] = { type: 'audio', wrapper: 'Sound', src: path, track: 'music' };\n\t}\n};\n\nexport default res;\n","/*\n**\tfxl/input.js\n**\n**\tCopyright (c) 2016-2022, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport PointerHandler from '../flow/pointer-handler.js';\nimport world from './world.js';\nimport system from './system.js';\nimport Gamepad from './gamepad.js';\n\n//!namespace input\n//:[import './gamepad.js']\n//!/namespace\n\n//!class input\n\n/**\n *\tInput system allows to create gamepads and manage the system cursor.\n */\n\nconst input =\n{\n\t/**\n\t * Registered gamepads.\n\t */\n\t_gamepads: [],\n\n\t/**\n\t * Currently active gamepad.\n\t * !static activeGamepad: input.Gamepad;\n\t */\n\tactiveGamepad: null,\n\n\t/**\n\t * Last created button.\n\t * !static lastButton: Button;\n\t */\n\tlastButton: null,\n\n\t/**\n\t * Last created stick.\n\t * !static lastStick: Stick;\n\t */\n\tlastStick: null,\n\n\t/**\n\t * Cursor object, used to control the state of the single-cursor input.\n\t */\n\tcursor:\n\t{\n\t\t/**\n\t\t * Indicates if the single-cursor input has been enabled.\n\t\t */\n\t\t_enabled: null,\n\n\t\t/**\n\t\t * Handler callback for cursor events.\n\t\t */\n\t\t_handler: null,\n\n\t\t/**\n\t\t * Cursor element used when the single-cursor input is enabled.\n\t\t */\n\t\t_element: null,\n\n\t\t/**\n\t\t * Pointer state related to the cursor when single-cursor input is enabled.\n\t\t */\n\t\tpointer: null,\n\n\t\t/**\n\t\t * Returns the element used for single-cursor input.\n\t\t */\n\t\telement: function (elem=false)\n\t\t{\n\t\t\tif (elem === false)\n\t\t\t\treturn this._element;\n\n\t\t\tthis._element = elem;\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Hides or shows the native cursor.\n\t\t */\n\t\tnative: function (value)\n\t\t{\n\t\t\tif (!value && system.renderer.elem.style.cursor !== 'none')\n\t\t\t\tsystem.renderer.elem.style.cursor = 'none';\n\t\t\telse if (value && system.renderer.elem.style.cursor === 'none')\n\t\t\t\tsystem.renderer.elem.style.removeProperty('cursor');\n\t\t},\n\n\t\t/**\n\t\t * Enables or disables the single-cursor input.\n\t\t */\n\t\tenabled: function (value=null)\n\t\t{\n\t\t\tif (value === null)\n\t\t\t\treturn this._enabled;\n\n\t\t\tif (this._enabled === value)\n\t\t\t\treturn this;\n\n\t\t\tthis._enabled = value;\n\n\t\t\tif (value === true)\n\t\t\t{\n\t\t\t\tif (this._element !== null)\n\t\t\t\t\tsystem.renderer.elem.style.cursor = 'none';\n\n\t\t\t\tPointerHandler.register(this.pointerHandler);\n\t\t\t}\n\t\t\telse\n\t\t\t{\n\t\t\t\tsystem.renderer.elem.style.removeProperty('cursor');\n\t\t\t\tPointerHandler.unregister(this.pointerHandler);\n\t\t\t}\n\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Sets the callback to execute when a cursor event happens.\n\t\t * @param { (action:number, pointer:object) => void } callback\n\t\t */\n\t\thandler: function (callback)\n\t\t{\n\t\t\tthis._handler = callback;\n\t\t\treturn this;\n\t\t},\n\n\t\t/**\n\t\t * Pointer event handler for single-cursor input.\n\t\t */\n\t\tpointerHandler:\n\t\t{\n\t\t\tpriority: 50,\n\n\t\t\tonPointerEvent: function (action, pointer, pointers)\n\t\t\t{\n\t\t\t\tif (!input.cursor._enabled)\n\t\t\t\t\treturn;\n\n\t\t\t\tinput.cursor.pointer = pointer;\n\n\t\t\t\tif (input.cursor._element !== null)\n\t\t\t\t\tinput.cursor._element.setPosition(pointer.x, pointer.y);\n\n\t\t\t\tif (input.cursor._handler !== null)\n\t\t\t\t\tinput.cursor._handler (action, pointer);\n\t\t\t},\n\t\t},\n\t},\n\n\t/**\n\t * Creates a gamepad object and attaches it to the SCENE_HUD in the specified layer (defaults to LAYER_HUD_MAIN).\n\t * !static createGamepad (index: number, layerIndex?: number) : input.Gamepad;\n\t */\n\tcreateGamepad: function (index, layerIndex=null)\n\t{\n\t\tlayerIndex = layerIndex !== null ? layerIndex : world.LAYER_HUD_MAIN;\n\n\t\tworld.selectScene(world.SCENE_HUD);\n\t\tworld.selectContainer(layerIndex);\n\n\t\tthis._gamepads[index] = new Gamepad (world.activeScene, layerIndex);\n\t\tthis.selectGamepad(index);\n\n\t\treturn this.activeGamepad;\n\t},\n\n\t/**\n\t * Returns a gamepad given its index.\n\t * !static getGamepad (index: number) : input.Gamepad;\n\t */\n\tgetGamepad: function (index)\n\t{\n\t\tif (index < 0 || index >= this._gamepads.length)\n\t\t\treturn null;\n\n\t\treturn this._gamepads[index] || null;\n\t},\n\n\t/**\n\t * Selects the active gamepad for subsequent gamepad-level operations.\n\t * !static selectGamepad (index: number) : boolean;\n\t */\n\tselectGamepad: function (index)\n\t{\n\t\tthis.activeGamepad = this.getGamepad(index);\n\t\treturn true;\n\t},\n\n\t/**\n\t * Sets the value of `debugBounds` on the specified gamepad. If index is `null`, all gamepads will be selected.\n\t * !static debugGamepad (index: number, value: boolean) : void;\n\t */\n\tdebugGamepad: function (index, value)\n\t{\n\t\tif (index === null)\n\t\t{\n\t\t\tfor (let i = 0; i < this._gamepads.length; i++)\n\t\t\t{\n\t\t\t\tif (!this._gamepads[i])\n\t\t\t\t\tcontinue;\n\n\t\t\t\tthis.debugGamepad(i, value);\n\t\t\t}\n\n\t\t\treturn;\n\t\t}\n\n\t\tthis._gamepads[index].debug(value);\n\t},\n\n\t/**\n\t * Adds an stick control to the active gamepad.\n\t * !static stick (id: string, x: number, y: number, outerDrawable: Drawable, innerDrawable: Drawable, maxRadius?: number|0) : Stick;\n\t */\n\tstick: function (id, x, y, outerDrawable, innerDrawable, maxRadius=0)\n\t{\n\t\tif (this.activeGamepad === null)\n\t\t\tthrow new Error ('input.addStick: use input.selectGamepad first to select the active gamepad.');\n\n\t\treturn this.lastStick = this.activeGamepad.addStick (id, x, y, outerDrawable, innerDrawable, maxRadius);\n\t},\n\n\t/**\n\t * Adds a button control to the active gamepad.\n\t * !static button (id: string, x: number, y: number, unpressedDrawable?: Drawable|null, pressedDrawable?: Drawable|null) : Button;\n\t */\n\tbutton: function (id, x, y, unpressedDrawable=null, pressedDrawable=null)\n\t{\n\t\tif (this.activeGamepad === null)\n\t\t\tthrow new Error ('input.addButton: use input.selectGamepad first to select the active gamepad.');\n\n\t\treturn this.lastButton = this.activeGamepad.addButton (id, x, y, unpressedDrawable, pressedDrawable);\n\t}\n};\n\n//!/class\n\nexport default input;\n","/*\n**\tfxl/gamepad.js\n**\n**\tCopyright (c) 2016-2022, RedStar Technologies, All rights reserved.\n**\thttps://rsthn.com/\n**\n**\tTHIS LIBRARY IS PROVIDED BY REDSTAR TECHNOLOGIES \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES,\n**\tINCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A \n**\tPARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL REDSTAR TECHNOLOGIES BE LIABLE FOR ANY\n**\tDIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT \n**\tNOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; \n**\tOR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, \n**\tSTRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE\n**\tUSE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n*/\n\nimport { Class } from 'rinn';\nimport Stick from '../flow/stick.js';\nimport Button from '../flow/button.js';\n\n//![import '../flow/stick.js']\n//![import '../flow/button.js']\n\n/**\n * Gamepads are input objects that allow sticks and buttons to be added to it.\n */\n\n//!class Gamepad\n\nconst Gamepad = Class.extend\n({\n\t/**\n\t * Contains the sticks of the gamepad.\n\t * !readonly sticks: { \\[key:string\\]: Stick };\n\t */\n\tsticks: null,\n\n\t/**\n\t * Contains the buttons of the gamepad.\n\t * !readonly buttons: { \\[key:string\\]: Button };\n\t */\n\tbuttons: null,\n\n\t/**\n\t * World scene where the container is defined.\n\t */\n\tscene: null,\n\n\t/**\n\t * Container where the gamepad controls will be created.\n\t */\n\tcontainer: null,\n\n\t/**\n\t * Indicates the visible state of the gamepad.\n\t */\n\t_visible: true,\n\n\t/**\n\t * Constructs a new gamepad object.\n\t * !constructor (scene: Scene, containerIndex: number);\n\t */\n\t__ctor: function(scene, containerIndex)\n\t{\n\t\tthis.sticks = { };\n\t\tthis.buttons = { };\n\n\t\tthis.scene = scene;\n\t\tthis.layer = scene.getContainer(containerIndex);\n\t},\n\n\t/**\n\t * Creates a new stick control and adds it to the gamepad.\n\t * !addStick (id: string, x: number, y: number, outerDrawable: Drawable, innerDrawable: Drawable, maxRadius?: number|0) : Stick;\n\t */\n\taddStick: function (id, x, y, outerDrawable, innerDrawable, maxRadius=0)\n\t{\n\t\tif (maxRadius == 0)\n\t\t\tmaxRadius = outerDrawable.width - innerDrawable.width;\n\n\t\tlet stick = new Stick (this.layer, x, y, maxRadius, outerDrawable, innerDrawable);\n\n\t\tthis.sticks[id] = stick;\n\t\tthis[id] = stick;\n\n\t\treturn stick;\n\t},\n\n\t/**\n\t * Creates a new button control and adds it to the gamepad.\n\t * !addButton (id: string, x: number, y: number, unpressedDrawable?: Drawable|null, pressedDrawable?: Drawable|null) : Button;\n\t */\n\taddButton: function (id, x, y, unpressedDrawable=null, pressedDrawable=null)\n\t{\n\t\tlet button = new Button (this.layer, x, y, unpressedDrawable, pressedDrawable);\n\n\t\tthis.buttons[id] = button;\n\t\tthis[id] = button;\n\n\t\treturn button;\n\t},\n\n\t/**\n\t * Returns the `visible` property of the gamepad.\n\t * !visible() : boolean;\n\t */\n\t/**\n\t * Sets the `visible` property of the gamepad.\n\t * !visible (value: boolean) : Gamepad;\n\t */\n\tvisible: function (value=null)\n\t{\n\t\tif (value === null)\n\t\t\treturn this._visible;\n\n\t\tthis._visible = value;\n\n\t\tfor (let i in this.sticks)\n\t\t\tthis.sticks[i].visible(value);\n\n\t\tfor (let i in this.buttons)\n\t\t\tthis.buttons[i].visible(value);\n\n\t\treturn this;\n\t},\n\n\t/**\n\t * Sets the `visible` property of all masks to the specified value.\n\t * !showMasks (value: boolean) : Gamepad;\n\t */\n\tshowMasks: function (value)\n\t{\n\t\tfor (let i in this.sticks)\n\t\t\tthis.sticks[i].hitbox.visible(value, true);\n\n\t\tfor (let i in this.buttons)\n\t\t\tthis.buttons[i].hitbox.visible(value, true);\n\n\t\treturn this;\n\t}\n});\n\n//!/class\n\nexport default Gamepad;\n","\nimport Bounds2 from '../math/bounds2.js';\nimport GridElement from '../flow/grid-element.js';\nimport Handler from '../utils/handler.js';\n\nimport world from './world.js';\n\n/**\n * \tMask used to isolate the super-type of a type.\n */\nconst SUPER_TYPE_MASK = 0xFFFFF000;\n\n/**\n * \tThe collider system is responsible of detecting collisions and performing the respective actions.\n */\n\n//!class collider\n\nconst collider =\n{\n\t/**\n\t * \tFlag used to exclude from collision checks.\n\t *\t!static readonly FLAG_EXCLUDE: number;\n\t */\n\tFLAG_EXCLUDE: GridElement.allocFlag(),\n\n\t/**\n\t * \tContact rules, define what to do when certain types of elements are in contact.\n\t */\n\tcontactRules: { },\n\n\t/**\n\t * \tTruncation rules, indicate which type of elements are not allowed to penetrate each other.\n\t */\n\ttruncationRules: { },\n\n\t/**\n\t *\tScene where the mask layer is contained.\n\t */\n\tscene: null,\n\n\t/**\n\t *\tLayer containing the element masks.\n\t */\n\tmaskLayer: null,\n\n\t/**\n\t *\tFirst updater.\n\t *\t!static fupdater: Handler;\n\t */\n\tfupdater: null,\n\n\t/**\n\t *\tLast updater.\n\t *\t!static lupdater: Handler;\n\t */\n\tlupdater: null,\n\n\t/**\n\t *\tFlags used to filter elements.\n\t *\t!static flagsAnd: number;\n\t *\t!static flagsValue: number;\n\t */\n\tflagsAnd: 0,\n\tflagsValue: 0,\n\n\t/**\n\t *\tCurrent collider state fields.\n\t *\t!static state: {\n\t */\n\tstate:\n\t{\n\t\t/**\n\t\t * \tContact area.\n\t\t *\t!contact: Bounds2;\n\t\t */\n\t\tcontact: Bounds2.Pool.alloc(),\n\n\t\t/**\n\t\t * \tContact flags.\n\t\t * \t!flags: collider.Contact;\n\t\t */\n\t\tflags: 0,\n\n\t\t/**\n\t\t * \tFinal delta value for X-coordinate calculated by `translate`.\n\t\t *\t!dx: number;\n\t\t */\n\t\tdx: 0,\n\n\t\t/**\n\t\t * \tFinal delta value for Y-coordinate calculated by `translate`.\n\t\t *\t!dy: number;\n\t\t */\n\t\tdy: 0,\n\n\t\tbounds: Bounds2.Pool.alloc(),\n\n\t\tx: new Array(32).fill(0),\n\t\ty: new Array(32).fill(0),\n\t\tv0x: new Array(32).fill(0),\n\t\tv0y: new Array(32).fill(0),\n\t\tv1x: new Array(32).fill(0),\n\t\tv1y: new Array(32).fill(0),\n\t\tv2x: new Array(32).fill(0),\n\t\tv2y: new Array(32).fill(0),\n\n\t\tcount: 0,\n\t\ttarget: 0,\n\n\t\tv0: 0, w0: 0, delta0: 0,\n\t\tv1: 0, w1: 0, delta1: 0,\n\n\t\tw2: 0,\n\t\tt_dx: 0,\n\t\tt_dy: 0,\n\t},\n\t//:}\n\n\t/**\n\t *\tEnables the collider system on the specified scene and layer.\n\t * \t@param sceneIndex - Scene to attach the collider updater methods. Uses world.SCENE_MAIN if none specified.\n\t * \t@param layerIndex - Index within the scene of the layer where element masks are stored. Uses world.LAYER_MASK if none specified.\n\t * \t!static enable (sceneIndex?: number, layerIndex?: number) : void;\n\t */\n\tenable: function (sceneIndex=null, layerIndex=null)\n\t{\n\t\tthis.scene = world.getScene(sceneIndex || world.SCENE_MAIN);\n\t\tthis.maskLayer = this.scene.getContainer(layerIndex || world.LAYER_MASK);\n\n\t\tthis.flagsAnd = GridElement.ALIVE | GridElement.VISIBLE | collider.FLAG_EXCLUDE;\n\t\tthis.flagsValue = GridElement.ALIVE | GridElement.VISIBLE;\n\n\t\tthis.scene.fupdater.add(this.firstUpdate, this);\n\t\tthis.scene.lupdater.add(this.lastUpdate, this);\n\n\t\tthis.fupdater = Handler.Pool.alloc(this);\n\t\tthis.lupdater = Handler.Pool.alloc(this);\n\t},\n\n\t/**\n\t *\tDisables the collider system.\n\t *\t!static disable() : void;\n\t */\n\tdisable: function()\n\t{\n\t\tthis.scene.fupdater.remove(this.update, this);\n\t\tthis.maskLayer = null;\n\n\t\tthis.fupdater.free();\n\t\tthis.lupdater.free();\n\t},\n\n\t/**\n\t * \tRuns a first update cycle `fupdater` will be executed.\n\t */\n\tfirstUpdate: function(scene, self)\n\t{\n\t\tself.fupdater.exec();\n\t},\n\n\t/**\n\t * \tRuns a last update cycle `lupdater` will be executed.\n\t */\n\tlastUpdate: function(scene, self)\n\t{\n\t\tself.lupdater.exec();\n\t},\n\n\t/**\n\t * \tUtility object containing actions that are executed later on the next update cycle.\n\t * \t!static later: {\n\t */\n\tlater:\n\t{\n\t\t/**\n\t\t *\tRuns the specified callback.\n\t\t *\t!run (elem: Element, callback: Function, arg1?: any, arg2?: any, arg3?: any) : void;\n\t\t */\n\t\trun: function (elem, callback, arg1, arg2, arg3)\n\t\t{\n\t\t\tcollider.fupdater.add(this._run, elem, callback, arg1, arg2, arg3);\n\t\t},\n\n\t\t/**\n\t\t *\tSets the element's visibility flag.\n\t\t * \t!setVisible (elem: Element, value: boolean) : void;\n\t\t */\n\t\tsetVisible: function (elem, value)\n\t\t{\n\t\t\tcollider.fupdater.add(this._setVisible, elem, value);\n\t\t},\n\n\t\t/**\n\t\t *\tSets an attribute of an object to a given value.\n\t\t * \t!setValue (obj: Object, name: string, value: any) : void;\n\t\t */\n\t\tsetValue: function (obj, name, value)\n\t\t{\n\t\t\tcollider.fupdater.add(this._setValue, obj, name, value);\n\t\t},\n\n\t\t/**\n\t\t *\tSets the element's flags.\n\t\t *\t!setFlags (elem: Element, value: number) : void;\n\t\t */\n\t\tsetFlags: function (elem, value)\n\t\t{\n\t\t\tcollider.fupdater.add(this._setFlags, elem, value);\n\t\t},\n\n\t\t/**\n\t\t *\tClears the element's flags.\n\t\t * \t!clearFlags (elem: Element, value: number) : void;\n\t\t */\n\t\tclearFlags: function (elem, value)\n\t\t{\n\t\t\tcollider.fupdater.add(this._clearFlags, elem, value);\n\t\t},\n\n\t\t/* ******* */\n\n\t\t_run: function (host, elem, callback, arg1, arg2, arg3)\n\t\t{\n\t\t\tcallback (host, elem, arg1, arg2, arg3);\n\t\t\treturn false;\n\t\t},\n\n\t\t_setVisible: function (host, elem, value)\n\t\t{\n\t\t\telem.visible(value);\n\t\t\treturn false;\n\t\t},\n\n\t\t_setValue: function (host, obj, name, value)\n\t\t{\n\t\t\tobj[name] = value;\n\t\t\treturn false;\n\t\t},\n\n\t\t_setFlags: function (host, elem, value)\n\t\t{\n\t\t\telem.setFlags(value);\n\t\t\treturn false;\n\t\t},\n\n\t\t_clearFlags: function (host, elem, value)\n\t\t{\n\t\t\telem.clearFlags(value);\n\t\t\treturn false;\n\t\t}\n\t},\n\t//!}\n\n\t/**\n\t * \tAdds a contact rule.\n\t * \t@param primaryType - Type of the primary element.\n\t * \t@param secondaryType - Type of the secondary element.\n\t * \t@param callback - Callback to execute when contact is detected.\n\t * \t@param context - Optional value passed as last parameter to the callback.\n\t * \t!static contact (primaryType: number, secondaryType: number, callback: (primary: Mask, secondary: Mask, context?: any) => void, context?: any) : collider;\n\t */\n\tcontact: function (primaryType, secondaryType, callback, context=null)\n\t{\n\t\tif (!(primaryType in this.contactRules))\n\t\t\tthis.contactRules[primaryType] = { };\n\n\t\tthis.contactRules[primaryType][secondaryType] = { callback: callback, context: context };\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tAdds a truncation rule.\n\t * \t@param primaryType - Type or super-type of the primary element.\n\t * \t@param secondaryType - Type or super-type of the secondary element.\n\t * \t@param callback - Returns boolean indicating if the truncation rule should be applied.\n\t * \t@param context - Optional value passed as last parameter to the callback.\n\t * \t:static truncate (primaryType: number, secondaryType: number, callback?: (primary: Mask, secondary: Mask, context?: any) => void, context?: any) : collider;\n\t */\n\t/**\n\t * \tAdds a truncation rule.\n\t * \t@param primaryType - Type or super-type of the primary element.\n\t * \t@param secondaryType - Type or super-type of the secondary element.\n\t * \t@param value - Indicates the status of the truncation rule.\n\t * \t!static truncate (primaryType: number, secondaryType: number, value: boolean) : collider;\n\t */\n\ttruncate: function (primaryType, secondaryType, callback=null, context=null)\n\t{\n\t\tif (!(primaryType in this.truncationRules))\n\t\t\tthis.truncationRules[primaryType] = { };\n\n\t\tthis.truncationRules[primaryType][secondaryType] = { callback: callback, context: context };\n\t\treturn this;\n\t},\n\n\t/**\n\t * \tLoads the contact flags in the collider state.\n\t *\t!static getContactFlags (boundsA: Bounds2, boundsB: Bounds2) : number;\n\t */\n\tgetContactFlags: function (boundsA, boundsB)\n\t{\n\t\tthis.state.contact.set(boundsA).setAsIntersection(boundsB);\n\t\tlet contact = this.state.contact;\n\n\t\tthis.state.flags = 0;\n\t\tthis.state.numFlags = 0;\n\n\t\tif (contact.x1 == boundsB.x1)\n\t\t{\n\t\t\tthis.state.flags |= collider.Contact.LEFT; // LEFT\n\t\t\tthis.state.numFlags++;\n\t\t}\n\n\t\tif (contact.x2 == boundsB.x2)\n\t\t{\n\t\t\tthis.state.flags |= collider.Contact.RIGHT; // RIGHT\n\t\t\tthis.state.numFlags++;\n\t\t}\n\n\t\tif (contact.y1 == boundsB.y1)\n\t\t{\n\t\t\tthis.state.flags |= collider.Contact.TOP; // TOP\n\t\t\tthis.state.numFlags++;\n\t\t}\n\n\t\tif (contact.y2 == boundsB.y2)\n\t\t{\n\t\t\tthis.state.flags |= collider.Contact.BOTTOM; // BOTTOM\n\t\t\tthis.state.numFlags++;\n\t\t}\n\n\t\treturn this.state.flags;\n\t},\n\n\tcalc: function (store0, sign, a, v0a, v1a, v1b)\n\t{\n\t\tlet n = this.state.count;\n\t\tlet delta = null;\n\t\tlet v = 0;\n\n\t\tif (sign > 0)\n\t\t{\n\t\t\tfor (let i = 0; i < n; i++)\n\t\t\t{\n\t\t\t\tif (!v0a[i] || !v1a[i] || a[i] < 0) continue;\n\n\t\t\t\tif (delta === null || a[i] > delta)\n\t\t\t\t\tdelta = a[i];\n\n\t\t\t\tv1a[i] = v1b[i] = 0;\n\t\t\t\tv += v0a[i];\n\t\t\t}\n\t\t}\n\t\telse\n\t\t{\n\t\t\tfor (let i = 0; i < n; i++)\n\t\t\t{\n\t\t\t\tif (!v0a[i] || !v1a[i] || a[i] > 0) continue;\n\n\t\t\t\tif (delta === null || a[i] < delta)\n\t\t\t\t\tdelta = a[i];\n\n\t\t\t\tv1a[i] = v1b[i] = 0;\n\t\t\t\tv += v0a[i];\n\t\t\t}\n\t\t}\n\n\t\tif (delta === null)\n\t\t\tdelta = 0;\n\n\t\tif (store0) {\n\t\t\tthis.state.v0 = v;\n\t\t\tthis.state.w0 = Math.abs(delta);\n\t\t\tthis.state.delta0 = delta;\n\t\t} else {\n\t\t\tthis.state.v1 = v;\n\t\t\tthis.state.w1 = Math.abs(delta);\n\t\t\tthis.state.delta1 = delta;\n\t\t}\n\t},\n\n\tattemptSelect: function (swapped)\n\t{\n\t\tif (this.state.v1 + this.state.v0 === this.state.target)\n\t\t{\n\t\t\tif (this.state.w2 === null || this.state.w1 + this.state.w0 < this.state.w2)\n\t\t\t{\n\t\t\t\tthis.state.w2 = this.state.w1 + this.state.w0;\n\n\t\t\t\tif (!swapped) {\n\t\t\t\t\tthis.state.t_dx = this.state.delta1;\n\t\t\t\t\tthis.state.t_dy = this.state.delta0;\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.state.t_dx = this.state.delta0;\n\t\t\t\t\tthis.state.t_dy = this.state.delta1;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\n\tload0: function()\n\t{\n\t\tlet n = this.state.count;\n\n\t\tfor (let i = 0; i < n; i++)\n\t\t{\n\t\t\tthis.state.v1x[i] = this.state.v0x[i];\n\t\t\tthis.state.v1y[i] = this.state.v0y[i];\n\t\t}\n\t},\n\n\tsave1: function()\n\t{\n\t\tlet n = this.state.count;\n\n\t\tfor (let i = 0; i < n; i++)\n\t\t{\n\t\t\tthis.state.v2x[i] = this.state.v1x[i];\n\t\t\tthis.state.v2y[i] = this.state.v1y[i];\n\t\t}\n\t},\n\n\tload1: function()\n\t{\n\t\tlet n = this.state.count;\n\n\t\tfor (let i = 0; i < n; i++)\n\t\t{\n\t\t\tthis.state.v1x[i] = this.state.v2x[i];\n\t\t\tthis.state.v1y[i] = this.state.v2y[i];\n\t\t}\n\t},\n\n\tresolveXpos: function (single=false)\n\t{\n\t\tthis.calc (single, 1, this.state.x, this.state.v0x, this.state.v1x, this.state.v1y);\n\t\tif (single) return true;\n\n\t\tthis.save1();\n\t\tif (this.resolveYpos(true)) this.attemptSelect(false);\n\n\t\tthis.load1();\n\t\tif (this.resolveYneg(true)) this.attemptSelect(false);\n\n\t\tthis.load0();\n\t},\n\n\tresolveXneg: function (single=false)\n\t{\n\t\tthis.calc (single, -1, this.state.x, this.state.v0x, this.state.v1x, this.state.v1y);\n\t\tif (single) return true;\n\n\t\tthis.save1();\n\t\tif (this.resolveYpos(true)) this.attemptSelect(false);\n\n\t\tthis.load1();\n\t\tif (this.resolveYneg(true)) this.attemptSelect(false);\n\n\t\tthis.load0();\n\t},\n\n\tresolveYpos: function (single=false)\n\t{\n\t\tthis.calc (single, 1, this.state.y, this.state.v0y, this.state.v1y, this.state.v1x);\n\t\tif (single) return true;\n\n\t\tthis.save1();\n\t\tif (this.resolveXpos(true)) this.attemptSelect(true);\n\n\t\tthis.load1();\n\t\tif (this.resolveXneg(true)) this.attemptSelect(true);\n\n\t\tthis.load0();\n\t},\n\n\tresolveYneg: function (single=false)\n\t{\n\t\tthis.calc (single, -1, this.state.y, this.state.v0y, this.state.v1y, this.state.v1x);\n\t\tif (single) return true;\n\n\t\tthis.save1();\n\t\tif (this.resolveXpos(true)) this.attemptSelect(true);\n\n\t\tthis.load1();\n\t\tif (this.resolveXneg(true)) this.attemptSelect(true);\n\n\t\tthis.load0();\n\t},\n\n\t/**\n\t * \tCompletes the translation on the current group.\n\t */\n\tcommit: function ()\n\t{\n\t\tif (!this.state.group.alive())\n\t\t\treturn;\n\n\t\tthis.state.group.translate (this.state.dx, this.state.dy);\n\t\tthis.state.group.clearFlags (collider.FLAG_EXCLUDE);\n\t},\n\n\t/**\n\t * \tAttempts to move the specified group by the given deltas. Any collisions detected on the mask will trigger the respective actions.\n\t * \t@param mask - Mask element.\n\t * \t@param dx - X delta value.\n\t * \t@param dy - Y delta value.\n\t * \t!static translate (mask: Mask, dx: number, dy: number) : void;\n\t */\n\t/**\n\t * \tAttempts to move the specified group by the given deltas. Any collisions detected on the mask will trigger the respective actions.\n\t * \t@param mask - Mask element.\n\t * \t@param group - Group where the mask is stored.\n\t * \t@param dx - X delta value.\n\t * \t@param dy - Y delta value.\n\t * \t!static translate (mask: Mask, group: Group, dx: number, dy: number) : void;\n\t */\n\ttranslate: function (mask, group=null, dx=0, dy=0)\n\t{\n\t\tif (typeof(group) === 'number')\n\t\t{\n\t\t\tdy = dx;\n\t\t\tdx = group;\n\t\t\tgroup = null;\n\t\t}\n\n\t\tif (!mask) return;\n\n\t\tif (!group) group = mask.group;\n\n\t\tif (!group.alive() || !mask.alive())\n\t\t\treturn;\n\n\t\tthis.state.mask = mask;\n\t\tthis.state.group = group;\n\n\t\tthis.state.dx = downscalef(upscale(dx));\n\t\tthis.state.dy = downscalef(upscale(dy));\n\n\t\tif (!this.maskLayer || !mask.visible())\n\t\t\treturn this.commit();\n\n\t\tlet truncationRules = this.truncationRules[mask.type];\n\t\tif (!truncationRules)\n\t\t{\n\t\t\ttruncationRules = this.truncationRules[mask.type & SUPER_TYPE_MASK];\n\t\t\tif (!truncationRules)\n\t\t\t{\n\t\t\t\tthis.commit();\n\t\t\t\treturn this.scan(mask, group);\n\t\t\t}\n\t\t}\n\n\t\tthis.state.offs = group.getOffsets(this.state.dx, this.state.dy);\n\t\tthis.state.bounds.set(mask.bounds).translate(this.state.offs.x+this.state.dx, this.state.offs.y+this.state.dy);\n\n\t\tgroup.setFlags (collider.FLAG_EXCLUDE);\n\n\t\tlet collisionItems = this.maskLayer.selectInRegion(this.state.bounds, this.flagsAnd, this.flagsValue);\n\t\tif (collisionItems.length === 0)\n\t\t{\n\t\t\tcollisionItems.free();\n\t\t\treturn this.commit();\n\t\t}\n\n\t\tlet n = 0;\n\t\tlet v = 0;\n\n\t\twhile (true)\n\t\t{\n\t\t\tlet item = collisionItems.shift();\n\t\t\tif (item === null) break;\n\n\t\t\tlet allowsTruncation = truncationRules[item.type];\n\t\t\tif (!allowsTruncation)\n\t\t\t{\n\t\t\t\tallowsTruncation = truncationRules[item.type & SUPER_TYPE_MASK];\n\t\t\t\tif (!allowsTruncation) continue;\n\t\t\t}\n\n\t\t\tif (allowsTruncation.callback === false || (allowsTruncation.callback !== null && allowsTruncation.callback !== true && !allowsTruncation.callback(mask, item, allowsTruncation.context)))\n\t\t\t\tcontinue;\n\n\t\t\tlet width = Math.min(this.state.bounds.x2, item.bounds.x2) - Math.max(this.state.bounds.x1, item.bounds.x1);\n\t\t\tlet height = Math.min(this.state.bounds.y2, item.bounds.y2) - Math.max(this.state.bounds.y1, item.bounds.y1);\n\n\t\t\tthis.state.v0x[n] = 0;\n\t\t\tthis.state.v0y[n] = 0;\n\n\t\t\tif (Math.min(this.state.bounds.width(), item.bounds.width()) != width) {\n\t\t\t\tthis.state.x[n] = absmin(this.state.bounds.x2 - item.bounds.x1, this.state.bounds.x1 - item.bounds.x2);\n\t\t\t\tthis.state.v0x[n] = 1;\n\t\t\t}\n\n\t\t\tif (Math.min(this.state.bounds.height(), item.bounds.height()) != height) {\n\t\t\t\tthis.state.y[n] = absmin(this.state.bounds.y2 - item.bounds.y1, this.state.bounds.y1 - item.bounds.y2);\n\t\t\t\tthis.state.v0y[n] = 1;\n\t\t\t}\n\n\t\t\tlet sv = this.state.v0x[n] + this.state.v0y[n];\n\t\t\tv += sv;\n\n\t\t\tif (sv > 1) {\n\t\t\t\tthis.state.v0x[n] = sv;\n\t\t\t\tthis.state.v0y[n] = sv;\n\t\t\t}\n\n\t\t\tthis.state.v1x[n] = this.state.v0x[n];\n\t\t\tthis.state.v1y[n] = this.state.v0y[n];\n\n\t\t\tn++;\n\t\t}\n\n\t\tcollisionItems.free();\n\n\t\tif (v == 0)\n\t\t{\n\t\t\tthis.commit();\n\t\t\treturn this.scan(mask, group);\n\t\t}\n\n\t\tthis.state.target = v;\n\t\tthis.state.count = n;\n\t\tthis.state.w2 = null;\n\n\t\tthis.resolveXpos();\n\t\tthis.resolveXneg();\n\t\tthis.resolveYpos();\n\t\tthis.resolveYneg();\n\n\t\tif (this.state.w2 !== null)\n\t\t{\n\t\t\tlet contactRules = this.contactRules[mask.type];\n\t\t\tif (!contactRules) contactRules = this.contactRules[mask.type & SUPER_TYPE_MASK];\n\n\t\t\tif (contactRules)\n\t\t\t{\n\t\t\t\tthis.state.bounds.set(mask.bounds).translate(this.state.offs.x+this.state.dx-this.state.t_dx*0.5, this.state.offs.y+this.state.dy-this.state.t_dy*0.5);\n\n\t\t\t\tcollisionItems = this.maskLayer.selectInRegion(this.state.bounds, this.flagsAnd, this.flagsValue);\n\n\t\t\t\twhile (mask.alive())\n\t\t\t\t{\n\t\t\t\t\tlet item = collisionItems.shift();\n\t\t\t\t\tif (item === null) break;\n\n\t\t\t\t\tif (!item.alive())\n\t\t\t\t\t\tcontinue;\n\t\t\n\t\t\t\t\tlet contact = contactRules[item.type];\n\t\t\t\t\tif (!contact)\n\t\t\t\t\t{\n\t\t\t\t\t\tcontact = contactRules[item.type & SUPER_TYPE_MASK];\n\t\t\t\t\t\tif (!contact) continue;\n\t\t\t\t\t}\n\n\t\t\t\t\tcontact.callback (mask, item, contact.context);\n\t\t\t\t}\n\n\t\t\t\tcollisionItems.free();\n\t\t\t}\n\n\t\t\tthis.state.dx -= this.state.t_dx;\n\t\t\tthis.state.dy -= this.state.t_dy;\n\t\t}\n\n\t\tthis.commit();\n\t},\n\n\t/**\n\t *\tScans for collisions against the specified mask.\n\t * \t@param mask - Mask element.\n\t * \t!static scan (mask: Mask) : void;\n\t */\n\t/**\n\t *\tScans for collisions against the specified mask.\n\t * \t@param mask - Mask element.\n\t * \t@param group - Group where the mask is stored.\n\t * \t!static scan (mask: Mask, group: Group) : void;\n\t */\n\tscan: function (mask, group=null)\n\t{\n\t\tif (!group) group = mask.group;\n\n\t\tif (!group || !group.alive() || !mask.alive())\n\t\t\treturn;\n\n\t\tthis.state.mask = mask;\n\t\tthis.state.group = group;\n\n\t\tif (!this.maskLayer || !mask.visible())\n\t\t\treturn;\n\n\t\tlet contactRules = this.contactRules[mask.type];\n\t\tif (!contactRules) contactRules = this.contactRules[mask.type & SUPER_TYPE_MASK];\n\t\tif (!contactRules) return;\n\t\n\t\tgroup.setFlags (collider.FLAG_EXCLUDE);\n\t\tlet collisionItems = this.maskLayer.selectInRegion(mask.bounds, this.flagsAnd, this.flagsValue);\n\t\tgroup.clearFlags (collider.FLAG_EXCLUDE);\n\n\t\twhile (mask.alive())\n\t\t{\n\t\t\tlet item = collisionItems.shift();\n\t\t\tif (item === null) break;\n\n\t\t\tif (!item.alive())\n\t\t\t\tcontinue;\n\n\t\t\tlet contact = contactRules[item.type];\n\t\t\tif (!contact)\n\t\t\t{\n\t\t\t\tcontact = contactRules[item.type & SUPER_TYPE_MASK];\n\t\t\t\tif (!contact) continue;\n\t\t\t}\n\n\t\t\tcontact.callback (mask, item, contact.context);\n\t\t}\n\n\t\tcollisionItems.free();\n\t}\n};\n\n/**\n * \tContact flag bits.\n */\n\n//!/class\n\n//!namespace collider\n//!enum Contact\n\ncollider.Contact = {\n\t//!LEFT\n\tLEFT: 1,\n\t//!RIGHT\n\tRIGHT: 2,\n\t//!HORIZONTAL\n\tHORIZONTAL: 1|2,\n\t//!TOP\n\tTOP: 4,\n\t//!BOTTOM\n\tBOTTOM: 8,\n\t//!VERTICAL\n\tVERTICAL: 4|8,\n};\n\n//!/enum\n//!/namespace\n\nexport default collider;\n"],"names":["$6927c693ce3dd189$export$2e2bcd8739ae039","_getref","value","obj","substr","get","eval","type","model","ctval","name","parseInt","isNaN","Error","parseFloat","toString","$0bc52734b49fc041$export$2e2bcd8739ae039","typeOf","mclass","this","ensure","cls","ensureTypeOf","arrayof","i","length","arraynull","remove","splice","arraycompliant","isCompliant","required","minlen","maxlen","minval","maxval","mincount","maxcount","pattern","$8ogo9","default","test","inset","RegExp","indexOf","join","upper","toUpperCase","lower","toLowerCase","$0bc52734b49fc041$var$Rinn","invokeLater","fn","setTimeout","wait","millis","Promise","resolve","reject","o","Array","isArrayOrObject","clone","elem","push","merge","output","objs","arr","j","i1","field","override","partialCompare","full","partial","arrayFind","getObject","isInstanceOf","_class","$61bd470777f72c71$export$2e2bcd8739ae039","email","url","urlNoProt","uname","text","utext","$8651ccc8e7e5ec23$var$Class","_super","prototype","className","__ctor","__dtor","__proto__","hasOwnProperty","instanceOf","object","_initSuperRefs","constructor","_newSuper","self","_prot","a00","a01","a02","a03","a04","a05","a06","a07","a08","a09","a0A","call","$8651ccc8e7e5ec23$export$2e2bcd8739ae039","extend","source","ret","list","eventName","eventArgs","cbHandler","cbContext","next","_async","listeners","namespace","handler","context","data","split","ns","k","$4d78f9734f64a4b0$var$_Model","$cb9168e99253fb00$export$2e2bcd8739ae039","defaults","constraints","changedList","_silent","_level","EventDispatcher","reset","def","undefined","init","set","update","ready","nsilent","silent","_validate","nvalue","ctname","Constraints","e","message","_set","dispatchEvent","constraint","_propertyEvent","prev","direct","temp","old","level","evt","n","arguments","force","fields","has","flatten","getInt","getFloat","getBool","getReference","m","safe","rsafe","classPath","keys","ct","validate","observe","property","addEventListener","unobserve","removeEventListener","watch","args","unwatch","serialize","$91JQY","$4d78f9734f64a4b0$export$2e2bcd8739ae039","$e1ecb91f5a3e913e$export$2e2bcd8739ae039","itemt","contents","itemId","nextId","Model","_eventGroup","Date","now","_bind","iid","item","_onItemEvent","_unbind","prepareEvent","id","from","enqueue","resume","clear","setData","getData","getAt","index","removeAt","setAt","updateAt","position","pop","unshift","shift","find","retObject","proto","unflatten","tmp","$ab6fe0a06ccbea8c$var$Schema","Type","precision","_precision","Math","pow","compact","_compact","strings","type1","itemType","v","_debug","callback","_filter","async","defvalue","properties","symbolic","classConstructor1","classConstructor","_constructor","name1","type2","conditions","val","$65a911499be22e32$export$2e2bcd8739ae039","itemTypeSchema","typeSchema","$ab6fe0a06ccbea8c$export$2e2bcd8739ae039","Property","is","of","items","add","itemsReferenceChanged","onItemRemoved","desc","sort","a","b","inc","exc","isEmpty","relative","onBeforeItemAdded","concat","onItemAdded","addAt","$87679206ec041316$var$Template","strict","parseTemplate","template","sym_open","sym_close","is_tpl","root","nflush","flush","state","count","str","parts","mparts","nparts","emit","trim","map","i2","match","unescape","r","parse","clean","expand","mode","s","escape","quote","last","first","functions","failed","replace","f","compile","register","getNamedValues","expanded","key","startsWith","endsWith","global","globalThis","null","true","false","len","int","float","chr","String","fromCharCode","ord","charCodeAt","not","neg","abs","and","or","eq","ne","lt","le","gt","ge","isnotnull","isnull","iszero","typeof","x","mul","div","sum","sub","mod","dump","JSON","stringify","ref","_unset","start","nl2br","attr","Object","values","_each","var_name","_foreach","_if","_switch","case_value","_break","_continue","_repeat","to","step","tpl","_for","_loop","_echo","console","log","contains","err","_map","arrayMode","_call","i3","$87679206ec041316$export$2e2bcd8739ae039","$07eb01cb16db42c1$export$eefcfe56efaaa57d","$07eb01cb16db42c1$export$4c85e640eb41c31b","$07eb01cb16db42c1$export$d61e24a684f9e51","$b6677aaba4a0e4e9$export$2e2bcd8739ae039","$07eb01cb16db42c1$export$ec8b666c5fe2c75a","$07eb01cb16db42c1$export$a1edc412be3e1841","$07eb01cb16db42c1$export$59eced47f477f85a","$07eb01cb16db42c1$export$19342e026b58ebb7","$07eb01cb16db42c1$export$3a9581c9ade29768","$07eb01cb16db42c1$export$fb8073518f34e6ec","$ac94ca3ce7f52d5a$export$2e2bcd8739ae039","$07eb01cb16db42c1$export$14416b8d99d47caa"],"version":3,"file":"froxel.js.map","sourceRoot":"../"}